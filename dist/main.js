(()=>{var e={633:e=>{var t;self,t=()=>(()=>{var e={8:function(e){e.exports=(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}e.d(t,{default:()=>d});var d=function(){function e(t){if(a(this,e),this.onListeners=new Map,this.onlyListeners=new Map,t){var r,o=n(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=new c;this.onListeners.set(i,s)}}catch(e){o.e(e)}finally{o.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return l(e,[{key:"on",value:function(e,t){var n=this.onListeners.get(e);if(n||(n=new c,this.onListeners.set(e,n)),n.addListenerFunc(t),this.onIntercepterFuncs)for(var o=0,i=Object.entries(this.onIntercepterFuncs);o<i.length;o++){var a=r(i[o],2),s=a[0];(0,a[1])({eventType:e,func:t,onIntercepterFuncname:s})}}},{key:"removeListener",value:function(e,t){var r=this.onListeners.get(e);r&&r.removeListener(t)}},{key:"only",value:function(e,t,r){var n=this.onlyListeners.get(e);n||(n=new u,this.onlyListeners.set(e,n)),n.putListenerFunc(t,r)}},{key:"pipe",value:function(e){this.childEventEmitters.push(e)}},{key:"emit",value:function(e,t){var r=this.onListeners.get(e);r&&(t.eventType=e,r.callListenerFunc(t));var o=this.onlyListeners.get(e);o&&(t.eventType=e,o.callListenerFunc(t));var i,a=n(this.childEventEmitters);try{for(a.s();!(i=a.n()).done;)i.value.emit(e,t)}catch(e){a.e(e)}finally{a.f()}}},{key:"getAllListeners",value:function(){var e={};this.onListeners.forEach((function(t,r){var n=r,o=t.getAllListeners();e[n]||(e[n]={}),e[n].listeners=o}));var t,r=0,o=n(this.childEventEmitters);try{for(o.s();!(t=o.n()).done;)t.value.onListeners.forEach((function(t,n){var o=n,i=t.getAllListeners();e[o]||(e[o]={}),e[o].childEventEmitters||(e[o].childEventEmitters=[]),e[o].childEventEmitters.push({childEmitterIdx:r,listeners:i})})),r++}catch(e){o.e(e)}finally{o.f()}return e}},{key:"hasListenerFuncs",value:function(e){if(this.onListeners.has(e)){var t=this.onListeners.get(e);if(t&&t.hasListenerFunc())return!0}var r,o=n(this.childEventEmitters);try{for(o.s();!(r=o.n()).done;)if(r.value.hasListenerFuncs(e))return!0}catch(e){o.e(e)}finally{o.f()}return!1}},{key:"clearAll",value:function(){var e,t=n(this.onListeners.values());try{for(t.s();!(e=t.n()).done;)e.value.clearAll()}catch(e){t.e(e)}finally{t.f()}this.onListeners.clear();var r,o=n(this.onlyListeners.values());try{for(o.s();!(r=o.n()).done;)r.value.clearAll()}catch(e){o.e(e)}finally{o.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(e,t){if(this.onIntercepterFuncs[e])throw Error('Always registered intercepter func "'.concat(e,'".'));this.onIntercepterFuncs[e]=t}},{key:"removeOnIntercepterFunc",value:function(e){delete this.onIntercepterFuncs[e]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var e=[],t=0,n=Object.entries(this.onIntercepterFuncs);t<n.length;t++){var o=r(n[t],2),i=o[0],a=o[1];e.push({funcName:i,func:a})}return e}}]),e}(),c=function(){function e(){a(this,e),this.listenerFuncs=[]}return l(e,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(e){this.listenerFuncs.push(e)}},{key:"callListenerFunc",value:function(e){var t,r=n(this.listenerFuncs);try{for(r.s();!(t=r.n()).done;){var o=t.value;if("Function"!==this.typeOf(o)&&"AsyncFunction"!==this.typeOf(o))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function ( is type of A "'.concat(this.typeOf(o),'" ). listenerFunction:"').concat(o,'".Check args of #only method or #on method.'));o(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"removeListener",value:function(e){this.removeArrayItemOnce(this.listenerFuncs,e)}},{key:"removeArrayItemOnce",value:function(e,t){var r=e.indexOf(t);return r>-1&&e.splice(r,1),e}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}(),u=function(){function e(){a(this,e),this.listenerFuncMap=new Map}return l(e,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(e){return this.listenerFuncMap.has(e)}},{key:"putListenerFunc",value:function(e,t){this.listenerFuncMap.set(e,t)}},{key:"callListenerFunc",value:function(e){var t,r=n(this.listenerFuncMap.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;if("Function"!==this.typeOf(o))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(o,'".Check args of #only method or #on method.'));o(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}();return t.default})()},212:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".jsframe-titlebar-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-titlebar-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-modal-window-background {\n    background: rgba(0, 0, 0, 0.6);\n    height: 100%;\n    widdth: 100%\n}",""]);const i=o},181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-material-default {\n    background: black;\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-material-focused {\n    background: black;\n    border-top-left-radius: 36px;\n    border-top-right-radius: 36px;\n}\n",""]);const i=o},369:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-popup-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-popup-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n",""]);const i=o},890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-redstone-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-redstone-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n",""]);const i=o},437:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-yosemite-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-yosemite-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n",""]);const i=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},94:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"default",(function(){return l}));var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.evTargetListenersMap=new Map,this.listenerNum=0}var t;return(t=[{key:"addEventListener",value:function(e,t,r,n){var o=this,i=null;if(n&&(i=this._cloneJson(n)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(i);var a=null;i&&i.listenerName&&(a=i.listenerName);var s=null;i&&i.once&&(delete i.once,i.callbackOnce=!0,s=function(n){r(n),o.removeEventListener(e,t,null,i)});var l={listenerName:null,success:!0};s?e.addEventListener(t,s,i):e.addEventListener(t,r,i);var d=this.evTargetListenersMap.get(e);d||(d=new Map,this.evTargetListenersMap.set(e,d));var c=d.get(t);if(c||(c=new Map,d.set(t,c)),null!==a){if(c.has(a))throw Error('The listenerName "'.concat(a,'" is already used for the specified event type ').concat(t));c.set(a,{listener:r,onceListener:s,options:i}),l.listenerName=a}else{var u="listener-".concat(this.listenerNum);i||(i={}),i.listenerName=u,c.set(u,{listener:r,onceListener:s,options:i}),l.listenerName=u,this.listenerNum+=1}return l}},{key:"removeEventListener",value:function(e,t,r,n){if(arguments.length<3)throw Error("Three or four arguments are required.");if("Function"!==this.typeOf(r)&&"Null"!==this.typeOf(r))throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(n);var o=null;n&&n.listenerName&&(o=n.listenerName);var i={success:!1,message:"unknown error"},a=this.evTargetListenersMap.get(e);if(!a)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have any listeners."),i;var s=a.get(t);if(!s)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listeners.'),i;if(o){var l=s.get(o);if(!l)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listener "').concat(o,'"'),i;s.delete(o),l.options&&l.options.callbackOnce?e.removeEventListener(t,l.onceListener,l.options):e.removeEventListener(t,l.listener,l.options),i.success=!0}else if(!o){if(!r)return i.message="options.listenerName is not found",i;var d=r,c=this._searchKeyInValueContent(s,"listener",d);if(c){var u=s.get(c),m=u.onceListener,p=u.options;s.delete(c),m?e.removeEventListener(t,m,p):e.removeEventListener(t,r,p),i.success=!0}else i.success=!1,i.message="Specified listener could not be deleted from DOM element ".concat(e,"(id=").concat(e.id,").\n        Since the specified listener is not registered as an event listener,\n        it may have been registered outside of event-listener-helper.")}return i}},{key:"getEventListeners",value:function(e,t){return e?t?this._getEventListenersWith2Args(e,t):this._getEventListenersWith1Arg(e):[]}},{key:"getAllEventListeners",value:function(){var e=this,t=new Map;return this.evTargetListenersMap.forEach((function(r,n){var o=n,a=e._getEventListenersWith1Arg(o),s=new Map;t.set(o,s);var l,d=i(a);try{for(d.s();!(l=d.n()).done;){var c=l.value;s.set(c.eventType,c.listeners)}}catch(e){d.e(e)}finally{d.f()}})),t}},{key:"_getEventListenersWith1Arg",value:function(e){var t=[],r=this.evTargetListenersMap.get(e);if(!r)return t;var n,a=i(r);try{for(a.s();!(n=a.n()).done;){var s,l=o(n.value,2),d=l[0],c=l[1],u=[],m=i(c.values());try{for(m.s();!(s=m.n()).done;){var p=s.value;u.push(this._getFrozenListenerDef(p))}}catch(e){m.e(e)}finally{m.f()}u.length>0&&t.push({eventType:d,listeners:u})}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"_getEventListenersWith2Args",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var r=[],n=this.evTargetListenersMap.get(e);if(!n)return r;var o=n.get(t);if(!o)return r;var a,s=i(o.values());try{for(s.s();!(a=s.n()).done;){var l=a.value,d=this._getFrozenListenerDef(l);r.push(d)}}catch(e){s.e(e)}finally{s.f()}return r}},{key:"getEventListener",value:function(e,t,r){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var n=this.evTargetListenersMap.get(e);if(!n)return null;var o=n.get(t);if(!o)return null;var i=o.get(r);return this._getFrozenListenerDef(i)}},{key:"hasEventListeners",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var r=this.evTargetListenersMap.get(e);if(!r)return!1;var n=r.get(t);return!(!n||0===n.size)}},{key:"hasEventListener",value:function(e,t,r){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var n=this.evTargetListenersMap.get(e);if(!n)return!1;var o=n.get(t);return!!o&&!!o.get(r)}},{key:"_getFrozenListenerDef",value:function(e){if(!e)return null;var t={},r=null,n=e.options;return n&&(r={},t.options=r,n.capture&&(r.capture=n.capture),n.callbackOnce&&(r.once=n.callbackOnce),n.listenerName&&(r.listenerName=n.listenerName)),t.listener=e.listener,Object.freeze(r),Object.freeze(t),t}},{key:"clearAllEventListeners",value:function(){var e,t=i(this.getAllEventTargets());try{for(t.s();!(e=t.n()).done;){var r=e.value;this.clearEventListeners(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"clearEventListeners",value:function(e,t){if(!e)throw Error("At least the EventTarget must be specified as an argument");var r=this.getEventListeners(e,t);if(t){if(t){var n,o=i(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.removeEventListener(e,t,null,a.options)}}catch(e){o.e(e)}finally{o.f()}}}else{var s,l=i(r);try{for(l.s();!(s=l.n()).done;){var d,c=s.value,u=c.eventType,m=i(c.listeners);try{for(m.s();!(d=m.n()).done;){var p=d.value.options;this.removeEventListener(e,u,null,p)}}catch(e){m.e(e)}finally{m.f()}}}catch(e){l.e(e)}finally{l.f()}}}},{key:"clearEventListener",value:function(e,t,r){var n=this.getEventListener(e,t,r);n&&n.options&&this.removeEventListener(e,t,null,n.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(e){var t,r=[],n=i(this.getAllEventTargets());try{for(n.s();!(t=n.n()).done;){var o,a=t.value,s=this.evTargetListenersMap.get(a),l=i(s.keys());try{for(l.s();!(o=l.n()).done;){var d=o.value,c=s.get(d),u=this._getFrozenListenerDef(c.get(e));u&&r.push(u)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"_searchKeyInValueContent",value:function(e,t,r){var n,a=i(e);try{for(a.s();!(n=a.n()).done;){var s=o(n.value,2),l=s[0];if(s[1][t]===r)return l}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"_checkTypeOfOptions",value:function(e){if("object"!==n(e)&&void 0!==e)throw"boolean"==typeof e?new Error("Type of boolean is not accepted as the fourth argument you specify.\n      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead."):new Error("Type of ".concat(n(e)," is not accepted as the fourth argument you specify.\n      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}."))}},{key:"_cloneJson",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()}]).default},886:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,r){var i=function(e){return e&&"object"===s(e)&&!Array.isArray(e)},a=r&&r.concatArray,d={};r&&r.assignToObject&&(d=r.assignToObject,r.assignToObject=null);var c,u,m,p=null;if(p=d===e?e:Object.assign(d,e),i(e)&&i(t))for(var h=0,f=Object.entries(t);h<f.length;h++){var g=o(f[h],2),y=g[0],v=g[1],b=e[y];a&&Array.isArray(v)&&Array.isArray(b)&&t!==e?p[y]=b.concat.apply(b,n(v)):i(v)&&Object.prototype.hasOwnProperty.call(e,y)?p[y]=l(b,v,r):Object.assign(p,(m=v,(u=y)in(c={})?Object.defineProperty(c,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[u]=m,c))}return p}function d(e){var t=null,r=null,n=e.op;if(!n)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var o="merge"===n,i="clone"===n,a="overwrite-merge"===n;if(o){if(t=e.object1,r=e.object2,!t||!r)throw Error("object1 or object2 is not specified.")}else if(a){if(t=e.object1,r=e.object2,!t||!r)throw Error("object1 or object2 is not specified.");if(0===Object.keys(r).length)return null}else{if(!i)throw Error('An invalid "op" property value "'.concat(n,'" has been specified.'));t=e.object1,r={}}var s,d=Object.create(Object.getPrototypeOf(t)),c=null,u=(s=t,Object.getPrototypeOf(s)!==Object.prototype);return o&&u||i?(l(t,t,{assignToObject:d,concatArray:e&&e.concatArray}),c=d):c={},l(i?c:t,r,{assignToObject:a?t:c,concatArray:e&&e.concatArray}),c}r.r(t),r.d(t,"default",(function(){return d}))}]).default},82:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(379),o=r.n(n),i=r(212);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},161:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(379),o=r.n(n),i=r(181);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},774:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(379),o=r.n(n),i=r(369);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},455:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(379),o=r.n(n),i=r(890);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(379),o=r.n(n),i=r(437);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},379:(e,t,r)=>{"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function a(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],d=r[l]||0,c="".concat(l," ").concat(d);r[l]=d+1;var u=a(c),m={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(m)):i.push({identifier:c,updater:f(m,t),references:1}),n.push(c)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function m(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,h=0;function f(e,t){var r,n,o;if(t.singleton){var i=h++;r=p||(p=l(t)),n=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else r=l(t),n=m.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=a(r[n]);i[o].references--}for(var l=s(e,t),d=0;d<r.length;d++){var c=a(r[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=l}}}},76:e=>{var t={LEFT_TOP:"LEFT_TOP",HCENTER_TOP:"CENTER_TOP",RIGHT_TOP:"RIGHT_TOP",LEFT_VCENTER:"LEFT_CENTER",HCENTER_VCENTER:"CENTER_CENTER"};t.CENTER=t.HCENTER_VCENTER,t.RIGHT_VCENTER="RIGHT_CENTER",t.LEFT_BOTTOM="LEFT_BOTTOM",t.HCENTER_BOTTOM="CENTER_BOTTOM",t.RIGHT_BOTTOM="RIGHT_BOTTOM",e.exports=t},704:(e,t,r)=>{"use strict";r(82);var n=r(8),o=r(76),i=r(295),a=r(171),s=r(970),l=r(260),d=r(243),c=r(94),u={yosemite:r(933),redstone:r(35),popup:r(182),toast:r(282),material:r(145)},m={yosemite:r(726)},p={};function h(e,t,r,n,o,i,a,s){var l=this;l.movable=!0,l.id=e,l.property={},l.extra={},l.parentCanvas=null,l.htmlElement=null,l.pullUpDisabled=!1,s&&(l.pullUpDisabled=s.pullUpDisabled),l.htmlElement=document.createElement(p.CBEAN.HTML_ELEMENT),l.htmlElement.id=p.CBEAN.HTML_ELEMENT_ID_PREFIX+e,l.htmlElement.style.position="absolute",l.htmlElement.style.left=parseInt(t,10)+"px",l.htmlElement.style.top=parseInt(r,10)+"px",l.htmlElement.style.width=parseInt(n,10)+"px",l.htmlElement.style.height=parseInt(o,10)+"px",null!==i&&(l.htmlElement.style.zIndex=i),l.htmlElement.style.borderColor="#000000",l.htmlElement.style.fontSize="1px",l.htmlElement.parent=l,l.htmlElement.onmousedown=l.onmouseDown,"ontouchstart"in window&&(l.htmlElement.ontouchstart=function(e){l.onmouseDown.bind(this)(e)}),l.htmlElement.typeName=p.CBEAN.TYPE_NAME,l.htmlElement.usage="nothing",l.htmlElement.isRangeLimited=!1,l.htmlElement.argX=1,l.htmlElement.argY=1,l.externalAreaClickedListener=null,l.onMoveListener=null}function f(e,t,r,n,o,i){var a=this;a.enablePullUp=!0,a.currentObject=null,a.onTopObject=null,a.offsetX=0,a.offsetY=0,a.mouseDownSource=null,a.id=t,a.canvasElement=null,a.parentElement=e,a.beanList=new Array,a.beanIdName={},a.beanNameId={},a.eventData=new function(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null},a.baseZIndex=0,a.setBaseZIndex=function(e){a.baseZIndex=e},a.getBaseZIndex=function(){return a.baseZIndex},a.canvasElement=document.createElement(p.CANVAS.HTML_ELEMENT),a.canvasElement.style.zIndex=2e3,a.canvasElement.id=a.id,a.canvasElement.style.boxSizing="border-box",a.canvasElement.style.position="absolute",a.canvasElement.style.left=parseInt(r)+"px",a.canvasElement.style.top=parseInt(n)+"px",a.canvasElement.style.width=parseInt(o)+p.CANVAS.WIDTH_ADJUST_20180722+"px",a.canvasElement.style.height=parseInt(i)+p.CANVAS.HEIGHT_ADJUST_20180722+"px",a.canvasElement.style.backgroundColor="transparent",a.canvasElement.style.borderStyle="none",a.canvasElement.style.margin="0px",a.canvasElement.style.borderWidth="0px",a.canvasElement.style.borderColor="transparent",a.parentElement.appendChild(a.canvasElement)}function g(e,t,r,n,i,a,s,l){var d=this;g.superConstructor.call(this,e,t,r,n,i,a,s,l),d.anchor=o.LEFT_TOP,d.showTitleBar=l.showTitleBar,d.canvasNetHeight=null,d.canvasNetWidth=null,d.frameHeightAdjust=l.frameHeightAdjust,d.frameComponentMap={},d.canvas=null,d.myCanvasId=null,d.floatingButton=null,d.titleBarClassNameDefault="jsframe-titlebar-default",d.titleBarClassNameFocused="jsframe-titlebar-focused",d.titleBarHeight=l.titleBarHeight,d.titleBarCaption=l.titleBarCaption,d.titleBarCaptionLeftMargin=l.titleBarCaptionLeftMargin,d.titleBarCaptionFontSize=l.titleBarCaptionFontSize,d.titleBarCaptionFontWeight=l.titleBarCaptionFontWeight,d.titleBarBorderBottomDefault=l.titleBarBorderBottomDefault,d.titleBarBorderBottomFocused=l.titleBarBorderBottomFocused,d.titleBarCaptionTextShadow=l.titleBarCaptionTextShadow,d.titleBarCaptionTextAlign=l.titleBarCaptionTextAlign,d.titleAdjustWidth=2,d.windowId=e,d.exBorderWidth=0,d.myCanvasId=e+"_canvas";var c=document.createElement("img");if(c.src="",c.style.position="absolute",c.style.left="2px",c.style.top="2px",c.style.width="16px",c.style.height="16px",c.style.visibility="hidden",d.titleBar=document.createElement("div"),d.titleBar.className="jsframetitlebar",d.showTitleBar){if(d.titleBar.id=e+"_title",d.titleBar.style.position="absolute",d.titleBar.style.boxSizing="border-box",d.titleBar.style.top="0px",d.titleBar.style.left="0px",d.titleBar.style.width=n-d.titleAdjustWidth+p.CANVAS.WIDTH_ADJUST_20180722+"px",d.titleBar.style.userSelect="none",d.titleBarHeight){var u=0;d.titleBarBorderBottomDefault&&(u=0),d.titleBar.style.height=parseInt(d.titleBarHeight,10)+0+"px"}d.titleBarColorDefault&&(d.titleBar.style.background=d.titleBarColorDefault),d.titleBar.style.zIndex=0,d.titleBar.style.color=d.titleBarCaptionColorDefault,d.titleBar.style.fontSize=d.titleBarCaptionFontSize,d.titleBar.style.fontWeight=d.titleBarCaptionFontWeight,d.titleBar.style.textShadow=d.titleBarCaptionTextShadow,d.titleBar.style.textAlign=d.titleBarCaptionTextAlign,d.titleBar.style.lineHeight=d.titleBar.style.height,d.titleBar.style.borderBottom=d.titleBarBorderBottomDefault,d.titleBar.style.overflow="hidden";var m=document.createTextNode(""),h=document.createElement("span");h.id=d.id+"_titleBarText",null!=d.titleBarCaptionLeftMargin?(h.style.position="absolute",h.style.left=parseInt(d.titleBarCaptionLeftMargin,10)+"px"):(h.style.position="absolute",h.style.left="0px",h.style.right="0px"),h.style.top="0px",h.appendChild(m),d.titleBar.appendChild(h)}d.htmlElement.appendChild(d.titleBar);var y=parseInt(d.titleBarHeight,10)-u,v=parseInt(d.titleAdjustWidth,10);d.showTitleBar||(y=0,v=0,u=0),d.canvasNetWidth=n-v,d.canvasNetHeight=i-y-v-1-u+d.frameHeightAdjust,d.htmlElement.style.cursor="move",d.canvas=new f(d.htmlElement,d.myCanvasId,0,y,n-v,i-y-v),d.canvas.enablePullUp=!1,d.canvas.canvasElement.style.backgroundColor=p.CFRAME.CANVAS_ELEMENT_BGCOLOR,d.canvas.canvasElement.style.cursor="default",d.canvas.canvasElement.onmousedown=d.canvasMouseDown,"ontouchstart"in window&&(d.canvas.canvasElement.ontouchstart=function(e){var t=e.changedTouches[0];d.canvasMouseDown.bind(this)(t)}),d.canvas.canvasElement.parentCFrame=d;var w,C,E,B=parseInt(d.canvas.canvasElement.style.width,10),x=parseInt(d.canvas.canvasElement.style.height,10),T=l.resizeAreaWidth,F=l.resizeAreaHeight,A=l.resizeAreaOffset;l.resizeAreaVisible&&(w="rgba(255, 0, 0, 0.5)",C="rgba(0, 0, 255, 0.5)",E="rgba(0, 255, 0, 0.5)");var S=new b(d.myCanvasId+"_RD",B+A,x+A,T,F,0,"RD",w);S.htmlElement.style.cursor="se-resize",S.htmlElement.argX=0,S.htmlElement.argY=0;var M=new b(d.myCanvasId+"_DD",0,x+A,B+A,F,0,"DD",C);M.htmlElement.style.cursor="n-resize",M.htmlElement.argX=0,M.htmlElement.argY=0;var _=new b(d.myCanvasId+"_RR",B+A,0,T,x+A,0,"RR",E);for(var k in _.htmlElement.style.cursor="w-resize",_.htmlElement.argY=0,_.htmlElement.argX=0,d.canvas.addBean(S),d.canvas.addBean(M),d.canvas.addBean(_),d.removeMarkers=function(){d.canvas.removeBean(S.id),d.canvas.removeBean(M.id),d.canvas.removeBean(_.id),d.htmlElement.style.cursor="default"},d.removeMarkers2=function(){d.canvas.removeBean(S.id),d.canvas.removeBean(M.id),d.canvas.removeBean(_.id)},d.enableMarkers=function(e){e?(S.htmlElement.style.display="flex",M.htmlElement.style.display="flex",_.htmlElement.style.display="flex",S.htmlElement.style.cursor="se-resize",M.htmlElement.style.cursor="n-resize",_.htmlElement.style.cursor="w-resize"):(S.htmlElement.style.display="none",M.htmlElement.style.display="none",_.htmlElement.style.display="none")},l.frameComponents){var I=l.frameComponents[k];I.setFrame(d),"closeButton"==I.id&&(I.htmlElement.onclick=d.close),I.htmlElement.querySelector(".jsframe-child-menu")&&d.eventListenerHelper.addEventListener(I.htmlElement,"click",(function(e){var t=e.target.getAttribute("component-id");if(d.hideFrameComponentChildMenus({exceptFrameComponentId:t}),t){var r=d.getFrameComponentElement(t).querySelector(".jsframe-child-menu");r&&("table"==r.style.display?r.style.display="none":r.style.display="table")}}),{listenerName:"frame-component_child-menu-listener"}),d.addFrameComponent(I)}d.htmlElement.style.backgroundColor="transparent",d.htmlElement.oncontextmenu=this.contextMenu,d.caribValue=0,d.exBorderWidth&&(d.htmlElement.style.borderWidth=d.exBorderWidth+"px"),d.htmlElement.style.width=parseInt(d.htmlElement.style.width,10)-0+"px",d.htmlElement.style.height=parseInt(d.htmlElement.style.height,10)-0+1+"px",d.htmlElement.typeName="cwindow",d.htmlElement.overflow="auto",d.htmlElement.style.boxSizing="content-box",l.frameBorderStyle&&(d.htmlElement.style.borderStyle=l.frameBorderStyle),l.frameBoxShadow&&(d.htmlElement.style.boxShadow=l.frameBoxShadow),parseInt(l.frameBorderWidthDefault,10)>=0&&(d.htmlElement.style.borderWidth=l.frameBorderWidthDefault,d.htmlElement.style.borderColor=l.frameBorderColorDefault),parseInt(l.frameBorderRadius,10)>=0&&(d.htmlElement.style.borderRadius=l.frameBorderRadius),d.onCloseFrameListener=null}function y(e,t,r,o,i,a){var s=t,l=r,d=o,u=i,m=a.zindex,p=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new c,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=a.titleBarColorFocused,this.titleBarColorDefault=a.titleBarColorDefault,this.titleBarCaptionColorDefault=a.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=a.titleBarCaptionColorFocused,y.superConstructor.call(p,e,s,l,d,u,m,null,a),p.frameBorderColorDefault=a.frameBorderColorDefault,p.frameBorderColorFocused=a.frameBorderColorFocused,p.frameBorderWidthDefault=a.frameBorderWidthDefault,p.frameBorderWidthFocused=a.frameBorderWidthFocused,p.iframe=null,p.ifDelta=0,p.resizable=!0,p.onMouseMoveOnIframe=null,p.onMouseUpOnIframe=null,p._hasFocus=!1,p._hasFocusTime=0,p.htmlElement.typeName="cifwindow";var h="riversun_"+e;p.dframe=document.createElement("div"),p.iframe=document.createElement("iframe"),p.iframe.name=h,p.iframe.id=h,p.iframe.frameBorder="0",p.iframe.zIndex=-1,p.iframe.allowTransparency="true",p.iframe.width=p.canvasNetWidth-p.ifDelta+0,p.iframe.height=p.canvasNetHeight-p.ifDelta+0,p.showTitleBar=a.showTitleBar,p.getFrameInnerBorderRadius=a.getFrameInnerBorderRadius,p.frameBorderRadius=a.frameBorderRadius,p.adjustFrameBorderRadius(),p.useIframe=!1,p.canvas.canvasElement.appendChild(p.iframe),p.canvas.canvasElement.appendChild(p.dframe),this.setUseIframe=function(e){p.useIframe=e,p.iframe.style.visibility="hidden",p.iframe.style.position="absolute",p.iframe.style.left="0px",p.iframe.style.top="0px",p.iframe.style.width="100%",p.iframe.style.height="100%",p.dframe.style.visibility="hidden",p.dframe.style.position="absolute",p.dframe.style.left="0px",p.dframe.style.boxSizing="content-box",p.dframe.style.top="0px",p.dframe.style.width="100%",p.dframe.style.height="100%",p.dframe.style.backgroundColor="white",e?(p.iframe.style.visibility="visible",p.dframe.style.visibility="hidden"):(p.iframe.style.visibility="hidden",p.dframe.style.visibility="visible")},p.setUseIframe(a.useIframe),(p.overrayTransparentScreenEnabled||p.overrayTransparentScreenOnResize)&&(p.transparence=document.createElement("span"),p.transparence.style.position="absolute",p.transparence.style.left="0px",p.transparence.style.top="0px",p.transparence.style.width="0px",p.transparence.style.height="0px",p.transparence.style.zIndex=4,p.transparence.style.borderWidth="0px",p.transparence.style.borderColor="#ff00ee",p.transparence.style.borderStyle="none",p.transparence.style.cursor="default",p.transparence.style.pointerEvents="none",p.canvas.canvasElement.style.backgroundColor=a.frameBackgroundColor,p.canvas.canvasElement.appendChild(p.transparence)),p.eventEmitter=new n,p.appearance=a}function v(e,t,r,n,o,i){v.superConstructor.call(this,e,t,r,n,o,i);var a=this;document.addEventListener("click",(function(e){for(var t in a.beanList)a.beanList[t].onBodyClicked(e)}))}function b(e,t,r,n,o,i,a,s){var l=this;b.superConstructor.call(this,e,t,r,n,o,i,a),l.htmlElement.typeName="cmarkerwindow",l.htmlElement.usage=a,l.htmlElement.isRangeLimited=!1,l.htmlElement.style.borderStyle="none",l.htmlElement.style.zIndex=1,s&&(l.htmlElement.style.background=s),l.getWindowType=function(){return"CMarkerWindow"}}function w(e){var t,r=this,n=null;function o(e){r.windowManager.windowMouseUp(e)}function i(e){r.windowManager.windowMouseMove(e)}r.isWindowManagerFixed=!0,e&&0==e.fixed&&(r.isWindowManagerFixed=!1),e&&e.parentElement&&(n=e.parentElement),r.hAlign="left",r.vAlign="top",e&&e.horizontalAlign&&(r.hAlign=e.horizontalAlign),e&&e.verticalAlign&&(r.vAlign=e.verticalAlign),r.pullToRefresh=!1,e&&"boolean"==typeof e.pullToRefresh&&(r.pullToRefresh=e.pullToRefresh),r.touchActionManipulation=!0,e&&"boolean"==typeof e.touchActionManipulation&&(r.touchActionManipulation=e.touchActionManipulation),n?r.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+r.generateUUID(),t.setAttribute("style","position:fixed;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),n.appendChild(t)):((t=document.createElement("div")).id="jsFrame_absolute_"+r.generateUUID(),t.setAttribute("style","position:absolute;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),n.appendChild(t)):r.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+r.generateUUID(),t.setAttribute("style","position:fixed;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),n=t):((t=document.createElement("div")).id="jsFrame_absolute_"+r.generateUUID(),t.setAttribute("style","position:absolute;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),n=t),document.addEventListener("mouseup",o),document.addEventListener("mousemove",i),"ontouchend"in window&&document.addEventListener("touchend",(function(e){o.bind(this)(e)})),"ontouchmove"in window&&(r.touchActionManipulation&&r.doEnableTouchActionManipulation(),r.pullToRefresh||r.doDisablePullToRefresh(),document.addEventListener("touchmove",(function(e){e.preventDefault(),i.bind(this)(e)}))),r.windowManager=new v(n,"windowManager_"+r.generateUUID(),0,0,0,0),r.domPartsBuilder=null}p.CBEAN={},p.CBEAN.HTML_ELEMENT="span",p.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",p.CBEAN.TYPE_NAME="bean",h.prototype.getWindowType=function(){return"CBeanFrame"},h.prototype.setOnMoveListener=function(e){this.onMoveListener=e},h.prototype._onMove=function(e){this.onMoveListener&&this.onMoveListener(e)},h.prototype.setMovable=function(e){var t=this;return e?(t.htmlElement.argX=1,t.htmlElement.argY=1):(t.htmlElement.argX=0,t.htmlElement.argY=0),t.movable=e,t},h.prototype.setParentCanvas=function(e){var t=this;return t.parentCanvas=e,t.htmlElement.parentCanvas=t.parentCanvas,t},h.prototype.setOnExternalAreaClickedListener=function(e){return this.externalAreaClickedListener=e,this},h.prototype.onBodyClicked=function(e){var t=this,r=e.pageX,n=e.pageY,o=parseInt(t.htmlElement.style.left),i=parseInt(t.htmlElement.style.top),a=parseInt(t.htmlElement.style.width),s=parseInt(t.htmlElement.style.height);o<r&&r<o+a&&i<n&&n<i+s||t.externalAreaClickedListener&&t.externalAreaClickedListener()},h.prototype.onmouseDown=function(e){var t=this,r=e;if("touchstart"===e.type){var n=e.changedTouches;if(1!==e.touches.length)return!0;r=n[0]}var o=t.parent;if(0==r.button||"touchstart"===e.type){if(o.pullUpDisabled)return!1;t.parentCanvas.currentObject=t,t.parentCanvas.pullUp(o.id)}else if(2==r.button)return!1;return t.parentCanvas.currentObject&&(t.parentCanvas.offsetX=r.pageX-parseInt(t.parentCanvas.currentObject.style.left,10),t.parentCanvas.offsetY=r.pageY-parseInt(t.parentCanvas.currentObject.style.top,10)),!1},p.CANVAS={},p.CANVAS.HTML_ELEMENT="div",p.CANVAS.WIDTH_ADJUST_20180722=2,p.CANVAS.HEIGHT_ADJUST_20180722=3,f.prototype.mouseMove=function(e){var t=this,r=e;if("touchmove"===e.type){var n=e.changedTouches;if(1!==e.touches.length)return!0;r=n[0]}if(t.currentObject){t.eventData.targetTypeName=t.currentObject.typeName,t.eventData.targetUsage=t.currentObject.usage,t.eventData.targetObject=t.currentObject;var o=r.pageX-t.offsetX,i=r.pageY-t.offsetY,a=(r.pageX,r.pageY,t.currentObject.style.left),s=t.currentObject.style.top,l=parseInt(o,10),d=parseInt(i,10),c=l+parseInt(t.currentObject.style.width,10),u=d+parseInt(t.currentObject.style.height,10),m=parseInt(t.canvasElement.style.width,10),p=parseInt(t.canvasElement.style.height,10),h=0,f=0;if(1==t.currentObject.isRangeLimited&&(l<=0||c>m||d<=0||u>p))h=0,f=0;else{h=parseInt(o,10)-parseInt(a,10),f=parseInt(i,10)-parseInt(s,10),t.currentObject.style.left=parseInt(t.currentObject.style.left)+h*t.currentObject.argX+"px",t.currentObject.style.top=parseInt(t.currentObject.style.top)+f*t.currentObject.argY+"px";var g=t.currentObject.parent;g&&g._onMove&&g._onMove()}return t.eventData.deltaX=h,t.eventData.deltaY=f,t.eventData}return null},f.prototype.mouseUp=function(e){this.currentObject=null,this.mouseDownSource=null},f.prototype.pullUp=function(e){var t=this,r=[],n=t.beanList;for(var o in n)r.push(n[o]);var i=n[e];t.enablePullUp&&t.pullUpSort(i,r,t.baseZIndex),t.onTopObject=i},f.prototype.pullUpSort=function(e,t,r){for(var n in e.htmlElement.style.zIndex=t.length+r,t.sort((function(e,t){return-parseInt(e.htmlElement.style.zIndex,10)+parseInt(t.htmlElement.style.zIndex,10)})),t)t[n].htmlElement.style.zIndex=t.length-1-n+r},f.prototype.removeBean=function(e){var t=this.beanList,r=t[e];this.canvasElement.removeChild(r.htmlElement),delete t[e]},f.prototype.addBean=function(e){var t=this,r=t.beanList,n=t.beanIdName,o=t.beanNameId;r[e.id]=e,e.property.name&&(o[e.property.name]=e.id,n[e.id]=e.property.name);var i=0;for(var a in r)i++;e.htmlElement.style.zIndex=i+t.baseZIndex,e.setParentCanvas(t),this.canvasElement.appendChild(e.htmlElement)},f.prototype.getParentElement=function(){return this.parentElement},p.CFRAME={},p.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",p.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",a(g,h),g.prototype.setTitleBarClassName=function(e,t){var r=this;return e&&(r.titleBarClassNameDefault=e,r.titleBarClassNameFocused=e),t&&(r.titleBarClassNameFocused=t),r},g.prototype.addFrameComponent=function(e){var t=this;return t.frameComponentMap[e.id]=e,t.canvas.canvasElement.appendChild(e.htmlElement),t},g.prototype.getFrameComponentElement=function(e){return this.frameComponentMap[e]?this.frameComponentMap[e].htmlElement:null},g.prototype.removeFrameComponentById=function(e){var t=this,r=t.frameComponentMap[e];t.canvas.canvasElement.removeChild(r.htmlElement),delete t.frameComponentMap[e]},g.prototype.showFrameComponent=function(e,t){var r=this.getFrameComponentElement(e);return r&&(r.style.display=t||"flex"),this},g.prototype.hideFrameComponent=function(e){var t=this.getFrameComponentElement(e);return t&&(t.style.display="none"),this},g.prototype.hideAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t].htmlElement;"none"===r.style.display&&(r._alreadyNone=!0),r.style.display="none"}},g.prototype.showAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t].htmlElement;r._alreadyNone?r._alreadyNone=null:r.style.display="flex"}},g.prototype.hideFrameComponentChildMenus=function(e){var t=this.frameComponentMap;for(var r in t)if(t.hasOwnProperty(r)){if(e&&e.exceptFrameComponentId&&r===e.exceptFrameComponentId)continue;var n=t[r];n.childMenu&&(n.childMenu.style.display="none")}},g.prototype.setTitle=function(e){var t=this;if(t.title=e,t.showTitleBar){var r=document.createTextNode(e);t.titleBar.firstChild.replaceChild(r,t.titleBar.firstChild.firstChild)}return t},g.prototype.resize=function(e,t,r,n){var o=this,i=parseInt(o.htmlElement.style.left,10),a=parseInt(o.htmlElement.style.top,10),s=parseInt(o.htmlElement.style.width,10),l=parseInt(o.htmlElement.style.height,10);o.htmlElement.style.left=parseInt(i+e,10)+"px",o.htmlElement.style.top=parseInt(a+t,10)+"px",o.htmlElement.style.width=parseInt(s+r,10)+"px",o.htmlElement.style.height=parseInt(l+n,10)+"px";var d=parseInt(o.canvas.canvasElement.style.width,10),c=parseInt(o.canvas.canvasElement.style.height,10);for(var u in o.canvas.canvasElement.style.width=d+r+"px",o.canvas.canvasElement.style.height=c+n+"px",o.showTitleBar&&(o.titleBar.style.width=d+r+"px"),o.canvas.beanList){var m=o.canvas.beanList[u];"cmarkerwindow"==m.htmlElement.typeName&&("RD"==m.htmlElement.usage?(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+r+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+n+"px"):"DD"==m.htmlElement.usage?(m.htmlElement.style.width=parseInt(m.htmlElement.style.width,10)+r+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+n+"px"):"RR"==m.htmlElement.usage&&(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+r+"px",m.htmlElement.style.height=parseInt(m.htmlElement.style.height,10)+n+"px"))}},g.prototype.canvasMouseDown=function(e){null==this.parentCFrame.parentCanvas.mouseDownSource&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},g.prototype.mouseUp=function(e){this.canvas.mouseUp(e)},g.prototype.close=function(e){var t=this.parentObject.parentCanvas,r=this.parentObject,n=r.id;r.closeInternally(e,t,n)},g.prototype.closeFrame=function(e){var t=this.parentCanvas;this.closeInternally(e,t,this.windowId)},g.prototype.closeInternally=function(e,t,r){var n=this;t&&(t.removeBean(r),n.modalBackgroundWindowId&&(t.removeBean(n.modalBackgroundWindowId),n.modalBackgroundWindowId=null),n.onCloseFrameListener&&n.onCloseFrameListener(n))},g.prototype.setOnCloseFrameListener=function(e){this.onCloseFrameListener=e},g.prototype.contextMenu=function(){return!1},g.prototype.setTitleBarTextColor=function(e){this.titleBar.style.color=e},g.prototype.setPosition=function(e,t,r){var n=this,o=n.getWidth(),i=n.getHeight();return n._setPositionInternally(e,t,r,o,i),n},g.prototype._setPositionInternally=function(e,t,r,n,i){var a=this;r&&(a.anchor=r),r&&o.LEFT_TOP!=r?o.HCENTER_TOP==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=t+"px"):o.RIGHT_TOP==r?(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=t+"px"):o.LEFT_VCENTER==r?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.HCENTER_VCENTER==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.RIGHT_VCENTER==r?(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.LEFT_BOTTOM==r?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-i+t+"px"):o.HCENTER_BOTTOM==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=-i+t+"px"):o.RIGHT_BOTTOM==r&&(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=-i+t+"px"):(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=t+"px")},g.prototype.getPosition=function(){var e,t,r=this,n=r.getWidth(),i=r.getHeight(),a=r.anchor;return a&&o.LEFT_TOP!=a?o.HCENTER_TOP==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)):o.RIGHT_TOP==a?(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)):o.LEFT_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)+i/2):o.HCENTER_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)+i/2):o.RIGHT_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)+i/2):o.LEFT_BOTTOM==a?(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)+i):o.HCENTER_BOTTOM==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)+i):o.RIGHT_BOTTOM==a&&(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)+i):(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)),{x:e,y:t,anchor:a}},g.prototype.getLeft=function(){return parseInt(this.htmlElement.style.left,10)},g.prototype.getTop=function(){return parseInt(this.htmlElement.style.top,10)},g.prototype.getWidth=function(){return parseInt(this.htmlElement.style.width,10)},g.prototype.getHeight=function(){return parseInt(this.htmlElement.style.height,10)},g.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}},g.prototype.setSize=function(e,t,r){var n=this,o=!0;return r&&(o=!1),n.resize(0,0,e-n.getWidth(),t-n.getHeight(),o),n},g.prototype.getWindowId=function(){return this.windowId},g.prototype.getName=function(){return this.property.name},g.prototype.setName=function(e){this.property.name=e},a(y,g),y.prototype.getFrameView=function(){return this.dframe},y.prototype.getFrameAppearance=function(){return this.appearance},y.prototype.setHTML=function(e){this.dframe.innerHTML=e},y.prototype.setFrameInFrame=function(e){var t=this,r=t.dframe?t.dframe.firstChild:null;r&&(Date.now||(Date.now=function(){return(new Date).getTime()}),e?t.eventEmitter.only("resize","fif-listener",(function(){r.setAttribute(i.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())})):(r.removeAttribute(i.MATCH_PARENT_CHANGE_MARKER_ATTR),t.eventEmitter.only("resize","fif-listener",(function(){}))))},y.prototype.$=function(e){var t=this;return t.useIframe?t.iframe.contentWindow.document.querySelector(e):t.dframe.querySelector(e)},y.prototype.on=function(e,t,r){var n=this,o=n.getFrameComponentElement(e);o&&n.eventListenerHelper.addEventListener(o,t,(function(o){r(n,o,{type:"frameComponent",id:e,eventType:t})}),{listenerName:"frame-component-listener"}),"frame"!==e&&"window"!==e||("move"!==t||n.eventEmitter.hasListenerFuncs("move")||n.setOnMoveListener((function(e){n.eventEmitter.emit("move",n._getCurrentSizePos())})),n.eventEmitter.on(t,r));var i=n.$(e);if(i&&(n.eventListenerHelper.hasEventListener(i,t,"frame-dom-listener")&&n.eventListenerHelper.removeEventListener(i,t,null,{listenerName:"frame-dom-listener"}),n.eventListenerHelper.addEventListener(i,t,(function(o){r(n,o,{type:"dom",id:e,eventType:t})}),{listenerName:"frame-dom-listener"})),!i){var a=n.canvas.canvasElement.querySelector(e);a&&a.addEventListener(t,(function(o){r(n,o,{type:"dom",id:e,eventType:t})}))}},y.prototype.adjustFrameBorderRadius=function(){var e=this;if(parseInt(e.frameBorderRadius,10)>0){var t=e.getFrameInnerBorderRadius(e,e._hasFocus),r=t.frameAppearance,n=t.innerBorderRadius,o=parseInt(r.titleBarHeight,10);e.showTitleBar?(e.canvas.canvasElement.style.borderBottomRightRadius=n,e.canvas.canvasElement.style.borderBottomLeftRadius=n,e.iframe.style.borderBottomRightRadius=n,e.iframe.style.borderBottomLeftRadius=n,e.titleBar.style.borderTopLeftRadius=n,e.titleBar.style.borderTopRightRadius=n):(e.canvas.canvasElement.style.borderRadius=n,e.iframe.style.borderRadius=n),e.dframe&&(0===o&&(e.dframe.style.borderTopRightRadius||(e.dframe.style.borderTopRightRadius=n),e.dframe.style.borderTopLeftRadius||(e.dframe.style.borderTopLeftRadius=n)),e.dframe.style.borderBottomRightRadius=n,e.dframe.style.borderBottomLeftRadius=n)}},y.prototype.handleReleasingFocus=function(e){var t=this,r=t._hasFocus;for(var n in t._hasFocus=!1,t.titleBar.className=t.titleBarClassNameDefault,t.titleBarColorDefault&&(t.titleBar.style.background=t.titleBarColorDefault),t.titleBar.style.color=t.titleBarCaptionColorDefault,t.frameBorderColorDefault&&(t.htmlElement.style.borderColor=t.frameBorderColorDefault),t.frameBorderWidthDefault&&(t.htmlElement.style.borderWidth=t.frameBorderWidthDefault,t.adjustFrameBorderRadius()),"cifwindow"==t.htmlElement.typeName&&t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width,10)+"px",t.transparence.style.height=parseInt(t.iframe.height,10)+"px"),t.frameComponentMap)t.frameComponentMap[n].handleReleasingFocus();return t.titleBarBorderBottomDefault&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomDefault),r&&t.eventEmitter.emit("blur",{target:t}),t},y.prototype.handleTakingFocus=function(e){var t=this,r=t._hasFocus;for(var n in t._hasFocus=!0,t._hasFocus=Date.now(),t.overrayTransparentScreenEnabled&&(t.transparence.style.width="0px",t.transparence.style.height="0px"),t.titleBar.className=t.titleBarClassNameFocused,t.titleBarColorFocused&&(t.titleBar.style.background=t.titleBarColorFocused),t.titleBar.style.color=t.titleBarCaptionColorFocused,t.frameBorderColorFocused&&(t.htmlElement.style.borderColor=t.frameBorderColorFocused),t.frameBorderWidthFocused&&(t.htmlElement.style.borderWidth=t.frameBorderWidthFocused,t.adjustFrameBorderRadius()),t.titleBarBorderBottomFocused&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomFocused),t.frameComponentMap)t.frameComponentMap[n].handleTakingFocus();return r||t.eventEmitter.emit("focus",{target:t}),t},g.prototype.show=function(e){var t=this;return t.htmlElement.style.display="flex",e&&0==e.requestFocus||t.requestFocus(),t},g.prototype.showModal=function(e){var t=this,r=new s;r.showTitleBar=!0,r.showCloseButton=!1,r.frameBorderRadius="0px",r.frameBorderStyle="none",r.frameBorderWidthDefault="0px",r.frameBorderWidthFocused="0px",r.frameBoxShadow=null,r.frameBackgroundColor="transparent",r.frameComponents=[],r.frameHeightAdjust=0,r.titleBarHeight="0px",r.titleBarBorderBottomFocused=null,r.titleBarCaptionLeftMargin="0px",r.onInitialize=function(){},r.pullUpDisabled=!0;var n=t.parentCanvas,o=p.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+t.id,i=new y(o,0,0,1,1,r);i.setSize(window.innerWidth,window.innerHeight,!0),i.setResizable(!1),window.addEventListener("resize",(function(){i.setSize(window.innerWidth,window.innerHeight,!0)})),t.modalBackgroundWindowId=o,i.hide(),n.addWindow(i),i.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',i.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",i.show(),t.show(),e&&t.setOnCloseFrameListener(e)},g.prototype.getWindowManager=function(){return this.parentCanvas},y.prototype.hide=function(){return this.htmlElement.style.display="none",this},y.prototype.onmouseDown=function(e){var t=this;document.body.ondrag=function(){return!1},t.decorator=g.prototype.onmouseDown,t.decorator(e);var r=t.parent,n=t.parentCanvas;for(var o in n.beanList){var i=n.beanList[o];o==r.getWindowId()||i.handleReleasingFocus()}r.handleTakingFocus()},y.prototype.mouseUp=function(e){var t=this;(t.overrayTransparentScreenEnabled||t.overrayTransparentScreenOnResize)&&(t.parentCanvas.onTopObject==t?(t.transparence.style.width="0px",t.transparence.style.height="0px"):t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width)+"px",t.transparence.style.height=parseInt(t.iframe.height)+"px")),t.decorator=g.prototype.mouseUp,t.decorator(e),document.body.ondrag=null,document.body.onselectstart=null,t.transparence.style.pointerEvents="none"},y.prototype.setMinFrameSize=function(e,t){this.minFrameWidth=e,this.minWindowHeight=t},y.prototype.resize=function(e,t,r,n,o){var i=this;if(!i.resizable&&o)return null;var a=i.getSize(),s=parseInt(i.htmlElement.style.left,10),l=parseInt(i.htmlElement.style.top,10),d=parseInt(i.htmlElement.style.width,10),c=parseInt(i.htmlElement.style.height,10);o&&d+r<i.minFrameWidth&r<0&&(i.htmlElement.style.width=d+"px",r=0),o&&c+n<i.minWindowHeight&n<0&&(i.htmlElement.style.height=c+"px",n=0),i.htmlElement.style.left=s+e+"px",i.htmlElement.style.top=l+t+"px",i.htmlElement.style.width=d+r+"px",i.htmlElement.style.height=c+n+"px";var u=parseInt(i.canvas.canvasElement.style.width,10),m=parseInt(i.canvas.canvasElement.style.height,10);for(var p in i.canvas.canvasElement.style.width=u+r+"px",i.canvas.canvasElement.style.height=m+n+"px",i.titleBar.style.width=u-i.ifDelta+r+0+"px",i.iframe.width=u-i.ifDelta+r+0+"px",i.iframe.height=m-i.ifDelta+n+i.frameHeightAdjust+"px",(i.overrayTransparentScreenEnabled||i.overrayTransparentScreenOnResize)&&(i.transparence.style.width=parseInt(i.iframe.width)+"px",i.transparence.style.height=parseInt(i.iframe.height)+"px"),i.frameComponentMap)i.frameComponentMap[p].updateAlign();for(var h in i.canvas.beanList){var f=i.canvas.beanList[h];"cmarkerwindow"==f.htmlElement.typeName&&("RD"==f.htmlElement.usage?(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+n+"px"):"DD"==f.htmlElement.usage?(f.htmlElement.style.width=parseInt(f.htmlElement.style.width)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+n+"px"):"RR"==f.htmlElement.usage&&(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+r+"px",f.htmlElement.style.height=parseInt(f.htmlElement.style.height)+n+"px"))}var g=i.getSize();a.width===g.width&&a.height===g.height||i.eventEmitter.emit("resize",i._getCurrentSizePos())},y.prototype._getCurrentSizePos=function(){var e=this,t=e.getSize(),r=e.getPosition();return{target:e,pos:r,size:t}},y.prototype.resizeDirect=function(e,t,r){var n=this;if(!n.resizable&&r)return null;for(var o in n.htmlElement.style.width=e+"px",n.htmlElement.style.height=t+"px",parseInt(n.canvas.canvasElement.style.width),parseInt(n.canvas.canvasElement.style.height),n.canvas.canvasElement.style.width=e+"px",n.canvas.canvasElement.style.height=t-n.titleBar.style.height+"px",n.titleBar.style.width=e-n.ifDelta+"px",n.iframe.width=e-n.ifDelta+"px",n.iframe.height=t-n.ifDelta+n.frameHeightAdjust+"px",(n.overrayTransparentScreenEnabled||n.overrayTransparentScreenOnResize)&&(n.transparence.style.width=parseInt(n.iframe.width)+"px",n.transparence.style.height=parseInt(n.iframe.height)+"px"),n.frameComponentMap)n.frameComponentMap[o].updateAlign();for(var i in n.canvas.beanList){var a=n.canvas.beanList[i];"cmarkerwindow"==a.htmlElement.typeName&&("RD"==a.htmlElement.usage?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=t+"px"):"DD"==a.htmlElement.usage?(a.htmlElement.style.width=e+"px",a.htmlElement.style.top=t+"px"):"RR"==a.htmlElement.usage&&(a.htmlElement.style.left=e+"px",a.htmlElement.style.height=t+"px"))}},y.prototype.requestFocus=function(){var e=this,t=e.parentCanvas.beanList;for(var r in t){var n=t[r];r==e.getWindowId()?n.handleTakingFocus():n.handleReleasingFocus()}e.parentCanvas.pullUp(e.id)},y.prototype.setUrl=function(e){var t=this;return new Promise((function(r,n){e?t.setUseIframe(!0):(t.setUseIframe(!1),r()),t.iframe.src=e,t.iframe.onload=function(){var e=function(e){var r=e.pageX,n=e.pageY;if("touchmove"===e.type){var o=e.changedTouches;if(1!==e.touches.length)return!0;r=o[0].pageX,n=o[0].pageY}var i=t.getLeft(),a=t.getTop(),s=document.createEvent("MouseEvents");s.initMouseEvent("mousemove",!0,!1,window,e.detail,e.screenX,e.screenY,r+i,n+a,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseMove(s),t.onMouseMoveOnIframe&&t.onMouseMoveOnIframe(s)};t.iframe.contentWindow.document.onmousemove=e,t.iframe.contentWindow.document.ontouchmove=e;var n=function(e){var r=e.pageX,n=e.pageY;if("touchend"===e.type){var o=e.changedTouches;r=o[0].pageX,n=o[0].pageY}var i=t.getLeft(),a=t.getTop(),s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!1,window,e.detail,e.screenX,e.screenY,r+i,n+a,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseUp(s),t.onMouseUpOnIframe&&t.onMouseUpOnIframe(s)};t.iframe.contentWindow.document.onmouseup=n,t.iframe.contentWindow.document.ontouchend=n,r(t,t.iframe.contentWindow.document)}}))},y.prototype.getIfDocument=function(){return this.iframe.contentWindow.document},y.prototype.setScrolling=function(e){this.iframe.scrolling=e},y.prototype.getScrolling=function(e){return this.iframe.scrolling},y.prototype.setResizable=function(e){var t=this;return t.resizable=e,t.enableMarkers(e),t},y.prototype.setControl=function(e){var t=this;e&&(e.frame=t,t.control=t.jsFrame.createWindowEventHelper(e),t.control.setupDefaultEvents())},a(v,f),v.prototype.getWindow=function(e){return this.beanList[e]},v.prototype.addWindow=function(e){var t=this,r=e.getWindowId(),n=e.getName();t.beanIdName[r]=n,t.beanNameId[n]=r,t.addBean(e)},v.prototype.containsWindowName=function(e){return!!this.beanNameId[e]},v.prototype.getWindowByName=function(e){var t=this.beanNameId[e];return t?this.getWindow(t):null},v.prototype.windowMouseMove=function(e){var t=this;if(null==t.currentObject)return null;var r=!1,n=t.beanList;for(var o in n){var i=n[o],a=i.canvas.mouseMove(e);if(r|=null!=a,null!=a&&"cmarkerwindow"==a.targetTypeName){var s=a.targetObject;i.transparence.style.pointerEvents="auto","RD"==s.usage?i.resize(0,0,a.deltaX,a.deltaY,!0):"DD"==s.usage?i.resize(0,0,0,a.deltaY,!0):"RR"==s.usage&&i.resize(0,0,a.deltaX,0,!0)}}r||"childcanvas"==this.mouseDownSource||t.mouseMove(e)},v.prototype.windowMouseUp=function(e){this.mouseUp(e);var t=this.beanList;for(var r in t)t[r].mouseUp(e)},v.prototype.removeBean=function(e){var t=this,r=t.beanList,n=r[e];if(null!=n){var o=n._hasFocus;t.canvasElement.removeChild(n.htmlElement),delete r[e];var i=t.beanIdName[e];i&&(delete t.beanIdName[e],delete t.beanNameId[i]);var a=0,s=null;if(o){for(var e in r){var l=r[e];a<=l._hasFocusTime&&!l.pullUpDisabled&&(a=l._hasFocusTime,s=l)}s&&s.requestFocus()}n.parentCanvas=null}},a(b,h),w.prototype.doEnableTouchActionManipulation=function(){var e=document.documentElement.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("touch-action")&&(e+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",e))},w.prototype.doDisablePullToRefresh=function(){var e=document.body.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("overscroll-behavior-y")&&(e+="overscroll-behavior-y: contain;",document.body.setAttribute("style",e))},w.prototype.getDomPartsBuilder=function(){var e=this;return e.domPartsBuilder||(e.domPartsBuilder=new l),e.domPartsBuilder},w.prototype.create=function(e){var t={};t.name=e.name;var r,n=e.title,o=e.left,i=e.top,a=e.width,s=e.height,l=e.appearance,d=e.preset,c=(e.presetParam,e.appearanceName),u=e.appearanceParam,m=e.style,p=e.minWidth,h=e.minHeight,f=e.html,g=e.resizable,y=e.movable,v=e.url,b=e.urlLoaded,w=e.presetParam;if(d?(r=this.getPresetWindow(d).getPresetWindow(w),l=this.createPresetStyle(r.appearanceName,{appearanceParam:r.appearanceParam})):c&&(l=this.createPresetStyle(c,{appearanceParam:u})),e.clientHeight){var C=parseInt(l.titleBarHeight||0)-l.frameHeightAdjust;s=e.clientHeight+C}var E=this.createFrame(o,i,a,s,l,t);if(n&&E.setTitle(n),f&&E.setHTML(f),v){var B=E.setUrl(v);b&&B.then(b)}if(0==g&&E.setResizable(!1),0==y&&E.setMovable(!1),p&&h&&(E.minFrameWidth=p),h&&(E.minWindowHeight=h,e.clientHeight&&(E.minWindowHeight=h+C)),m){var x=E.getFrameView();for(var T in m)m.hasOwnProperty(T)&&(x.style[T]=m[T])}return r&&r.setupPresetWindow(E),E},w.prototype.createFrame=function(e,t,r,n,o,i){var a=this;o||(o=a.createFrameAppearance()),o.initialize(),e||(e=0),t||(t=0),r||(r=128),n||(n=128);var s=new y("window_"+a.generateUUID(),e,t,r,n,o);if(s.jsFrame=a,i&&i.name&&s.setName(i.name),s.hide(),a.windowManager.addWindow(s),o.getTitleBarStyle){var l=o.getTitleBarStyle();l&&s.setTitleBarClassName(l.titleBarClassNameDefault,l.titleBarClassNameFocused)}else o.titleBarClassNameDefault&&o.titleBarClassNameFocused?s.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameFocused):o.titleBarClassNameDefault&&s.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameDefault);return s},w.prototype.containsWindowName=function(e){return this.windowManager.containsWindowName(e)},w.prototype.getWindowByName=function(e){return this.windowManager.getWindowByName(e)},w.prototype.generateUUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))},w.prototype.createFrameAppearance=function(){return new s},w.prototype.createAnimator=function(){return new d},w.prototype.createWindowEventHelper=function(e){return e||(e={}),e.verticalAlign=this.vAlign,e.horizontalAlign=this.hAlign,new i(e)},w.prototype.getPresetWindow=function(e,t){return m[e]?m[e]:null},w.prototype.createPresetStyle=function(e,t){var r=this.createFrameAppearance();if(t&&t.focusedFrameOnly&&(r.focusedFrameOnly=t.focusedFrameOnly),u[e]){var n=u[e],o=null;return t&&t.appearanceParam&&(o=t.appearanceParam),n.getStyle(r,o)}return r},w.prototype.showToast=function(e){if(e){var t,r=this,n=60,o=260,i=1e3,a=window.innerHeight-10-n/2,s=window.innerHeight-20-n/2,l="",d={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};e.style&&(d=e.style),e.height&&(n=e.height),e.width&&(o=e.width),e.duration&&(i=e.duration),e.align&&("top"==e.align?(a=10+n/2,s=20+n/2):"center"==e.align&&(a=window.innerHeight/2,s=window.innerHeight/2)),e.html&&(l=e.html),e.text&&(l=e.text),t=1==e.closeButton;var c=r.createPresetStyle("toast");d.borderRadius&&(c.frameBorderRadius=d.borderRadius),e.closeButtonColor&&(c.captionClor=e.closeButtonColor);var u=r.create({name:"toast_"+r.generateUUID(),width:o,height:n,movable:!1,resizable:!1,appearance:c,style:d,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+n+'px">'+l+"</div>"});t||u.hideFrameComponent("closeButton");var m=window.innerWidth/2;"right"==r.hAlign&&(m=-m),"bottom"==r.vAlign&&(a-=window.innerHeight,s-=window.innerHeight),r.createAnimator().set(u).setDuration(300).fromPosition(m,a,"CENTER_CENTER").toPosition(m,s,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,!1).then((function(e){return e.setDuration(300).fromPosition(m,s,"CENTER_CENTER").toPosition(m,a,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(i,!1)})).then((function(e){e.get().closeFrame()}))}},Object.freeze(p),e.exports=w},451:e=>{e.exports=function(){this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}},31:e=>{e.exports=function(e){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}},260:(e,t,r)=>{var n=r(886),o=r(451),i=r(408),a=r(31);function s(){}function l(e,t){var r=t.querySelectorAll("img");t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);for(var n=0;n<r.length;n++){var o=r[n];e!==o&&t.removeChild(o)}}s.prototype.buildChildMenuAppearance=function(e){return new a(e)},s.prototype.buildTextButtonAppearance=function(e){return e?n({op:"clone",object1:e,concatArray:!0}):new o},s.prototype.buildImageButtonAppearance=function(e){return e?n({op:"clone",object1:e}):new i},s.prototype.buildButton=function(e){return this.buildTextButton(e)},s.prototype.appendChildMenuTo=function(e,t){var r=document.createElement("div");r.classList.add("jsframe-child-menu"),r.innerHTML=e.childMenuHTML,r.style.position="absolute",r.style.pointerEvents="none",r.style.width=e.childMenuWidth+"px",r.style.display="none";var n=e.xOffset,o=parseInt(t.style.height,10)+e.yOffset+2;"LEFT"===e.childMenuAlign?r.style.left=n+"px":"RIGHT"===e.childMenuAlign?r.style.right=n+"px":"CENTER"===e.childMenuAlign&&(n=-e.childMenuWidth/2+parseInt(t.style.height,10)/2,r.style.left=n+"px"),r.style.top=o+"px",r.firstChild.style.pointerEvents="auto",t.appendChild(r)},s.prototype.buildTextButton=function(e){var t=e.size,r=t,n=t;null!=e.width&&(r=e.width),null!=e.height&&(n=e.height);var o=document.createElement("div"),i=e.borderWidth,a=e.borderRadius,s=e.borderColorDefault,d=e.borderColorFocused,c=e.borderColorHovered,u=e.borderColorPressed,m=e.borderStyleDefault,p=e.borderStyleFocused,h=e.borderStyleHovered,f=e.borderStylePressed,g=e.backgroundColorDefault,y=e.backgroundColorFocused,v=e.backgroundColorHovered,b=e.backgroundColorPressed,w=e.backgroundBoxShadow,C=e.fa,E=e.caption,B=e.imageDefault,x=e.imageFocused,T=e.imageHovered,F=e.imagePressed;B&&(B.style.pointerEvents="none"),x&&(x.style.pointerEvents="none"),T&&(T.style.pointerEvents="none"),F&&(F.style.pointerEvents="none");var A=e.captionColorDefault,S=e.captionColorFocused,M=e.captionColorHovered,_=e.captionColorPressed,k=e.captionShiftYpx,I=e.captionFontRatio;if(o._hasFrameFocus=!1,o._isMouseDown=!1,o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=r+"px",o.style.height=n+"px",e.cursor?o.style.cursor=e.cursor:o.style.cursor="pointer",o.style.margin="0px",o.style.padding="0px",o.style.boxSizing="content-box",o.style.fontFamily="sans-serif",o.onmousedown=function(e){o._isMouseDown=!0,o._handleFocusDrawing("onmousedown")},o.onmouseout=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseout")},o.onmouseover=function(e){o._handleHoverDrawing()},o.onmouseup=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseup")},o._onTakeFocus=function(){o._hasFrameFocus=!0,o._handleFocusDrawing("_onTakeFocus")},o._onReleaseFocus=function(){o._hasFrameFocus=!1,o._handleFocusDrawing("_onReleaseFocus")},o._handleFocusDrawing=function(e){o._hasFrameFocus?o._isMouseDown?(o.style.borderColor=u,o.style.borderStyle=f,o.style.backgroundColor=b,o.style.color=_,F&&l(F,o)):(o.style.borderColor=d,o.style.borderStyle=p,o.style.backgroundColor=y,o.style.color=S,x&&l(x,o)):o._isMouseDown?(o.style.borderColor=u,o.style.borderStyle=f,o.style.backgroundColor=b,o.style.color=_,F&&l(F,o)):(o.style.borderColor=s,o.style.borderStyle=m,o.style.backgroundColor=g,o.style.color=A,B&&l(B,o))},o._handleHoverDrawing=function(){o._hasFrameFocus,c&&(o.style.borderColor=c),h&&(o.style.borderStyle=h),v&&(o.style.backgroundColor=v),M&&(o.style.color=M),T&&l(T,o)},o.style.padding="0px",o.style.textAlign="center",o.style.fontSize=n*I+"px",o.style.lineHeight=n+"px",o.style.borderWidth="1px",null!=i&&(o.style.borderWidth=i+"px"),null!=w&&(o.style.boxShadow=w),o.style.borderRadius=a+parseInt(o.style.borderWidth)+"px",B)l(B,o);else if(E)(D=document.createElement("span")).style.width="100%",D.style.marginTop=k+"px",D.style.display="inline-block",D.style.textAlign="center",D.style.fontFamily="sans-serif",D.appendChild(document.createTextNode(E)),o.appendChild(D);else if(C){var D;(D=document.createElement("span")).style.pointerEvents="none",D.style.width="100%",D.style.marginTop=k+"px",D.style.display="inline-block",D.style.textAlign="center",D.style.fontFamily="sans-serif",D.innerHTML='<i class="'+C+'"></i>',o.appendChild(D)}return o._handleFocusDrawing(),o},e.exports=s},970:(e,t,r)=>{var n=r(260),o=r(885);function i(){var e=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(t){return e.useIframe=t,e.useFrame=!t,e},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(t,r){return t?r?{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthFocused,10)+"px"}:{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(e.showCloseButton){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.size=14,r.captionShiftYpx=0,r.captionFontRatio=1,r.borderRadius=2,r.backgroundColorPressed="transparent",r.backgroundColorDefault="transparent",r.caption="",r.captionColorDefault="gray",r.captionColorFocused="gray",r.captionColorHovered="silver",r.captionColorPressed="black",r.borderWidth=0,r.borderColorDefault="#aaaaaa",r.borderStyle="solid";var n=t.buildTextButton(r);e.addFrameComponent("closeButton",n,-10,-18,"RIGHT_TOP")}},this.onTitleBarStyleInitialize=function(){}}i.prototype.getPartsBuilder=function(){var e=this;return null===e._partsBuilder&&(e._partsBuilder=new n),e._partsBuilder},i.prototype.initialize=function(){this.onInitialize()},i.prototype.addFrameComponent=function(e,t,r,n,i,a){var s=new o(e,t,r,n,i,a);return t._onTakeFocus&&t._onReleaseFocus&&s.setFocusCallback(t._onTakeFocus,t._onReleaseFocus),this.frameComponents.push(s),s},e.exports=i},885:(e,t,r)=>{var n=r(76);function o(e,t,r,o,i,a){var s=this;s.id=e,s.x=r,s.y=o,s.frame=null,s._focusTakingCallabck=null,s._focusReleasingCallabck=null,s.frameComponentAlign=i||n.LEFT_TOP,s.htmlElement=t,s.htmlElement.style.zIndex=50,s.htmlElement.setAttribute("component-id",e),a&&a.childMenu?s.childMenu=a.childMenu:t.querySelector(".jsframe-child-menu")&&(s.childMenu=t.querySelector(".jsframe-child-menu"))}o.prototype.setFocusCallback=function(e,t){this._focusTakingCallabck=e,this._focusReleasingCallabck=t},o.prototype.setFrame=function(e){var t=this;t.frame=e,t.htmlElement.parentObject=e,t.updateAlign()},o.prototype.updateAlign=function(){var e=this,t=e.frameComponentAlign,r=e.frame,o=e.htmlElement.style;o.userSelect="none";var i=e.x,a=e.y,s=r.getWidth(),l=r.getHeight(),d=o.width,c=o.height;n.LEFT_TOP==t?(o.left=i+"px",o.top=a+"px"):n.HCENTER_TOP==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=a+"px"):n.RIGHT_TOP==t?(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=a+"px"):n.LEFT_VCENTER==t?(o.left=i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):n.HCENTER_VCENTER==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):n.RIGHT_VCENTER==t?(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):n.LEFT_BOTTOM==t?(o.left=i+"px",o.top=parseInt(l)-parseInt(c)+a+"px"):n.HCENTER_BOTTOM==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=parseInt(l)-parseInt(c)+a+"px"):n.RIGHT_BOTTOM==t&&(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=parseInt(l)-parseInt(c)+a+"px")},o.prototype.handleTakingFocus=function(){this._focusTakingCallabck&&this._focusTakingCallabck()},o.prototype.handleReleasingFocus=function(){this._focusReleasingCallabck&&this._focusReleasingCallabck()},e.exports=o},408:(e,t,r)=>{function n(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}r(171)(n,r(451)),n.prototype._setImage=function(e,t,r){var n=this.imageStore[e];if(n)return n;var o=document.createElement("img");if(o.src=e,t&&r){var i="margin:0px;padding:0px;width:"+t+"px;height:"+r+"px";o.setAttribute("style",i)}return this.imageStore[e]=o,o},n.prototype.setSrc=function(e){var t=this;e.default&&(t.imageDefault=t._setImage(e.default,e.width,e.height)),e.hovered&&(t.imageHovered=t._setImage(e.hovered,e.width,e.height)),e.pressed&&(t.imagePressed=t._setImage(e.pressed,e.width,e.height)),e.focused&&(t.imageFocused=t._setImage(e.focused,e.width,e.height))},e.exports=n},138:(e,t,r)=>{e.exports={JSFrame:r(704)}},145:(e,t,r)=>{r(161);var n=r(722);function o(e,t,r){var n,o=e.getPartsBuilder(),a=0;for(var s in n=r?t.titleBar.buttonsOnLeft:t.titleBar.buttons){var l=n[s],d=o.buildTextButtonAppearance();d.fa=l.fa,d.width=t.titleBar.buttonWidth,d.height=t.titleBar.buttonHeight,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="transparent",d.backgroundColorFocused="transparent",d.backgroundColorHovered="transparent",d.backgroundColorPressed="transparent";var c=i(t.titleBar.buttonColor);d.captionColorDefault=t.titleBar.buttonColor,d.captionColorFocused=t.titleBar.buttonColor,d.captionColorHovered=c.hovered,d.captionColorPressed=c.pressed,d.captionShiftYpx=0,d.captionFontRatio=1;var u=o.buildTextButton(d);l.visible?u.style.display="flex":(r?a-=t.titleBar.buttonWidth:a+=t.titleBar.buttonWidth,u.style.display="none");var m,p,h=parseInt(e.titleBarHeight),f=a,g=-h+(h-d.height)/2;m=r?"LEFT_TOP":"RIGHT_TOP",l.childMenuHTML&&((p=document.createElement("div")).id=l.name+"_child_menu",p.innerHTML=l.childMenuHTML,p.style.position="absolute",p.style.width=(l.childMenuWidth?l.childMenuWidth:200)+"px",p.style.top=parseInt(u.style.top,10)+parseInt(u.style.height,10)/2+h/2+"px",p.style.left=u.style.left,p.style.display="none",u.appendChild(p)),e.addFrameComponent(l.name,u,f,g,m,{childMenu:p}),a+=r?t.titleBar.buttonWidth:-t.titleBar.buttonWidth}}function i(e){var t=document.createElement("canvas");t.height=1,t.width=1;try{var r=t.getContext("2d");if(r){r.fillStyle=e,r.fillRect(0,0,1,1);var n=r.getImageData(0,0,1,1).data,o=n[0],i=n[1],a=n[2],s=n[3]/255,l=.85*s;return{src:"rgb("+o+","+i+","+a+","+l+")",hovered:"rgb("+o+","+i+","+a+","+l+")",pressed:"rgb("+o+","+i+","+a+","+.75*s+")"}}return{src:"rgb(255,255,255,0.85)",hovered:"rgb(255,255,255,0.85)",pressed:"rgb(255,255,255,0.75)"}}catch(e){return{src:"rgb(255,255,255,0.85)",hovered:"rgb(255,255,255,0.85)",pressed:"rgb(255,255,255,0.75)"}}}e.exports.getStyle=function(e,t){var r={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},i=r;return t&&n.objectAssign(r,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize=i.titleBar.fontSize+"px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=i.titleBar.leftMargin+"px",e.titleBarCaptionColorDefault=i.titleBar.color,e.titleBarCaptionColorFocused=i.titleBar.color,e.titleBarCaptionTextShadow=null,e.titleBarCaptionTextAlign="left",e.titleBarHeight=i.titleBar.height+"px",e.titleBarColorDefault=i.titleBar.background,e.titleBarColorFocused=i.titleBar.background,e.titleBarBorderBottomDefault="solid 0px #aaaaaa",e.titleBarBorderBottomFocused="solid 0px #1883d7",e.frameBorderRadius=i.border.radius+"px",e.frameBorderWidthDefault=i.border.width+"px",e.frameBorderWidthFocused=i.border.width+"px",e.frameBorderColorDefault=i.border.color,e.frameBorderColorFocused=i.border.color,e.frameBorderStyle="solid",e.frameBoxShadow=i.border.shadow,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly,{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){o(e,i,!1),o(e,i,!0)},e}},182:(e,t,r)=>{r(774),e.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="5px",e.titleBarColorDefault="white",e.titleBarColorFocused="white",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#aaaaaa",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="white",e.frameComponents=new Array,e.frameHeightAdjust=2,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=1,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="white",r.backgroundColorFocused="white",r.backgroundColorHovered="#eeeeee",r.backgroundColorPressed="#dddddd",r.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",r.caption="",r.captionColorDefault="black",r.captionColorFocused="black",r.captionColorHovered="white",r.captionColorPressed="white",r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r),o=-6-parseInt(e.titleBarHeight);e.addFrameComponent("closeButton",n,10,o,"RIGHT_TOP")},e}},35:(e,t,r)=>{r(455),e.exports.getStyle=function(e){return e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#9b9a9b",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="30px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="solid 1px #aaaaaa",e.titleBarBorderBottomFocused="solid 1px #1883d7",e.frameBorderRadius="0px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#1883d7",e.frameBorderStyle="solid",e.frameBoxShadow=null,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=45,r.height=28,r.borderRadius=0,r.borderWidth=0,r.borderColorDefault="#c6c6c6",r.borderColorFocused="#fc615c",r.borderColorHovered=r.borderColorFocused,r.borderColorPressed="#e64842",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="white",r.backgroundColorFocused="white",r.backgroundColorHovered="#e81123",r.backgroundColorPressed="#f1707a",r.caption="",r.captionColorDefault="#9b9a9b",r.captionColorFocused="black",r.captionColorHovered="white",r.captionColorPressed="white",r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r),o=0,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP";e.addFrameComponent("closeButton",n,o,i,a);var s=t.buildTextButtonAppearance();s.width=45,s.height=28,s.borderRadius=0,s.borderWidth=0,s.borderColorDefault="#c6c6c6",s.borderColorFocused="#fc615c",s.borderColorHovered=s.borderColorFocused,s.borderColorPressed="#e64842",s.borderStyleDefault="solid",s.borderStyleFocused=s.borderStyleDefault,s.borderStyleHovered=s.borderStyleDefault,s.borderStylePressed=s.borderStyleDefault,s.backgroundColorDefault="white",s.backgroundColorFocused="white",s.backgroundColorHovered="#e5e5e5",s.backgroundColorPressed="#cccccc",s.caption="",s.captionColorDefault="#9b9a9b",s.captionColorFocused="black",s.captionColorHovered="black",s.captionColorPressed="black",s.captionShiftYpx=1,s.captionFontRatio=.55;var l=t.buildTextButton(s);o=-46,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",e.addFrameComponent("maximizeButton",l,o,i,a);var d=t.buildTextButtonAppearance();d.width=45,d.height=28,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="white",d.backgroundColorFocused="white",d.backgroundColorHovered="#e5e5e5",d.backgroundColorPressed="#cccccc",d.caption="",d.captionColorDefault="#9b9a9b",d.captionColorFocused="black",d.captionColorHovered="black",d.captionColorPressed="black",d.captionShiftYpx=-2,d.captionFontRatio=.3;var c=t.buildTextButton(d);o=-92,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",e.addFrameComponent("minimizeButton",c,o,i,a);var u=t.buildTextButtonAppearance();u.width=45,u.height=28,u.borderRadius=0,u.borderWidth=0,u.borderColorDefault="#c6c6c6",u.borderColorFocused="#fc615c",u.borderColorHovered=u.borderColorFocused,u.borderColorPressed="#e64842",u.borderStyleDefault="solid",u.borderStyleFocused=u.borderStyleDefault,u.borderStyleHovered=u.borderStyleDefault,u.borderStylePressed=u.borderStyleDefault,u.backgroundColorDefault="white",u.backgroundColorFocused="white",u.backgroundColorHovered="#e5e5e5",u.backgroundColorPressed="#cccccc",u.caption="",u.captionColorDefault="#9b9a9b",u.captionColorFocused="black",u.captionColorHovered="black",u.captionColorPressed="black",u.captionShiftYpx=1,u.captionFontRatio=.6;var m=t.buildTextButton(u);o=-92,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",m.style.display="none",e.addFrameComponent("deminimizeButton",m,o,i,a);var p=t.buildTextButtonAppearance();p.width=45,p.height=28,p.borderRadius=0,p.borderWidth=0,p.borderColorDefault="#c6c6c6",p.borderColorFocused="#fc615c",p.borderColorHovered=p.borderColorFocused,p.borderColorPressed="#e64842",p.borderStyleDefault="solid",p.borderStyleFocused=p.borderStyleDefault,p.borderStyleHovered=p.borderStyleDefault,p.borderStylePressed=p.borderStyleDefault,p.backgroundColorDefault="white",p.backgroundColorFocused="white",p.backgroundColorHovered="#e5e5e5",p.backgroundColorPressed="#cccccc",p.caption="",p.captionColorDefault="#9b9a9b",p.captionColorFocused="black",p.captionColorHovered="black",p.captionColorPressed="black",p.captionShiftYpx=1,p.captionFontRatio=.55;var h=t.buildTextButton(p);o=-46,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",h.style.display="none",e.addFrameComponent("restoreButton",h,o,i,a)},e}},282:e=>{e.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="0px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="0px",e.titleBarCaptionColorDefault="transparent",e.titleBarCaptionColorFocused="transparent",e.titleBarHeight="0px",e.titleBarColorDefault="transparent",e.titleBarColorFocused="transparent",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="10px",e.frameBorderWidthDefault="0px",e.frameBorderWidthFocused="0px",e.frameBorderColorDefault="transparent",e.frameBorderColorFocused="transparent",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="transparent",e.frameComponents=[],e.frameHeightAdjust=1,e.captionClor="darkgray",e.pullUpDisabled=!1,e.getTitleBarStyle=function(){return e.focusedFrameOnly,{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=0,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="transparent",r.backgroundColorFocused="transparent",r.backgroundColorHovered="transparent",r.backgroundColorPressed="transparent",r.backgroundBoxShadow=null,r.caption="",r.captionColorDefault=e.captionClor,r.captionColorFocused=e.captionClor,r.captionColorHovered=e.captionClor,r.captionColorPressed=e.captionClor,r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r);e.addFrameComponent("closeButton",n,-6,3,"RIGHT_TOP")},e}},933:(e,t,r)=>{r(633);var n=r(722);e.exports.getStyle=function(e,t){var r={titleBar:{greenButton:"maximize"}},o=r;return t&&n.objectAssign(r,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";"fullscreen"===o.titleBar.greenButton&&(n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",a="margin:0px;padding:0px;width:10px;height:10px",s=document.createElement("img");s.src=n,s.setAttribute("style",a);var l=document.createElement("img");l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",l.setAttribute("style",a);var d=document.createElement("img");d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",d.setAttribute("style",a);var c=document.createElement("img");c.src=r,c.setAttribute("style",a);var u=document.createElement("img");u.src=i,u.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");var m=t.buildImageButtonAppearance();m.imageDefault=u,m.imageHovered=c,m.imagePressed=c,m.imageFocused=u,m.size=10,m.borderRadius=5,m.borderWidth=1,m.borderColorDefault="#c6c6c6",m.borderColorFocused="#d3524e",m.borderColorHovered=m.borderColorFocused,m.borderColorPressed="#e64842",m.borderStyleDefault="solid",m.borderStyleFocused=m.borderStyleDefault,m.borderStyleHovered=m.borderStyleDefault,m.borderStylePressed=m.borderStyleDefault,m.backgroundColorDefault="#d0d0d0",m.backgroundColorFocused="#fc615c",m.backgroundColorHovered=m.backgroundColorFocused,m.backgroundColorPressed=m.backgroundColorDefault,m.setSrc({default:i,focused:i,hovered:r,pressed:r});var p=t.buildButton(m),h=8,f=-19,g="LEFT_TOP";e.addFrameComponent(o.closeButtonName||"closeButton",p,h,f,g);var y=t.buildImageButtonAppearance(m);y.borderColorDefault="#c6c6c6",y.borderColorFocused="#e6b347",y.borderColorHovered=y.borderColorFocused,y.borderColorPressed="#e1a12d",y.backgroundColorDefault="#d0d0d0",y.backgroundColorFocused="#fdbe40",y.backgroundColorHovered=y.backgroundColorFocused,y.backgroundColorPressed=y.backgroundColorDefault,y.imageDefault=u,y.imageHovered=d,y.imagePressed=d,y.imageFocused=u;var v=t.buildButton(y),b=t.buildButton(y);b.style.display="none",h=28,f=-19,g="LEFT_TOP",e.addFrameComponent("minimizeButton",v,h,f,g),e.addFrameComponent("deminimizeButton",b,h,f,g);var w=t.buildImageButtonAppearance(m);w.borderColorDefault="#c6c6c6",w.borderColorFocused="#67b657",w.borderColorHovered=w.borderColorFocused,w.borderColorPressed="#00af38",w.backgroundColorDefault="#d0d0d0",w.backgroundColorFocused="#34ca49",w.backgroundColorHovered=w.backgroundColorFocused,w.backgroundColorPressed=w.backgroundColorDefault,w.imageDefault=u,w.imageHovered=s,w.imagePressed=s,w.imageFocused=u;var C=t.buildButton(w),E=t.buildImageButtonAppearance(m);E.borderColorDefault="#c6c6c6",E.borderColorFocused="#67b657",E.borderColorHovered=E.borderColorFocused,E.borderColorPressed="#00af38",E.backgroundColorDefault="#d0d0d0",E.backgroundColorFocused="#34ca49",E.backgroundColorHovered=E.backgroundColorFocused,E.backgroundColorPressed=E.backgroundColorDefault,E.imageDefault=u,E.imageHovered=l,E.imagePressed=l,E.imageFocused=u;var B=t.buildButton(E);B.style.display="none",h=48,f=-19,g="LEFT_TOP",e.addFrameComponent("dezoomButton",B,h,f,g),e.addFrameComponent("zoomButton",C,h,f,g)},e}},726:(e,t,r)=>{var n=r(886);e.exports.getPresetWindow=function(e){var t={appearanceName:"yosemite",appearanceParam:{}},r={};e&&(r=e);var o="fullscreen"===r.maximizeButtonBehavior,i="minimize"===r.minimizeButtonBehavior?"minimizeButton":null,a="hide"===r.minimizeButtonBehavior?"minimizeButton":null,s="hide"===r.closeButtonBehavior?"custom-close-button":null,l=r.control,d=s,c=r.closeButtonName;return o&&(t.appearanceParam.titleBar={greenButton:"fullscreen"}),t.appearanceParam.closeButtonName=d||c||"closeButton",t.setupPresetWindow=function(e){var t={maximizeButton:"zoomButton",maximizeParam:{fullScreen:o,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:i,hideButtons:[a,s],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};l&&n({op:"overwrite-merge",object1:t,object2:l}),e.setControl(t)},t}},243:(e,t,r)=>{var n=r(673);function o(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}o.prototype.set=function(e){var t=this;t.targetFrame=e,t.fromWidth(e.getWidth()),t.fromHeight(e.getHeight()),t.toWidth(e.getWidth()),t.toHeight(e.getHeight());var r=e.getPosition();return t.fromPosition(r.x,r.y,r.anchor),t},o.prototype.get=function(){return this.targetFrame},o.prototype.setDuration=function(e){return this.durationMillis=e,this},o.prototype.setFPS=function(e){return this.fps=e,this},o.prototype.fromPosition=function(e,t,r){var n=this;return n.pinnedAnimationEnabled=!0,n._pinX=e,n._pinY=t,n.toPosition(e,t),r&&(n._pinAnchor=r),n},o.prototype.fromWidth=function(e){return this._crrWidth=e,this},o.prototype.fromHeight=function(e){return this._crrHeight=e,this},o.prototype.toWidth=function(e){return this._toWidth=e,this},o.prototype.toHeight=function(e){return this._toHeight=e,this},o.prototype.fromAlpha=function(e){return this._crrAlpha=e,this},o.prototype.toAlpha=function(e){return this._toAlpha=e,this},o.prototype.ease=function(e){return this._ease=e,this},o.prototype.toPosition=function(e,t){var r=this;return r._toX=e,r._toY=t,r},o.prototype.toX=function(e){return this._toX=e,this},o.prototype.toY=function(e){return this._toY=e,this},o.prototype.start=function(e,t){var r=this,o=r._crrWidth,i=r._crrHeight,a=r._pinX,s=r._pinY,l=r._crrAlpha;return new Promise((function(d,c){var u=parseInt(r.fps*(r.durationMillis/1e3));0==u&&(u=1);var m=(r._toWidth-o)/u,p=(r._toHeight-i)/u,h=(r._toX-a)/u,f=(r._toY-s)/u,g=(r._toAlpha-l)/u;r._ease&&(g/=1.24);var y=r.durationMillis/u,v=0;function b(){var e=new n;e.setIntervalMillis(y),e.setCallback((function(e){if(v==u){var n=r._toWidth,c=r._toHeight,y=a+h*v,b=s+f*v,w=r._toAlpha;r.pinnedAnimationEnabled&&r.targetFrame._setPositionInternally(y,b,r._pinAnchor,n,c),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=w),r.targetFrame.setSize(n,c,!0),r._crrWidth=n,r._crrHeight=c,r._pinX=y,r._pinY=b}if(v==u+1)return e.stopTimer(),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=r._toAlpha),void d(r);if(n=o+m*v,c=i+p*v,y=a+h*v,b=s+f*v,w=l+g*v,r.pinnedAnimationEnabled&&r.targetFrame._setPositionInternally(y,b,r._pinAnchor,n,c),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=w),r.targetFrame.setSize(n,c,!0),0==v){var C=r.targetFrame.parentCanvas;C&&C.getWindow(r.targetFrame.id)&&r.targetFrame.show({requestFocus:t})}v++})),e.startTimer()}if(e){var w=new n;w.setIntervalMillis(e),w.setCallback((function(e){e.stopTimer(),b()})),w.startTimer()}else b()}))},e.exports=o},673:e=>{var t=function(){function e(){var e=this;e._timerId=null,e._isRunning=!1,e._timerInterval=0,e._internalCallback=function(){e._timerMethod&&e._timerMethod(e),e._isRunning&&(clearTimeout(e._timerId),e._timerId=setTimeout(e._internalCallback,e._timerInterval))},e._timerMethod=null}return e.prototype.setCallback=function(e){return this._timerMethod=e,this},e.prototype.setIntervalMillis=function(e){return this._timerInterval=e,this},e.prototype.stopTimer=function(){return this._isRunning=!1,this},e.prototype.startTimer=function(){var e=this;return e._timerInterval>0&&(e._timerId=setTimeout(e._internalCallback,e._timerInterval),e._isRunning=!0),e},e}();e.exports=t},171:e=>{e.exports=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superConstructor=t,e.superClass=t.prototype}},722:e=>{var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return e&&"object"===(void 0===e?"undefined":t(e))&&!Array.isArray(e)}e.exports.objectAssign=function e(t){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!i.length)return t;var s=i.shift();if(n(t)&&n(s))for(var l in s)n(s[l])?(t[l]||Object.assign(t,r({},l,{})),e(t[l],s[l])):Object.assign(t,r({},l,s[l]));return e.apply(void 0,[t].concat(i))}},295:(e,t,r)=>{"use strict";var n=r(243),o=r(76),i=r(886),a=r(94);function s(e){this.eventListenerHelper=new a,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=e,this.isWindowManagerFixed=e.frame.jsFrame.isWindowManagerFixed,e.styleDisplay&&(this.styleDisplay=e.styleDisplay),e.minimizeButton&&(this.minimizeButton=e.minimizeButton),e.deminimizeButton&&(this.deminimizeButton=e.deminimizeButton),e.maximizeButton&&(this.maximizeButton=e.maximizeButton),e.demaximizeButton&&(this.demaximizeButton=e.demaximizeButton),e.hideButton&&(this.hideButton=e.hideButton),e.hideButtons&&(this.hideButtons=e.hideButtons),this.maximizeParam=e.maximizeParam,this.demaximizeParam=e.demaximizeParam,this.minimizeParam=e.minimizeParam,this.deminimizeParam=e.deminimizeParam,this.hideParam=e.hideParam,this.dehideParam=e.dehideParam,e.horizontalAlign&&(this.horizontalAlign=e.horizontalAlign),e.verticalAlign&&(this.verticalAlign=e.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=e.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},e.animation&&(this.animationEnabled=e.animation),e.animationDuration&&(this.animationDuration=e.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}s.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",s.prototype.on=function(e,t){this.eventListeners[e]=t},s.prototype.doMaximize=function(e){var t=this;if("hid"===t.windowMode)throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if("maximized"!==t.windowMode&&"maximizing"!==t.windowMode){t.windowMode="maximizing";var r=t.frame;if(e&&e.matchParent){var n=r.getWindowManager().getParentElement();if(!t.matchParentResizeObserver){var o=new MutationObserver((function(){t.resizeListener()}));o.observe(n,{attributeFilter:[s.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),t.matchParentResizeObserver=o}}else t.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||t.eventListenerHelper.addEventListener(window,"resize",t.resizeListener,{listenerName:"window-resize-listener"});t.saveCurrentWindowStats("maximize_mode"),t.hideTitleBar=!!e&&e.fullScreen,t.hideTitleBar?r.hideAllVisibleFrameComponents():(t.maximizeButton&&r.hideFrameComponent(t.maximizeButton),t.demaximizeButton&&r.showFrameComponent(t.demaximizeButton,t.styleDisplay)),r.setMovable(!1),r.setResizable(!1),e&&e.restoreKey&&(t.restoreKey=e.restoreKey),e&&e.restoreDuration&&(t.restoreDuration=e.restoreDuration),e&&e.restoreCallback&&(t.restoreCallback=e.restoreCallback),t.renderMaximizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,matchParent:!(!e||!e.matchParent)&&e.matchParent})}},s.prototype.renderMaximizedMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("maximize_mode"),o=0,i=0,a=0,s=0;t.hideTitleBar&&(o=0,i=-n.titleBarHeight);var l=window.innerWidth,d=window.innerHeight;if(e.matchParent){var c=r.getWindowManager().getParentElement();l=c.clientWidth,d=c.clientHeight}t.hideFrameBorder?(a=l,s=d+(t.hideTitleBar?n.titleBarHeight:0)):(a=l-2*n.frameBorderWidthDefault,s=d-2*n.frameBorderWidthDefault+(t.hideTitleBar?n.titleBarHeight:0)),"right"==t.horizontalAlign&&(o=-a),"bottom"==t.verticalAlign&&(i=-s);var u=function(n){var l=n&&n.disableCallback;r.setPosition(o,i),t.hideFrameBorder&&(r.frameBorderWidthDefault=0,r.frameBorderWidthFocused=0,r.htmlElement.style.borderWidth="0px"),r.setSize(a,s,!0),l||(t.hideTitleBar&&(t.restoreKey&&(t.keyListener=function(e){e.code===t.restoreKey&&t.doCommand("restore")}),window.addEventListener("keydown",t.keyListener),r.iframe&&r.iframe.contentWindow.addEventListener("keydown",t.keyListener)),t.windowMode="maximized",e&&e.callback&&e.callback(t.frame,{eventType:"maximized"}),t.eventListeners.maximized&&t.eventListeners.maximized(t.frame,{eventType:"maximized"}))};e&&e.animation?t.animateFrame({frame:r,from:n,to:{left:o,top:i,width:a,height:s},duration:e.duration?e.duration:t.animationDuration,callback:u}):e&&"handleOnResize"===e.caller?u({disableCallback:!0}):u()},s.prototype.getWindowMode=function(){return this.windowMode},s.prototype.doDemaximize=function(e){var t=this,r=t.frame;if("hid"===t.windowMode)throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");t.hasWindowStats("maximize_mode")&&(t.hideTitleBar||(t.maximizeButton&&r.showFrameComponent(t.maximizeButton,t.styleDisplay),t.demaximizeButton&&r.hideFrameComponent(t.demaximizeButton)),t.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,forceShowFrameComponents:t.animationEnabled&&t.hideTitleBar,duration:e&&e.duration?e.duration:null,eventType:"demaximized"}))},s.prototype.handleOnResize=function(){this.renderMaximizedMode({caller:"handleOnResize"})},s.prototype.handleOnVirtualResize=function(){this.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},s.prototype.doMinimize=function(e){var t=this;if("minimized"!==t.windowMode&&"minimizing"!==t.windowMode){t.windowMode="minimizing";var r=t.frame;t.saveCurrentWindowStats("minimize_mode"),r.setResizable(!1),t.renderMinimizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,toWidth:e&&e.toWidth?e.toWidth:null})}},s.prototype.renderMinimizedMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("minimize_mode"),o=t.getCurrentWindowStats(),i=t.getCurrentWindowStats();i.height=n.titleBarHeight,e&&e.toWidth&&(i.width=e.toWidth);var a=function(){r.setSize(i.width,i.height,!0),t.windowMode="minimized",t.minimizeButton&&r.hideFrameComponent(t.minimizeButton),t.deminimizeButton&&r.showFrameComponent(t.deminimizeButton,t.styleDisplay),e.callback&&e.callback(t.frame,{eventType:"minimized"}),t.eventListeners.minimized&&t.eventListeners.minimized(t.frame,{eventType:"minimized"})};e&&e.animation?t.animateFrame({toAlpha:1,duration:e.duration?e.duration:t.animationDuration,frame:r,from:o,to:i,callback:a}):a()},s.prototype.doDeminimize=function(e){var t=this,r=t.frame;t.hasWindowStats("minimize_mode")&&(t.minimizeButton&&r.showFrameComponent(t.minimizeButton,t.styleDisplay),t.deminimizeButton&&r.hideFrameComponent(t.deminimizeButton),t.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:t.animationEnabled,duration:e&&e.duration?e.duration:null,callback:e&&e.callback?e.callback:null,eventType:"deminimized"}))},s.prototype.doHide=function(e){var t=this;if("hid"!==t.windowMode&&"hiding"!==t.windowMode){t.windowMode="hiding";var r=t.frame;t.saveCurrentWindowStats("hide_mode"),r.setResizable(!1);var n={animation:t.animationEnabled};e&&i({op:"overwrite-merge",object1:n,object2:e}),t.renderHideMode(n)}},s.prototype.renderHideMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("hide_mode"),i=t.getCurrentWindowStats(),a={x:0,y:0},s=e.toElement;e.offset&&(a=e.offset);var l=0,d=0,c=e&&e.align?e.align:"LEFT_TOP";if(c&&o.LEFT_TOP!=c){if(o.HCENTER_TOP==c)l=i.left+i.width/2,d=i.top;else if(o.RIGHT_TOP==c)l=i.left+i.width,d=i.top;else if(o.LEFT_VCENTER==c)l=i.left,d=i.top+i.height/2;else if(o.HCENTER_VCENTER==c)l=i.left+i.width/2,d=i.top+i.height/2;else if(o.RIGHT_VCENTER==c)l=i.left+i.width,d=i.top+i.height/2;else if(o.LEFT_BOTTOM==c)l=i.left,d=i.top+i.height;else if(o.HCENTER_BOTTOM==c)l=i.left+i.width/2,d=i.top+i.height;else if(o.RIGHT_BOTTOM==c)l=i.left+i.width,d=i.top+i.height;else if("ABSOLUTE"==c)if(s){var u=s.getBoundingClientRect();t.isWindowManagerFixed?(l=u.left,d=u.top):(l=u.left+window.pageXOffset,d=u.top+window.pageYOffset)}else l=a.x,d=a.y}else l=i.left,d=i.top;var m={left:l,top:d,width:0,height:n.titleBarHeight},p=function(){r.setSize(m.width,m.height,!0),t.windowMode="hid",e&&e.callback&&e.callback(t.frame,{eventType:"hid"}),t.eventListeners.hid&&t.eventListeners.hid(t.frame,{eventType:"hid"})};r.hideAllVisibleFrameComponents(),e&&e.animation?t.animateFrame({fromAlpha:e.silent?0:1,toAlpha:0,ease:!0,duration:e.duration?e.duration:t.animationDuration,frame:r,from:i,to:m,callback:p}):p()},s.prototype.doDehide=function(e){var t=this;t.frame,t.hasWindowStats("hide_mode")&&t.restoreWindow({duration:e&&e.duration?e.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:t.animationEnabled,forceShowFrameComponents:!0,callback:e&&e.callback?e.callback:null,eventType:"dehided"})},s.prototype.loadWindowStats=function(e){return this.statsStore[e]},s.prototype.saveCurrentWindowStats=function(e){var t=this,r=t.getCurrentWindowStats();if(t.hasWindowStats(e)){var n=t.loadWindowStats(e),o=!t.windowStatsEquals(r,n);return o&&(t.statsStore[e]=r),o}return t.statsStore[e]=r,!0},s.prototype.windowStatsEquals=function(e,t){return!(!e||!t)&&JSON.stringify(e)===JSON.stringify(t)},s.prototype.clearWindowStats=function(e){this.statsStore[e]=null},s.prototype.hasWindowStats=function(e){return this.statsStore[e]},s.prototype.getCurrentWindowStats=function(){var e=this.frame,t=parseInt(e.titleBar.style.height,10),r=e.frameBorderWidthDefault,n=e.frameBorderWidthFocused;return{left:e.getLeft(),top:e.getTop(),width:e.getWidth(),height:e.getHeight(),titleBarHeight:t,frameBorderWidthDefault:r,frameBorderWidthFocused:n,resizable:e.resizable,movable:e.movable}},s.prototype.restoreWindow=function(e){var t=this,r=t.frame,n=t.loadWindowStats(e.restoreMode),o=t.getCurrentWindowStats();r.frameBorderWidthDefault=n.frameBorderWidthDefault,r.frameBorderWidthFocused=n.frameBorderWidthFocused,r.htmlElement.style.borderWidth=r.frameBorderWidthFocused;var i=function(){e&&0==e.restorePosition&&(n.left=o.left,n.top=o.top),r.setPosition(n.left,n.top),r.setSize(n.width,n.height,!0),r.setResizable(n.resizable),r.setMovable(n.movable),t.clearWindowStats(e.restoreMode),t.keyListener&&(window.removeEventListener("keydown",t.keyListener),r.iframe&&r.iframe.contentWindow.removeEventListener("keydown",t.keyListener),t.keyListener=null),t.windowMode="default",e&&e.forceShowFrameComponents&&r.showAllVisibleFrameComponents(),r.show();var i="restored";e&&e.eventType&&(i=e.eventType),e&&e.callback&&e.callback(t.frame,{eventType:i}),t.eventListeners[i]&&t.eventListeners[i](t.frame,{eventType:i})};e&&e.animation?t.animateFrame({duration:e.duration?e.duration:t.animationDuration,frame:r,fromAlpha:0,toAlpha:1,from:o,to:n,callback:i}):i(),t.eventListenerHelper.removeEventListener(window,"resize",t.resizeListener),t.matchParentResizeObserver&&(t.matchParentResizeObserver.disconnect(),t.matchParentResizeObserver=null)},s.prototype.animateFrame=function(e){var t=isNaN(e.fromAlpha)?1:e.fromAlpha,r=e.from,o=e.to;(new n).set(e.frame).setDuration(e.duration?e.duration:this.animationDuration).fromPosition(r.left,r.top,"LEFT_TOP").toPosition(o.left,o.top,"LEFT_TOP").fromWidth(r.width).fromHeight(r.height).toWidth(o.width).toHeight(o.height).fromAlpha(t).toAlpha(0==e.toAlpha?0:1).ease(e.ease).start(0,!1).then((function(t){e.callback()}))},s.prototype.doCommand=function(e,t){var r=this;"maximize"===e&&r._defaultFunctionMaximize(r.frame),"demaximize"===e&&r._defaultFunctionDemaximize(r.frame),"restore"===e&&r._defaultFunctionRestoreFromFullscreen(r.frame),"minimize"===e&&r._defaultFunctionMinimize(r.frame),"deminimize"===e&&r._defaultFunctionDeminimize(r.frame),"hide"===e&&r._defaultFunctionHide(r.frame),"dehide"===e&&r._defaultFunctionDehide(r.frame)},s.prototype._defaultFunctionMaximize=function(e,t){var r=this.opts,n={fullScreen:!0===r.maximizeWithoutTitleBar,restoreKey:r.restoreKey?r.restoreKey:"Escape",restoreDuration:r.restoreDuration};this.maximizeParam&&i({op:"overwrite-merge",object1:n,object2:this.maximizeParam}),e.control.doMaximize(n)},s.prototype._defaultFunctionDemaximize=function(e,t){e.control.doDemaximize({})},s.prototype._defaultFunctionRestoreFromFullscreen=function(e,t){var r=this;e.control.doDemaximize({duration:r.restoreDuration?r.restoreDuration:null,callback:r.restoreCallback?r.restoreCallback:null})},s.prototype._defaultFunctionMinimize=function(e,t){e.control.doMinimize(this.minimizeParam)},s.prototype._defaultFunctionDeminimize=function(e,t){e.control.doDeminimize(this.deminimizeParam)},s.prototype._defaultFunctionHide=function(e,t){var r={align:"CENTER_BOTTOM"};this.hideParam&&(r=this.hideParam),e.control.doHide(r)},s.prototype._defaultFunctionDehide=function(e,t){e.control.doDehide(this.dehideParam)},s.prototype.setupDefaultEvents=function(){var e=this;if(e.maximizeButton&&e.frame.on(e.maximizeButton,"click",e._defaultFunctionMaximize.bind(e)),e.demaximizeButton&&e.frame.on(e.demaximizeButton,"click",e._defaultFunctionDemaximize.bind(e)),e.minimizeButton&&e.frame.on(e.minimizeButton,"click",e._defaultFunctionMinimize.bind(e)),e.deminimizeButton&&e.frame.on(e.deminimizeButton,"click",e._defaultFunctionDeminimize.bind(e)),e.hideButton&&e.frame.on(e.hideButton,"click",e._defaultFunctionHide.bind(e)),e.hideButtons)for(var t in e.hideButtons){var r=e.hideButtons[t];r&&e.frame.on(r,"click",e._defaultFunctionHide.bind(e))}},e.exports=s}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,r(138)})(),e.exports=t()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";var e=r(633);class t{static createWordReviewButtons(e){const r=e.quiz;if(null==r)return"";const n=r.id,o=r.review,i=`<div id="diqt-dict-review-btn-wrapper-${n}">${t.createReviewBtnHtml(r,o)}</div>`,a=e.reversed_quiz;if(null==a)return i;const s=a.id,l=a.review;return i+`<div id="diqt-dict-review-btn-wrapper-${s}">${t.createReviewBtnHtml(a,l)}</div>`}static createSentenceReviewButtons(e){const r=e.quiz;if(null==r)return console.log("quiz is null"),"";const n=r.review,o=`<div id="diqt-dict-review-btn-wrapper-${r.id}">${t.createReviewBtnHtml(r,n)}</div>`,i=e.reversed_quiz;if(null==i)return console.log("reversedQuiz is null"),o;const a=i.review;return o+`<div id="diqt-dict-review-btn-wrapper-${i.id}">${t.createReviewBtnHtml(i,a)}</div>`}static createReviewBtnHtml(e,r){const n=e.id,o=t.reviewLabel(e);return r?`<button class="diqt-dict-review-btn diqt-already-set" id="diqt-dict-review-edit-btn-${n}" style="font-weight: bold;"><i class="far fa-alarm-clock" style="margin-right: 4px;"></i>${chrome.i18n.getMessage("reviewFor",t.reviewInterval(r.interval_setting))}</button>\n            <div class="diqt-dict-review-form" id="diqt-dict-review-form-${n}"></div>`:`<button class="diqt-dict-review-btn" id="diqt-dict-review-create-btn-${n}" style="font-weight: bold;"><i class="far fa-alarm-clock" style="margin-right: 4px;"></i>${o}</button>`}static reviewLabel(e){return null!=e.word_id?chrome.i18n.getMessage("wordReviewLabel"):null!=e.reversed_word_id?chrome.i18n.getMessage("reversedWordReviewLabel"):null!=e.sentence_id?e.lang_number_of_question==e.lang_number_of_answer?chrome.i18n.getMessage("listeningSentenceReviewLabel"):chrome.i18n.getMessage("sentenceReviewLabel"):null!=e.reversed_sentence_id?chrome.i18n.getMessage("reversedSentenceReviewLabel"):chrome.i18n.getMessage("remember")}static setEventsToReviewButtons(e){const r=e.quiz;if(null!=r){const e=r.review;t.setEventToReviewBtn(r,e)}const n=e.reversed_quiz;if(null!=n){const e=n.review;t.setEventToReviewBtn(n,e)}const o=e.sentence;if(null==o)return;const i=o.quiz;if(null!=i){const e=i.review;t.setEventToReviewBtn(i,e)}const a=o.reversed_quiz;if(null!=a){const e=a.review;t.setEventToReviewBtn(a,e)}}static setEventToReviewBtn(e,r){r?t.editReviewSetting(e,r):t.createReviewSetting(e)}static setSignInToReviewBtn(e){const t=e.id,r=document.querySelector(`#not-logged-in-review-btn-${t}`);r&&r.addEventListener("click",(function(){return chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{})),!0}))}static renderReviewForm(e,r){const n=e.id;document.querySelector("#diqt-dict-review-form-"+n).innerHTML=t.reviewFormHtml(r),t.addEventToForm(e,r)}static reviewFormHtml(e){const r=e.quiz_id;return`\n        <div class="boqqs-dict-reminder-status">\n        <p>${chrome.i18n.getMessage("reviewScheduledDate")}${e.scheduled_date}</p>\n        <p>${chrome.i18n.getMessage("reviewInterval")}${chrome.i18n.getMessage("reviewFor",t.reviewInterval(e.interval_setting))}</p>  \n        <button class="diqt-dict-destroy-review-btn" id="diqt-dict-destroy-review-btn-${r}"><i class="far fa-trash"></i> ${chrome.i18n.getMessage("destroyReview")}</button>\n        </div>      \n<div class="diqt-dict-select-form cp_sl01">\n<select id="diqt-dict-select-form-${r}" required>\n\t${t.createOptions(e)}\n</select>\n</div>\n<button class="diqt-dict-submit-review-btn" id="diqt-dict-update-review-btn-${r}">${chrome.i18n.getMessage("setReview")}</button>\n<div class="diqt-dict-recommend-premium" id="diqt-dict-recommend-premium-${r}"></div>`}static reviewInterval(e){let t="";switch(e=Number(e)){case 0:t=chrome.i18n.getMessage("tomorrow");break;case 1:t=chrome.i18n.getMessage("after3Days");break;case 2:t=chrome.i18n.getMessage("afterAWeek");break;case 3:t=chrome.i18n.getMessage("after2Week");break;case 4:t=chrome.i18n.getMessage("after3Week");break;case 5:t=chrome.i18n.getMessage("afterAMonth");break;case 6:t=chrome.i18n.getMessage("after2Month");break;case 7:t=chrome.i18n.getMessage("after3Month");break;case 8:t=chrome.i18n.getMessage("after6Month");break;case 9:t=chrome.i18n.getMessage("afterAYear")}return t}static createOptions(e){let r=0;e.interval_setting&&(r=Number(e.interval_setting));let n="";for(let o=0;o<10;o++){let i="";0!=o&&"false"==e.premium&&(i=" "),n+=o==r?`<option value="${o}" selected>${i}${chrome.i18n.getMessage("reviewFor",t.reviewInterval(o))}</option>`:`<option value="${o}">${i}${chrome.i18n.getMessage("reviewFor",t.reviewInterval(o))}</option>`}return n}static addEventToForm(e,r){t.updateReviewSetting(e,r),t.destroyReviewSetting(e,r)}static createReviewSetting(e){const r=e.id,n=document.querySelector(`#diqt-dict-review-create-btn-${r}`);n&&n.addEventListener("click",(function(){n.disabled=!0,n.textContent=chrome.i18n.getMessage("nowSetting");const o=chrome.runtime.connect({name:"createReview"});o.postMessage({action:"createReview",quizId:r}),o.onMessage.addListener((function(o){n.disabled=!1;const i=o.data;if("401"==i.status)return void(n.textContent=i.message);const a=i.review,s=t.createReviewBtnHtml(e,a,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${r}`).innerHTML=s,t.editReviewSetting(e,a),!0}))}))}static editReviewSetting(e,r){const n=e.id,o=document.querySelector(`#diqt-dict-review-edit-btn-${n}`);o&&o.addEventListener("click",(function(){t.renderReviewForm(e,r)}))}static updateReviewSetting(e,r){const n=e.id,o=document.querySelector("#diqt-dict-update-review-btn-"+n);o.addEventListener("click",(function(){o.disabled=!0,o.textContent=chrome.i18n.getMessage("nowSetting");const i=document.querySelector("#diqt-dict-select-form-"+n).value,a=chrome.runtime.connect({name:"updateReview"});a.postMessage({action:"updateReview",reviewId:r.id,settingNumber:i}),a.onMessage.addListener((function(r){o.disabled=!1;const i=r.data;if("401"==i.status)return void(o.textContent=i.message);const a=i.review,s=t.createReviewBtnHtml(e,a,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${n}`).innerHTML=s,t.editReviewSetting(e,a),!0}))}))}static destroyReviewSetting(e,r){const n=e.id,o=document.querySelector(`#diqt-dict-destroy-review-btn-${n}`);o.addEventListener("click",(function(){o.disabled=!0,o.textContent=chrome.i18n.getMessage("nowSetting");const i=chrome.runtime.connect({name:"destroyReview"});i.postMessage({action:"destroyReview",reviewId:r.id}),i.onMessage.addListener((function(r){if(o.disabled=!1,"401"==r.data.status)return void(o.textContent="401 error");const i=t.createReviewBtnHtml(e,null,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${n}`).innerHTML=i,t.createReviewSetting(e),!0}))}))}}const n=chrome.i18n.getUILanguage().split("-")[0],o=`https://www.diqt.net/${["ja","en"].includes(n)?n:"ja"}/plans/premium`;class i{static addTranslationButtons(e,t,r,n){r!=n?(e.innerHTML=i.createTranslationHtml(r,n),i.setEventsToTranslation(e,t,r,n)):e.innerHTML=""}static createTranslationHtml(e,t){return e==t?"":`<div class="small-translation-buttons">\n                    <span class="diqt-google-translation-btn-wrapper">\n                        <a class="diqt-google-translation-btn">${chrome.i18n.getMessage("googleTranslation")}</a>\n                    </span>\n                    <span> / </span>\n                    <span class="diqt-deepl-translation-btn-wrapper">\n                        <a class="diqt-deepl-translation-btn">${chrome.i18n.getMessage("deepLTranslation")}</a>\n                    </span>\n                    <div class="diqt-google-translation-form"></div>\n                    <div class="diqt-deepl-translation-form"></div>\n                </div>`}static setEventsToTranslation(e,t,r,n){if(r==n)return!0;const i=e.querySelector(".diqt-google-translation-btn"),a=e.querySelector(".diqt-google-translation-btn-wrapper"),s=e.querySelector(".diqt-google-translation-form");i.addEventListener("click",(function(){a.innerHTML=`<span>${chrome.i18n.getMessage("translating")}</span>`;const e=chrome.runtime.connect({name:"googleTranslation"});e.postMessage({action:"googleTranslation",keyword:t,sourceLangNumber:r,targetLangNumber:n}),e.onMessage.addListener((function(e){const t=e.data;if(a.innerHTML=`<span>${chrome.i18n.getMessage("translated")}</span>`,"200"==t.status){const e=`<p class="diqt-translation-service">${chrome.i18n.getMessage("googleTranslation")}</p>\n                    <p class="diqt-translation-results">${t.translation}</p>`;s.innerHTML=e}else s.innerHTML=`<a href="${o}" target="_blank" rel="noopener" style="font-size: 14px; color: #27ae60;">${t.message}</a>`;return!0}))}));const l=e.querySelector(".diqt-deepl-translation-btn"),d=e.querySelector(".diqt-deepl-translation-btn-wrapper"),c=e.querySelector(".diqt-deepl-translation-form");l.addEventListener("click",(function(){d.innerHTML=`<span>${chrome.i18n.getMessage("translating")}</span>`;const e=chrome.runtime.connect({name:"deeplTranslation"});e.postMessage({action:"deeplTranslation",keyword:t,sourceLangNumber:r,targetLangNumber:n}),e.onMessage.addListener((function(e){const t=e.data;if(d.innerHTML=`<span>${chrome.i18n.getMessage("translated")}</span>`,"200"==t.status){const e=`<p class="diqt-translation-service">${chrome.i18n.getMessage("deepLTranslation")}</p>\n                    <p class="diqt-translation-results">${t.translation}</p>`;c.innerHTML=e}else c.innerHTML=`<a href="${o}" target="_blank" rel="noopener" style="font-size: 14px; color: #27ae60;">${t.message}</a>`;return!0}))}))}}const a=chrome.i18n.getUILanguage().split("-")[0],s=["ja","en"].includes(a)?a:"ja",l="ja"==s?44:21,d=`https://www.diqt.net/${s}`;class c{static createHtml(e){const r=e.sentence;if(null==r)return"";const n=c.createContentHtml(r),o=t.createSentenceReviewButtons(r),i=`${d}/sentences/${r.id}`;return'<div class="diqt-dict-sentence-wrapper">'+n+o+f.liknToEditHtml(i,chrome.i18n.getMessage("editSentence"))+"</div>"}static setEventsToSentenceTranslation(e){if(0==c.sentenceTranslationButtonDisplayed(e))return!1;const t=document.getElementById(`sentence-translation-buttons-sentence-${e.id}`);i.addTranslationButtons(t,e.original,e.lang_number_of_original,l)}static createContentHtml(e){return`<div class="diqt-dict-sentence-content-wrapper">\n        <div class="diqt-dict-sentence-content">\n        <div class="diqt-dict-sentence-text">${f.markNotation(e.original)}</div>\n                          <div id="sentence-translation-buttons-sentence-${e.id}"></div>\n        ${c.createTranslationHtml(e)}\n        </div>\n        ${c.createAudioButton(e)}\n        </div>`}static createAudioButton(e){return null==e.original_audio_url||""==e.original_audio_url?"":`<button class="diqt-dict-speech-btn" value="${e.original_audio_url}"><i class="fas fa-volume-up"></i></button>`}static createTranslationHtml(e){return e.lang_number_of_original==e.lang_number_of_translation?"":`<div class="diqt-dict-sentence-text">${e.translation}</div>`}static sentenceTranslationButtonDisplayed(e){return null!=e&&e.lang_number_of_original!=l&&(e.lang_number_of_original==e.lang_number_of_translation||e.lang_number_of_translation!=l)}}const u=chrome.i18n.getUILanguage().split("-")[0],m=["ja","en"].includes(u)?u:"ja",p="ja"==m?44:21,h=`https://www.diqt.net/${m}`;class f{static createWordHtml(e){const r=`${h}/words/${e.id}`;return`<div class="diqt-dict-entry">\n                            <span>${e.entry}</span><button class="diqt-dict-speech-btn" value="${e.entry_audio_url}"><i class="fas fa-volume-up"></i></button>\n                        </div>`+f.createPronunciation(e)+f.createPos(e)+`<div class="diqt-dict-meaning">${f.markNotation(e.meaning)}</div>\n                        <div id="meaning-translation-buttons-word-${e.id}"></div>`+t.createWordReviewButtons(e)+c.createHtml(e)+f.liknToEditHtml(r,chrome.i18n.getMessage("editWord"))+'<div style="width: 100%; height: 24px;"></div>'}static createPronunciation(e){return 44==e.lang_number_of_entry?`<div class="diqt-dict-pronunciation">${e.reading}</div>`:`<div class="diqt-dict-pronunciation">${e.ipa}</div>`}static createPos(e){return null!=e.pos_tag?`<div class="diqt-item-label">${e.pos_tag.name}</div>`:null!=e.pos&&""!=e.pos?`<div class="diqt-item-label">${e.pos}</div>`:""}static setEventsToMeaningTranslation(e){const t=document.getElementById(`meaning-translation-buttons-word-${e.id}`);i.addTranslationButtons(t,e.meaning,e.lang_number_of_meaning,p)}static liknToEditHtml(e,t){return`<div style="display: flex;">\n                    <a href="${e+"/edit"}" target="_blank" rel="noopener" class="diqt-dict-link-to-edit" style="margin-top: 0; margin-bottom: 8px; padding-top: 0; padding-bottom: 0;"><i class="fal fa-edit"></i> ${t}</a>\n                    <a href="${e}" target="_blank" rel="noopener" class="diqt-dict-link-to-edit" style="margin-left: auto; margin-top: 0; margin-bottom: 8px; padding-top: 0; padding-bottom: 0;"><i class="fal fa-external-link" style="margin-right: 4px;"></i>${chrome.i18n.getMessage("details")}</a>\n                </div>`}static setEventsToWord(e){f.setEventsToMeaningTranslation(e),t.setEventsToReviewButtons(e);const r=e.sentence;c.setEventsToSentenceTranslation(r)}static notFoundFormHtml(e,t){return`<div class="diqt-dict-meaning" style="margin: 24px 0;">${chrome.i18n.getMessage("noWordFound",[e])}</div><a href="${h}/words/new?dictionary_id=${t.id}&text=${e}" target="_blank" rel="noopener" style="text-decoration: none;">\n                <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("addWord")}</div></a><a href="https://www.google.com/search?q=${e}+${chrome.i18n.getMessage("meaning")}&oq=${e}+${chrome.i18n.getMessage("meaning")}"" target="_blank" rel="noopener" style="text-decoration: none;">\n            <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("searchByWeb")}</div></a>`}static newWordHtml(e,t){return`<a href="${h}/words/new?dictionary_id=${t.id}&text=${e}" target="_blank" rel="noopener" style="text-decoration: none;">\n                <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("addWord")}</div></a><a href="https://www.google.com/search?q=${e}+${chrome.i18n.getMessage("meaning")}&oq=${e}+${chrome.i18n.getMessage("meaning")}"" target="_blank" rel="noopener" style="text-decoration: none;">\n            <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("searchByWeb")}</div></a>`}static markNotation(e){const t=e.replace(/\r?\n/g,"<br>").split(/(\[{2}.*?\]{2})/);let r=[];return t.forEach((function(e,t,n){if(null==e.match(/\[{2}.+\]{2}/))r.push(e);else{let t;t=null==(e=(e=e.replace(/\[{2}/g,"").replace(/\]{2}/g,"")).split(/\|/,2))[1]?`<a class="diqt-notation-link" data-value="${e[0]}">${e[0]}</a>`:`<a class="diqt-notation-link" data-value="${e[1]}">${e[0]}</a>`,r.push(t)}})),r.join("")}static activateClickSearch(e){const t=e.querySelectorAll(".diqt-notation-link"),r=document.querySelector("#diqt-dict-search-form");t.forEach((function(e){e.addEventListener("click",(function(e){const t=e.target.dataset.value;return r.value!=t&&(r.value=t,f.searchWord(t)),!1}))}))}static enableTTS(e){const t=e.querySelectorAll(".diqt-dict-speech-btn");speechSynthesis.getVoices(),t.forEach((function(e){e.addEventListener("click",(function(t){if(""==e.value){speechSynthesis.cancel();const t=e.previousElementSibling.textContent,r=new SpeechSynthesisUtterance,n=speechSynthesis.getVoices().find((function(e){return"Samantha"===e.name}));return r.voice=n,r.lang="en-US",r.volume=1,r.rate=1,r.pitch=1,r.text=t,speechSynthesis.speak(r),!1}console.log("Sending message to background.js:",e.value),chrome.runtime.sendMessage({action:"playAudio",url:e.value},(e=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):console.log("Audio play response:",e)}))}))}))}}const g=["explain_meaning","explain_usage","explain_example","explain_synonym","explain_antonym","explain_conjugation","explain_grammar","proofread_sentence"];class y{static addAISearchForm(e,t){const r=document.querySelector("#diqt-dict-ai-search-wrapper");chrome.storage.local.get(["selectedPromptKey"],(function(n){let o=n.selectedPromptKey;0==g.includes(o)&&(o=g[0],chrome.storage.local.set({selectedPromptKey:o}));const i=y.createOptionsHtml(o);r.innerHTML=i,y.setEventsToAISearchForm(e,t)}))}static setEventsToAISearchForm(e,t){const r=document.querySelector("#diqt-dict-ai-search-submit-button");r.addEventListener("click",(function(){r.disabled=!0;const n=document.querySelector("#diqt-dict-prompt-select-form").value;chrome.storage.local.set({selectedPromptKey:n},(function(){console.log("Value is set to "+n)})),r.textContent=chrome.i18n.getMessage("asking");const o=document.querySelector("#diqt-dict-ai-search-results");o.innerHTML='<div class="center"><div class="lds-ripple-diqt-dict"><div></div><div></div></div></div>';const i=chrome.runtime.connect({name:"aiSearch"});i.postMessage({action:"aiSearch",keyword:e,sourceLangNumber:t.lang_number_of_entry,targetLangNumber:t.lang_number_of_meaning,promptKey:n,version:3}),i.onMessage.addListener((function(e){r.disabled=!1,r.textContent=chrome.i18n.getMessage("askAI");const t=e.data.ai_searcher.results.replace(/\n/g,"<br>"),i=y.camelCase(n);o.innerHTML=`<div id="diqt-dict-prompt-key">${chrome.i18n.getMessage(i)}:</div>\n                                         <div id="diqt-dict-ai-search-results">${t}</div>`}))}))}static createOptionsHtml(e){return`<div class="diqt-dict-select-form cp_sl01">\n                    <select id="diqt-dict-prompt-select-form" required>\n                        ${g.map((t=>y.optionHtml(t,e))).join("")}\n                    </select>\n                </div>\n                <button class="diqt-dict-submit-review-btn" id="diqt-dict-ai-search-submit-button">${chrome.i18n.getMessage("askAI")}</button>\n                <div id="diqt-dict-ai-search-results"></div>`}static optionHtml(e,t){const r=y.camelCase(e);return`<option value="${e}" ${t==e?"selected":""}>${chrome.i18n.getMessage(r)}</option>`}static camelCase(e){return e.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))}}class v{static inilialize(){const e=document.querySelector("#diqt-dict-search-form");v.mouseupSearch(),v.searchViaForm(e),v.preventEnter(e),v.searchSelectedText()}static mouseupSearch(){document.addEventListener("mouseup",(function(e){v.searchSelectedText(),e.stopPropagation()}),!1)}static searchSelectedText(){const e=window.getSelection().toString(),t=document.querySelector("#diqt-dict-extension-wrapper");if(t&&t.contains(window.getSelection().anchorNode))return;const r=document.querySelector("#diqt-dict-search-keyword");let n;if(n=r?r.textContent:"",e.length>=1e3)document.querySelector("#search-diqt-dict-results").innerHTML=`<p style="color: #EE5A5A; font-size: 12px;">${chrome.i18n.getMessage("searchLimit")}</p>`;else if(""!=e&&n!=e&&e.length<1e3){const t=document.querySelector("#diqt-dict-search-form");t&&(t.value=e,v.searchWord(e))}}static searchViaForm(e){e.addEventListener("keyup",(function(){const t=e.value,r=document.querySelector("#diqt-dict-search-keyword").textContent;setTimeout((()=>{const e=document.querySelector("#diqt-dict-search-form").value;t==e&&t!=r&&t.length<1e3?v.searchWord(t):t.length>=1e3&&(document.querySelector("#search-diqt-dict-results").innerHTML=`<p style="color: #EE5A5A; font-size: 12px;">${chrome.i18n.getMessage("searchLimit")}</p>`)}),500)}))}static preventEnter(e){e.addEventListener("keydown",(function(e){"Enter"==e.key&&e.preventDefault()}))}static searchWord(e){let t;document.querySelector("#diqt-dict-search-keyword").textContent=e,v.switchLoading(),t=e.length>50?encodeURIComponent(e.slice(0,50)):encodeURIComponent(e);const r=chrome.runtime.connect({name:"search"});r.postMessage({action:"search",keyword:t}),r.onMessage.addListener((function(t){const r=t.data,n=r.dictionary;return v.renderSearchInfo(n,e),v.searchSuccess(r),!0}))}static switchLoading(){document.querySelector("#diqt-dict-keyword-translation-wrapper").innerHTML="",document.querySelector("#diqt-dict-ai-search-wrapper").innerHTML="",document.querySelector("#search-diqt-dict-results").innerHTML='<div class="center"><div class="lds-ripple-diqt-dict"><div></div><div></div></div></div>'}static search(){const e=document.querySelector("#diqt-dict-search-form").value;v.searchWord(e)}static searchSuccess(e){const t=document.querySelector("#search-diqt-dict-results");t.innerHTML="";const r=e.words,n=e.dictionary;if(null!=r){r.forEach((function(e,r,n){const o=f.createWordHtml(e);t.insertAdjacentHTML("beforeend",o),f.setEventsToWord(e)})),f.activateClickSearch(t),f.enableTTS(t);const e=document.querySelector("#diqt-dict-search-keyword").textContent;r[0].entry!=e?t.insertAdjacentHTML("beforeend",f.notFoundFormHtml(e,n)):t.insertAdjacentHTML("beforeend",f.newWordHtml(e,n))}else if(null==e.status){const e=`<div class="diqt-dict-meaning" style="margin: 24px 0;">${chrome.i18n.getMessage("searchError")}<a id="diqt-dict-option-btn" style="color: #27ae60;">${chrome.i18n.getMessage("searchErrorSolution")}</a></div>`;t.insertAdjacentHTML("afterbegin",e),document.querySelector("#diqt-dict-option-btn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))}else{let e=document.querySelector("#diqt-dict-search-keyword").textContent;e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.length<50&&e.length>0&&t.insertAdjacentHTML("beforeend",f.notFoundFormHtml(e,n))}}static renderSearchInfo(e,t){if(e){const r=document.querySelector("#diqt-dict-keyword-translation-wrapper");i.addTranslationButtons(r,t,e.lang_number_of_entry,e.lang_number_of_meaning),y.addAISearchForm(t,e)}}}function b(){let t=document.getElementById("diqt-dict-extension-wrapper");if(null==t){const r=new e.JSFrame({horizontalAlign:"right"}),n=`\n        <div id="diqt-dict-extension-wrapper">\n        <a>\n        <div id="diqt-dict-logged-in-user" style="font-size: 10px;">Loading...</div>\n        </a>\n        <div id="diqt-dict-dictionary-select-form-wrapper">Loading...</div>\n        <form method="get" action=""><input type="text" name="keyword" id="diqt-dict-search-form" placeholder="${chrome.i18n.getMessage("searchPlaceholder")}"></form>\n        <div id="diqt-dict-search-status">\n            <div>${chrome.i18n.getMessage("searchContent")}:</div>\n            "<span id="diqt-dict-search-keyword"></span>"\n            <div id="diqt-dict-keyword-translation-wrapper"></div>\n            <div id="diqt-dict-ai-search-wrapper"></div>\n        </div>\n        <div id="search-diqt-dict-results"></div>\n        </div>`,o=r.create({name:"diqt-dict-window",title:chrome.i18n.getMessage("ctrlQ"),width:320,height:480,movable:!0,resizable:!0,appearanceName:"material",appearanceParam:{border:{shadow:"2px 2px 10px  rgba(0, 0, 0, 0.5)",width:0,radius:6},titleBar:{name:"diqt-dict-window-bar",color:"white",background:"#273132",leftMargin:16,height:30,fontSize:14,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0}]}},style:{overflow:"auto"},html:n});o.setPosition(-20,100,["RIGHT_TOP"]),o.show(),t=o.$("#diqt-dict-extension-wrapper"),t.parentNode.parentNode.parentNode.parentNode.parentNode.style.zIndex="2147483647",chrome.storage.local.get(["diqtUserPublicUid"],(function(e){e.diqtUserPublicUid?(v.inilialize(),w()):w()}))}else t.parentNode.parentNode.parentNode.parentNode.parentNode.remove()}function w(){const e=chrome.runtime.connect({name:"inspectCurrentUser"});e.postMessage({action:"inspectCurrentUser"}),e.onMessage.addListener((function(e){const t=e.data;return 200==t.status?chrome.storage.local.get(["diqtUserName","diqtDictionaries","diqtSelectedDictionaryId"],(function(e){var t,r,n;t=e.diqtUserName,r=e.diqtDictionaries,n=e.diqtSelectedDictionaryId,document.querySelector("#diqt-dict-logged-in-user").innerHTML=`<i class="fal fa-user"></i> ${t} / ${chrome.i18n.getMessage("settings")}`,document.querySelector("#diqt-dict-dictionary-select-form-wrapper").innerHTML=function(e,t){let r=t;return console.log(r),(""==r||null==r)&&(r=1,chrome.storage.local.set({diqtSelectedDictionaryId:`${r}`})),r=Number(r),console.log(e),`<select id="diqt-dictionary-select-form">\n                ${JSON.parse(e).map((e=>function(e,t){const r=e[0]===t?"selected":"";return console.log(`item[0]: ${e[0]} / item[1]: ${e[1]}`),`<option value="${e[0]}" class="diqt-dictionary-select-option" ${r}>${e[1]}</option>`}(e,r))).join("")}\n            </select>`}(r,n),document.getElementById("diqt-dictionary-select-form").addEventListener("change",(function(e){let t=`${e.currentTarget.value}`;chrome.storage.local.set({diqtSelectedDictionaryId:t}),v.search()}))})):401==t.status?(document.querySelector("#diqt-dict-extension-wrapper").innerHTML=`<p style="font-size: 16px;">${chrome.i18n.getMessage("signInRecommendation")}</p><button class="diqt-dict-submit-review-btn" id="diqt-dict-sign-in-btn">${chrome.i18n.getMessage("signIn")}</button>`,document.querySelector("#diqt-dict-sign-in-btn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))):(document.querySelector("#diqt-dict-logged-in-user").innerHTML='<i class="fal fa-user"></i> Error',document.querySelector("#diqt-dict-dictionary-select-form-wrapper").innerHTML=`<p>${chrome.i18n.getMessage("statusError")}</p>`),!0})),document.querySelector("#diqt-dict-logged-in-user").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))}chrome.runtime.onMessage.addListener((function(e,t,r){switch(e){case"Action":b();break;case"Updated":chrome.storage.local.get(["diqtPopupDisplayed"],(function(e){if(!1===e.diqtPopupDisplayed||""===e.diqtPopupDisplayed)return;document.addEventListener("selectionchange",(()=>{const e=document.querySelector("#diqt-dict-extension-wrapper"),t=window.getSelection().toString();let r=document.querySelector("#diqt-dict-popup-to-display-window");if(r&&r.remove(),null==e&&""!=t){const e=window.getSelection().getRangeAt(0),t=document.createRange();if(0==e.endOffset)return;t.setStart(e.endContainer,e.endOffset-1),t.setEnd(e.endContainer,e.endOffset);const n=t.getBoundingClientRect();if(0==n.top&&0==n.left)return;const o=`<button id="diqt-dict-popup-to-display-window" style="position: absolute; width: 32px; height: 32px; background-color: #273132; top: ${window.pageYOffset+n.top+32}px; left: ${window.pageXOffset+n.left}px; z-index: 2147483647; border: 0; border-radius: 4px; padding: 0; margin: 0;">\n                    <img src="https://diqt.s3.ap-northeast-1.amazonaws.com/assets/images/main/diqt_logo.svg" alt="diqt Icon" style="height: 24px;width: 24px; margin: 4px 2px 2px 3px; padding: 0;">\n                    </button>`;document.querySelector("html body").insertAdjacentHTML("beforeend",o),r=document.querySelector("button#diqt-dict-popup-to-display-window"),r.addEventListener("click",(function(){b(),r.remove()}))}}))}))}return!0})),document.addEventListener("keydown",(e=>{e.ctrlKey&&"q"===e.key&&b()}))})()})();