(()=>{var e={633:e=>{var t;self,t=()=>(()=>{var e={8:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}e.d(t,{default:()=>d});var d=function(){function e(t){if(a(this,e),this.onListeners=new Map,this.onlyListeners=new Map,t){var n,o=r(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=new c;this.onListeners.set(i,s)}}catch(e){o.e(e)}finally{o.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return l(e,[{key:"on",value:function(e,t){var r=this.onListeners.get(e);if(r||(r=new c,this.onListeners.set(e,r)),r.addListenerFunc(t),this.onIntercepterFuncs)for(var o=0,i=Object.entries(this.onIntercepterFuncs);o<i.length;o++){var a=n(i[o],2),s=a[0];(0,a[1])({eventType:e,func:t,onIntercepterFuncname:s})}}},{key:"removeListener",value:function(e,t){var n=this.onListeners.get(e);n&&n.removeListener(t)}},{key:"only",value:function(e,t,n){var r=this.onlyListeners.get(e);r||(r=new u,this.onlyListeners.set(e,r)),r.putListenerFunc(t,n)}},{key:"pipe",value:function(e){this.childEventEmitters.push(e)}},{key:"emit",value:function(e,t){var n=this.onListeners.get(e);n&&(t.eventType=e,n.callListenerFunc(t));var o=this.onlyListeners.get(e);o&&(t.eventType=e,o.callListenerFunc(t));var i,a=r(this.childEventEmitters);try{for(a.s();!(i=a.n()).done;)i.value.emit(e,t)}catch(e){a.e(e)}finally{a.f()}}},{key:"getAllListeners",value:function(){var e={};this.onListeners.forEach((function(t,n){var r=n,o=t.getAllListeners();e[r]||(e[r]={}),e[r].listeners=o}));var t,n=0,o=r(this.childEventEmitters);try{for(o.s();!(t=o.n()).done;)t.value.onListeners.forEach((function(t,r){var o=r,i=t.getAllListeners();e[o]||(e[o]={}),e[o].childEventEmitters||(e[o].childEventEmitters=[]),e[o].childEventEmitters.push({childEmitterIdx:n,listeners:i})})),n++}catch(e){o.e(e)}finally{o.f()}return e}},{key:"hasListenerFuncs",value:function(e){if(this.onListeners.has(e)){var t=this.onListeners.get(e);if(t&&t.hasListenerFunc())return!0}var n,o=r(this.childEventEmitters);try{for(o.s();!(n=o.n()).done;)if(n.value.hasListenerFuncs(e))return!0}catch(e){o.e(e)}finally{o.f()}return!1}},{key:"clearAll",value:function(){var e,t=r(this.onListeners.values());try{for(t.s();!(e=t.n()).done;)e.value.clearAll()}catch(e){t.e(e)}finally{t.f()}this.onListeners.clear();var n,o=r(this.onlyListeners.values());try{for(o.s();!(n=o.n()).done;)n.value.clearAll()}catch(e){o.e(e)}finally{o.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(e,t){if(this.onIntercepterFuncs[e])throw Error('Always registered intercepter func "'.concat(e,'".'));this.onIntercepterFuncs[e]=t}},{key:"removeOnIntercepterFunc",value:function(e){delete this.onIntercepterFuncs[e]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var e=[],t=0,r=Object.entries(this.onIntercepterFuncs);t<r.length;t++){var o=n(r[t],2),i=o[0],a=o[1];e.push({funcName:i,func:a})}return e}}]),e}(),c=function(){function e(){a(this,e),this.listenerFuncs=[]}return l(e,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(e){this.listenerFuncs.push(e)}},{key:"callListenerFunc",value:function(e){var t,n=r(this.listenerFuncs);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("Function"!==this.typeOf(o)&&"AsyncFunction"!==this.typeOf(o))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function ( is type of A "'.concat(this.typeOf(o),'" ). listenerFunction:"').concat(o,'".Check args of #only method or #on method.'));o(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeListener",value:function(e){this.removeArrayItemOnce(this.listenerFuncs,e)}},{key:"removeArrayItemOnce",value:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}(),u=function(){function e(){a(this,e),this.listenerFuncMap=new Map}return l(e,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(e){return this.listenerFuncMap.has(e)}},{key:"putListenerFunc",value:function(e,t){this.listenerFuncMap.set(e,t)}},{key:"callListenerFunc",value:function(e){var t,n=r(this.listenerFuncMap.values());try{for(n.s();!(t=n.n()).done;){var o=t.value;if("Function"!==this.typeOf(o))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(o,'".Check args of #only method or #on method.'));o(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}();return t.default})()},212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".jsframe-titlebar-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-titlebar-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-modal-window-background {\n    background: rgba(0, 0, 0, 0.6);\n    height: 100%;\n    widdth: 100%\n}",""]);const i=o},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-material-default {\n    background: black;\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-material-focused {\n    background: black;\n    border-top-left-radius: 36px;\n    border-top-right-radius: 36px;\n}\n",""]);const i=o},369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-popup-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-popup-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n",""]);const i=o},890:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-redstone-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-redstone-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n",""]);const i=o},437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".jsframe-preset-style-yosemite-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-yosemite-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n",""]);const i=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},94:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,"default",(function(){return l}));var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.evTargetListenersMap=new Map,this.listenerNum=0}var t;return(t=[{key:"addEventListener",value:function(e,t,n,r){var o=this,i=null;if(r&&(i=this._cloneJson(r)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(i);var a=null;i&&i.listenerName&&(a=i.listenerName);var s=null;i&&i.once&&(delete i.once,i.callbackOnce=!0,s=function(r){n(r),o.removeEventListener(e,t,null,i)});var l={listenerName:null,success:!0};s?e.addEventListener(t,s,i):e.addEventListener(t,n,i);var d=this.evTargetListenersMap.get(e);d||(d=new Map,this.evTargetListenersMap.set(e,d));var c=d.get(t);if(c||(c=new Map,d.set(t,c)),null!==a){if(c.has(a))throw Error('The listenerName "'.concat(a,'" is already used for the specified event type ').concat(t));c.set(a,{listener:n,onceListener:s,options:i}),l.listenerName=a}else{var u="listener-".concat(this.listenerNum);i||(i={}),i.listenerName=u,c.set(u,{listener:n,onceListener:s,options:i}),l.listenerName=u,this.listenerNum+=1}return l}},{key:"removeEventListener",value:function(e,t,n,r){if(arguments.length<3)throw Error("Three or four arguments are required.");if("Function"!==this.typeOf(n)&&"Null"!==this.typeOf(n))throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(r);var o=null;r&&r.listenerName&&(o=r.listenerName);var i={success:!1,message:"unknown error"},a=this.evTargetListenersMap.get(e);if(!a)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have any listeners."),i;var s=a.get(t);if(!s)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listeners.'),i;if(o){var l=s.get(o);if(!l)return i.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listener "').concat(o,'"'),i;s.delete(o),l.options&&l.options.callbackOnce?e.removeEventListener(t,l.onceListener,l.options):e.removeEventListener(t,l.listener,l.options),i.success=!0}else if(!o){if(!n)return i.message="options.listenerName is not found",i;var d=n,c=this._searchKeyInValueContent(s,"listener",d);if(c){var u=s.get(c),m=u.onceListener,p=u.options;s.delete(c),m?e.removeEventListener(t,m,p):e.removeEventListener(t,n,p),i.success=!0}else i.success=!1,i.message="Specified listener could not be deleted from DOM element ".concat(e,"(id=").concat(e.id,").\n        Since the specified listener is not registered as an event listener,\n        it may have been registered outside of event-listener-helper.")}return i}},{key:"getEventListeners",value:function(e,t){return e?t?this._getEventListenersWith2Args(e,t):this._getEventListenersWith1Arg(e):[]}},{key:"getAllEventListeners",value:function(){var e=this,t=new Map;return this.evTargetListenersMap.forEach((function(n,r){var o=r,a=e._getEventListenersWith1Arg(o),s=new Map;t.set(o,s);var l,d=i(a);try{for(d.s();!(l=d.n()).done;){var c=l.value;s.set(c.eventType,c.listeners)}}catch(e){d.e(e)}finally{d.f()}})),t}},{key:"_getEventListenersWith1Arg",value:function(e){var t=[],n=this.evTargetListenersMap.get(e);if(!n)return t;var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var s,l=o(r.value,2),d=l[0],c=l[1],u=[],m=i(c.values());try{for(m.s();!(s=m.n()).done;){var p=s.value;u.push(this._getFrozenListenerDef(p))}}catch(e){m.e(e)}finally{m.f()}u.length>0&&t.push({eventType:d,listeners:u})}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"_getEventListenersWith2Args",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var n=[],r=this.evTargetListenersMap.get(e);if(!r)return n;var o=r.get(t);if(!o)return n;var a,s=i(o.values());try{for(s.s();!(a=s.n()).done;){var l=a.value,d=this._getFrozenListenerDef(l);n.push(d)}}catch(e){s.e(e)}finally{s.f()}return n}},{key:"getEventListener",value:function(e,t,n){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var r=this.evTargetListenersMap.get(e);if(!r)return null;var o=r.get(t);if(!o)return null;var i=o.get(n);return this._getFrozenListenerDef(i)}},{key:"hasEventListeners",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var n=this.evTargetListenersMap.get(e);if(!n)return!1;var r=n.get(t);return!(!r||0===r.size)}},{key:"hasEventListener",value:function(e,t,n){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var r=this.evTargetListenersMap.get(e);if(!r)return!1;var o=r.get(t);return!!o&&!!o.get(n)}},{key:"_getFrozenListenerDef",value:function(e){if(!e)return null;var t={},n=null,r=e.options;return r&&(n={},t.options=n,r.capture&&(n.capture=r.capture),r.callbackOnce&&(n.once=r.callbackOnce),r.listenerName&&(n.listenerName=r.listenerName)),t.listener=e.listener,Object.freeze(n),Object.freeze(t),t}},{key:"clearAllEventListeners",value:function(){var e,t=i(this.getAllEventTargets());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.clearEventListeners(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"clearEventListeners",value:function(e,t){if(!e)throw Error("At least the EventTarget must be specified as an argument");var n=this.getEventListeners(e,t);if(t){if(t){var r,o=i(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.removeEventListener(e,t,null,a.options)}}catch(e){o.e(e)}finally{o.f()}}}else{var s,l=i(n);try{for(l.s();!(s=l.n()).done;){var d,c=s.value,u=c.eventType,m=i(c.listeners);try{for(m.s();!(d=m.n()).done;){var p=d.value.options;this.removeEventListener(e,u,null,p)}}catch(e){m.e(e)}finally{m.f()}}}catch(e){l.e(e)}finally{l.f()}}}},{key:"clearEventListener",value:function(e,t,n){var r=this.getEventListener(e,t,n);r&&r.options&&this.removeEventListener(e,t,null,r.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(e){var t,n=[],r=i(this.getAllEventTargets());try{for(r.s();!(t=r.n()).done;){var o,a=t.value,s=this.evTargetListenersMap.get(a),l=i(s.keys());try{for(l.s();!(o=l.n()).done;){var d=o.value,c=s.get(d),u=this._getFrozenListenerDef(c.get(e));u&&n.push(u)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_searchKeyInValueContent",value:function(e,t,n){var r,a=i(e);try{for(a.s();!(r=a.n()).done;){var s=o(r.value,2),l=s[0];if(s[1][t]===n)return l}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"_checkTypeOfOptions",value:function(e){if("object"!==r(e)&&void 0!==e)throw"boolean"==typeof e?new Error("Type of boolean is not accepted as the fourth argument you specify.\n      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead."):new Error("Type of ".concat(r(e)," is not accepted as the fourth argument you specify.\n      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}."))}},{key:"_cloneJson",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()}]).default},886:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){var i=function(e){return e&&"object"===s(e)&&!Array.isArray(e)},a=n&&n.concatArray,d={};n&&n.assignToObject&&(d=n.assignToObject,n.assignToObject=null);var c,u,m,p=null;if(p=d===e?e:Object.assign(d,e),i(e)&&i(t))for(var h=0,f=Object.entries(t);h<f.length;h++){var g=o(f[h],2),y=g[0],v=g[1],b=e[y];a&&Array.isArray(v)&&Array.isArray(b)&&t!==e?p[y]=b.concat.apply(b,r(v)):i(v)&&Object.prototype.hasOwnProperty.call(e,y)?p[y]=l(b,v,n):Object.assign(p,(m=v,(u=y)in(c={})?Object.defineProperty(c,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[u]=m,c))}return p}function d(e){var t=null,n=null,r=e.op;if(!r)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var o="merge"===r,i="clone"===r,a="overwrite-merge"===r;if(o){if(t=e.object1,n=e.object2,!t||!n)throw Error("object1 or object2 is not specified.")}else if(a){if(t=e.object1,n=e.object2,!t||!n)throw Error("object1 or object2 is not specified.");if(0===Object.keys(n).length)return null}else{if(!i)throw Error('An invalid "op" property value "'.concat(r,'" has been specified.'));t=e.object1,n={}}var s,d=Object.create(Object.getPrototypeOf(t)),c=null,u=(s=t,Object.getPrototypeOf(s)!==Object.prototype);return o&&u||i?(l(t,t,{assignToObject:d,concatArray:e&&e.concatArray}),c=d):c={},l(i?c:t,n,{assignToObject:a?t:c,concatArray:e&&e.concatArray}),c}n.r(t),n.d(t,"default",(function(){return d}))}]).default},82:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(379),o=n.n(r),i=n(212);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},161:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(379),o=n.n(r),i=n(181);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},774:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(379),o=n.n(r),i=n(369);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(379),o=n.n(r),i=n(890);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(379),o=n.n(r),i=n(437);o()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var u=a(c),m={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(m)):i.push({identifier:c,updater:f(m,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function m(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function f(e,t){var n,r,o;if(t.singleton){var i=h++;n=p||(p=l(t)),r=u.bind(null,n,i,!1),o=u.bind(null,n,i,!0)}else n=l(t),r=m.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var l=s(e,t),d=0;d<n.length;d++){var c=a(n[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=l}}}},76:e=>{var t={LEFT_TOP:"LEFT_TOP",HCENTER_TOP:"CENTER_TOP",RIGHT_TOP:"RIGHT_TOP",LEFT_VCENTER:"LEFT_CENTER",HCENTER_VCENTER:"CENTER_CENTER"};t.CENTER=t.HCENTER_VCENTER,t.RIGHT_VCENTER="RIGHT_CENTER",t.LEFT_BOTTOM="LEFT_BOTTOM",t.HCENTER_BOTTOM="CENTER_BOTTOM",t.RIGHT_BOTTOM="RIGHT_BOTTOM",e.exports=t},704:(e,t,n)=>{"use strict";n(82);var r=n(8),o=n(76),i=n(295),a=n(171),s=n(970),l=n(260),d=n(243),c=n(94),u={yosemite:n(933),redstone:n(35),popup:n(182),toast:n(282),material:n(145)},m={yosemite:n(726)},p={};function h(e,t,n,r,o,i,a,s){var l=this;l.movable=!0,l.id=e,l.property={},l.extra={},l.parentCanvas=null,l.htmlElement=null,l.pullUpDisabled=!1,s&&(l.pullUpDisabled=s.pullUpDisabled),l.htmlElement=document.createElement(p.CBEAN.HTML_ELEMENT),l.htmlElement.id=p.CBEAN.HTML_ELEMENT_ID_PREFIX+e,l.htmlElement.style.position="absolute",l.htmlElement.style.left=parseInt(t,10)+"px",l.htmlElement.style.top=parseInt(n,10)+"px",l.htmlElement.style.width=parseInt(r,10)+"px",l.htmlElement.style.height=parseInt(o,10)+"px",null!==i&&(l.htmlElement.style.zIndex=i),l.htmlElement.style.borderColor="#000000",l.htmlElement.style.fontSize="1px",l.htmlElement.parent=l,l.htmlElement.onmousedown=l.onmouseDown,"ontouchstart"in window&&(l.htmlElement.ontouchstart=function(e){l.onmouseDown.bind(this)(e)}),l.htmlElement.typeName=p.CBEAN.TYPE_NAME,l.htmlElement.usage="nothing",l.htmlElement.isRangeLimited=!1,l.htmlElement.argX=1,l.htmlElement.argY=1,l.externalAreaClickedListener=null,l.onMoveListener=null}function f(e,t,n,r,o,i){var a=this;a.enablePullUp=!0,a.currentObject=null,a.onTopObject=null,a.offsetX=0,a.offsetY=0,a.mouseDownSource=null,a.id=t,a.canvasElement=null,a.parentElement=e,a.beanList=new Array,a.beanIdName={},a.beanNameId={},a.eventData=new function(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null},a.baseZIndex=0,a.setBaseZIndex=function(e){a.baseZIndex=e},a.getBaseZIndex=function(){return a.baseZIndex},a.canvasElement=document.createElement(p.CANVAS.HTML_ELEMENT),a.canvasElement.style.zIndex=2e3,a.canvasElement.id=a.id,a.canvasElement.style.boxSizing="border-box",a.canvasElement.style.position="absolute",a.canvasElement.style.left=parseInt(n)+"px",a.canvasElement.style.top=parseInt(r)+"px",a.canvasElement.style.width=parseInt(o)+p.CANVAS.WIDTH_ADJUST_20180722+"px",a.canvasElement.style.height=parseInt(i)+p.CANVAS.HEIGHT_ADJUST_20180722+"px",a.canvasElement.style.backgroundColor="transparent",a.canvasElement.style.borderStyle="none",a.canvasElement.style.margin="0px",a.canvasElement.style.borderWidth="0px",a.canvasElement.style.borderColor="transparent",a.parentElement.appendChild(a.canvasElement)}function g(e,t,n,r,i,a,s,l){var d=this;g.superConstructor.call(this,e,t,n,r,i,a,s,l),d.anchor=o.LEFT_TOP,d.showTitleBar=l.showTitleBar,d.canvasNetHeight=null,d.canvasNetWidth=null,d.frameHeightAdjust=l.frameHeightAdjust,d.frameComponentMap={},d.canvas=null,d.myCanvasId=null,d.floatingButton=null,d.titleBarClassNameDefault="jsframe-titlebar-default",d.titleBarClassNameFocused="jsframe-titlebar-focused",d.titleBarHeight=l.titleBarHeight,d.titleBarCaption=l.titleBarCaption,d.titleBarCaptionLeftMargin=l.titleBarCaptionLeftMargin,d.titleBarCaptionFontSize=l.titleBarCaptionFontSize,d.titleBarCaptionFontWeight=l.titleBarCaptionFontWeight,d.titleBarBorderBottomDefault=l.titleBarBorderBottomDefault,d.titleBarBorderBottomFocused=l.titleBarBorderBottomFocused,d.titleBarCaptionTextShadow=l.titleBarCaptionTextShadow,d.titleBarCaptionTextAlign=l.titleBarCaptionTextAlign,d.titleAdjustWidth=2,d.windowId=e,d.exBorderWidth=0,d.myCanvasId=e+"_canvas";var c=document.createElement("img");if(c.src="",c.style.position="absolute",c.style.left="2px",c.style.top="2px",c.style.width="16px",c.style.height="16px",c.style.visibility="hidden",d.titleBar=document.createElement("div"),d.titleBar.className="jsframetitlebar",d.showTitleBar){if(d.titleBar.id=e+"_title",d.titleBar.style.position="absolute",d.titleBar.style.boxSizing="border-box",d.titleBar.style.top="0px",d.titleBar.style.left="0px",d.titleBar.style.width=r-d.titleAdjustWidth+p.CANVAS.WIDTH_ADJUST_20180722+"px",d.titleBar.style.userSelect="none",d.titleBarHeight){var u=0;d.titleBarBorderBottomDefault&&(u=0),d.titleBar.style.height=parseInt(d.titleBarHeight,10)+0+"px"}d.titleBarColorDefault&&(d.titleBar.style.background=d.titleBarColorDefault),d.titleBar.style.zIndex=0,d.titleBar.style.color=d.titleBarCaptionColorDefault,d.titleBar.style.fontSize=d.titleBarCaptionFontSize,d.titleBar.style.fontWeight=d.titleBarCaptionFontWeight,d.titleBar.style.textShadow=d.titleBarCaptionTextShadow,d.titleBar.style.textAlign=d.titleBarCaptionTextAlign,d.titleBar.style.lineHeight=d.titleBar.style.height,d.titleBar.style.borderBottom=d.titleBarBorderBottomDefault,d.titleBar.style.overflow="hidden";var m=document.createTextNode(""),h=document.createElement("span");h.id=d.id+"_titleBarText",null!=d.titleBarCaptionLeftMargin?(h.style.position="absolute",h.style.left=parseInt(d.titleBarCaptionLeftMargin,10)+"px"):(h.style.position="absolute",h.style.left="0px",h.style.right="0px"),h.style.top="0px",h.appendChild(m),d.titleBar.appendChild(h)}d.htmlElement.appendChild(d.titleBar);var y=parseInt(d.titleBarHeight,10)-u,v=parseInt(d.titleAdjustWidth,10);d.showTitleBar||(y=0,v=0,u=0),d.canvasNetWidth=r-v,d.canvasNetHeight=i-y-v-1-u+d.frameHeightAdjust,d.htmlElement.style.cursor="move",d.canvas=new f(d.htmlElement,d.myCanvasId,0,y,r-v,i-y-v),d.canvas.enablePullUp=!1,d.canvas.canvasElement.style.backgroundColor=p.CFRAME.CANVAS_ELEMENT_BGCOLOR,d.canvas.canvasElement.style.cursor="default",d.canvas.canvasElement.onmousedown=d.canvasMouseDown,"ontouchstart"in window&&(d.canvas.canvasElement.ontouchstart=function(e){var t=e.changedTouches[0];d.canvasMouseDown.bind(this)(t)}),d.canvas.canvasElement.parentCFrame=d;var w,C,E,B=parseInt(d.canvas.canvasElement.style.width,10),x=parseInt(d.canvas.canvasElement.style.height,10),T=l.resizeAreaWidth,F=l.resizeAreaHeight,A=l.resizeAreaOffset;l.resizeAreaVisible&&(w="rgba(255, 0, 0, 0.5)",C="rgba(0, 0, 255, 0.5)",E="rgba(0, 255, 0, 0.5)");var S=new b(d.myCanvasId+"_RD",B+A,x+A,T,F,0,"RD",w);S.htmlElement.style.cursor="se-resize",S.htmlElement.argX=0,S.htmlElement.argY=0;var M=new b(d.myCanvasId+"_DD",0,x+A,B+A,F,0,"DD",C);M.htmlElement.style.cursor="n-resize",M.htmlElement.argX=0,M.htmlElement.argY=0;var _=new b(d.myCanvasId+"_RR",B+A,0,T,x+A,0,"RR",E);for(var k in _.htmlElement.style.cursor="w-resize",_.htmlElement.argY=0,_.htmlElement.argX=0,d.canvas.addBean(S),d.canvas.addBean(M),d.canvas.addBean(_),d.removeMarkers=function(){d.canvas.removeBean(S.id),d.canvas.removeBean(M.id),d.canvas.removeBean(_.id),d.htmlElement.style.cursor="default"},d.removeMarkers2=function(){d.canvas.removeBean(S.id),d.canvas.removeBean(M.id),d.canvas.removeBean(_.id)},d.enableMarkers=function(e){e?(S.htmlElement.style.display="flex",M.htmlElement.style.display="flex",_.htmlElement.style.display="flex",S.htmlElement.style.cursor="se-resize",M.htmlElement.style.cursor="n-resize",_.htmlElement.style.cursor="w-resize"):(S.htmlElement.style.display="none",M.htmlElement.style.display="none",_.htmlElement.style.display="none")},l.frameComponents){var I=l.frameComponents[k];I.setFrame(d),"closeButton"==I.id&&(I.htmlElement.onclick=d.close),I.htmlElement.querySelector(".jsframe-child-menu")&&d.eventListenerHelper.addEventListener(I.htmlElement,"click",(function(e){var t=e.target.getAttribute("component-id");if(d.hideFrameComponentChildMenus({exceptFrameComponentId:t}),t){var n=d.getFrameComponentElement(t).querySelector(".jsframe-child-menu");n&&("table"==n.style.display?n.style.display="none":n.style.display="table")}}),{listenerName:"frame-component_child-menu-listener"}),d.addFrameComponent(I)}d.htmlElement.style.backgroundColor="transparent",d.htmlElement.oncontextmenu=this.contextMenu,d.caribValue=0,d.exBorderWidth&&(d.htmlElement.style.borderWidth=d.exBorderWidth+"px"),d.htmlElement.style.width=parseInt(d.htmlElement.style.width,10)-0+"px",d.htmlElement.style.height=parseInt(d.htmlElement.style.height,10)-0+1+"px",d.htmlElement.typeName="cwindow",d.htmlElement.overflow="auto",d.htmlElement.style.boxSizing="content-box",l.frameBorderStyle&&(d.htmlElement.style.borderStyle=l.frameBorderStyle),l.frameBoxShadow&&(d.htmlElement.style.boxShadow=l.frameBoxShadow),parseInt(l.frameBorderWidthDefault,10)>=0&&(d.htmlElement.style.borderWidth=l.frameBorderWidthDefault,d.htmlElement.style.borderColor=l.frameBorderColorDefault),parseInt(l.frameBorderRadius,10)>=0&&(d.htmlElement.style.borderRadius=l.frameBorderRadius),d.onCloseFrameListener=null}function y(e,t,n,o,i,a){var s=t,l=n,d=o,u=i,m=a.zindex,p=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new c,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=a.titleBarColorFocused,this.titleBarColorDefault=a.titleBarColorDefault,this.titleBarCaptionColorDefault=a.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=a.titleBarCaptionColorFocused,y.superConstructor.call(p,e,s,l,d,u,m,null,a),p.frameBorderColorDefault=a.frameBorderColorDefault,p.frameBorderColorFocused=a.frameBorderColorFocused,p.frameBorderWidthDefault=a.frameBorderWidthDefault,p.frameBorderWidthFocused=a.frameBorderWidthFocused,p.iframe=null,p.ifDelta=0,p.resizable=!0,p.onMouseMoveOnIframe=null,p.onMouseUpOnIframe=null,p._hasFocus=!1,p._hasFocusTime=0,p.htmlElement.typeName="cifwindow";var h="riversun_"+e;p.dframe=document.createElement("div"),p.iframe=document.createElement("iframe"),p.iframe.name=h,p.iframe.id=h,p.iframe.frameBorder="0",p.iframe.zIndex=-1,p.iframe.allowTransparency="true",p.iframe.width=p.canvasNetWidth-p.ifDelta+0,p.iframe.height=p.canvasNetHeight-p.ifDelta+0,p.showTitleBar=a.showTitleBar,p.getFrameInnerBorderRadius=a.getFrameInnerBorderRadius,p.frameBorderRadius=a.frameBorderRadius,p.adjustFrameBorderRadius(),p.useIframe=!1,p.canvas.canvasElement.appendChild(p.iframe),p.canvas.canvasElement.appendChild(p.dframe),this.setUseIframe=function(e){p.useIframe=e,p.iframe.style.visibility="hidden",p.iframe.style.position="absolute",p.iframe.style.left="0px",p.iframe.style.top="0px",p.iframe.style.width="100%",p.iframe.style.height="100%",p.dframe.style.visibility="hidden",p.dframe.style.position="absolute",p.dframe.style.left="0px",p.dframe.style.boxSizing="content-box",p.dframe.style.top="0px",p.dframe.style.width="100%",p.dframe.style.height="100%",p.dframe.style.backgroundColor="white",e?(p.iframe.style.visibility="visible",p.dframe.style.visibility="hidden"):(p.iframe.style.visibility="hidden",p.dframe.style.visibility="visible")},p.setUseIframe(a.useIframe),(p.overrayTransparentScreenEnabled||p.overrayTransparentScreenOnResize)&&(p.transparence=document.createElement("span"),p.transparence.style.position="absolute",p.transparence.style.left="0px",p.transparence.style.top="0px",p.transparence.style.width="0px",p.transparence.style.height="0px",p.transparence.style.zIndex=4,p.transparence.style.borderWidth="0px",p.transparence.style.borderColor="#ff00ee",p.transparence.style.borderStyle="none",p.transparence.style.cursor="default",p.transparence.style.pointerEvents="none",p.canvas.canvasElement.style.backgroundColor=a.frameBackgroundColor,p.canvas.canvasElement.appendChild(p.transparence)),p.eventEmitter=new r,p.appearance=a}function v(e,t,n,r,o,i){v.superConstructor.call(this,e,t,n,r,o,i);var a=this;document.addEventListener("click",(function(e){for(var t in a.beanList)a.beanList[t].onBodyClicked(e)}))}function b(e,t,n,r,o,i,a,s){var l=this;b.superConstructor.call(this,e,t,n,r,o,i,a),l.htmlElement.typeName="cmarkerwindow",l.htmlElement.usage=a,l.htmlElement.isRangeLimited=!1,l.htmlElement.style.borderStyle="none",l.htmlElement.style.zIndex=1,s&&(l.htmlElement.style.background=s),l.getWindowType=function(){return"CMarkerWindow"}}function w(e){var t,n=this,r=null;function o(e){n.windowManager.windowMouseUp(e)}function i(e){n.windowManager.windowMouseMove(e)}n.isWindowManagerFixed=!0,e&&0==e.fixed&&(n.isWindowManagerFixed=!1),e&&e.parentElement&&(r=e.parentElement),n.hAlign="left",n.vAlign="top",e&&e.horizontalAlign&&(n.hAlign=e.horizontalAlign),e&&e.verticalAlign&&(n.vAlign=e.verticalAlign),n.pullToRefresh=!1,e&&"boolean"==typeof e.pullToRefresh&&(n.pullToRefresh=e.pullToRefresh),n.touchActionManipulation=!0,e&&"boolean"==typeof e.touchActionManipulation&&(n.touchActionManipulation=e.touchActionManipulation),r?n.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+n.generateUUID(),t.setAttribute("style","position:fixed;"+n.hAlign+":0px;"+n.vAlign+":0px;margin:0px;padding:0px;"),r.appendChild(t)):((t=document.createElement("div")).id="jsFrame_absolute_"+n.generateUUID(),t.setAttribute("style","position:absolute;"+n.hAlign+":0px;"+n.vAlign+":0px;margin:0px;padding:0px;"),r.appendChild(t)):n.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+n.generateUUID(),t.setAttribute("style","position:fixed;"+n.hAlign+":0px;"+n.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),r=t):((t=document.createElement("div")).id="jsFrame_absolute_"+n.generateUUID(),t.setAttribute("style","position:absolute;"+n.hAlign+":0px;"+n.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),r=t),document.addEventListener("mouseup",o),document.addEventListener("mousemove",i),"ontouchend"in window&&document.addEventListener("touchend",(function(e){o.bind(this)(e)})),"ontouchmove"in window&&(n.touchActionManipulation&&n.doEnableTouchActionManipulation(),n.pullToRefresh||n.doDisablePullToRefresh(),document.addEventListener("touchmove",(function(e){e.preventDefault(),i.bind(this)(e)}))),n.windowManager=new v(r,"windowManager_"+n.generateUUID(),0,0,0,0),n.domPartsBuilder=null}p.CBEAN={},p.CBEAN.HTML_ELEMENT="span",p.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",p.CBEAN.TYPE_NAME="bean",h.prototype.getWindowType=function(){return"CBeanFrame"},h.prototype.setOnMoveListener=function(e){this.onMoveListener=e},h.prototype._onMove=function(e){this.onMoveListener&&this.onMoveListener(e)},h.prototype.setMovable=function(e){var t=this;return e?(t.htmlElement.argX=1,t.htmlElement.argY=1):(t.htmlElement.argX=0,t.htmlElement.argY=0),t.movable=e,t},h.prototype.setParentCanvas=function(e){var t=this;return t.parentCanvas=e,t.htmlElement.parentCanvas=t.parentCanvas,t},h.prototype.setOnExternalAreaClickedListener=function(e){return this.externalAreaClickedListener=e,this},h.prototype.onBodyClicked=function(e){var t=this,n=e.pageX,r=e.pageY,o=parseInt(t.htmlElement.style.left),i=parseInt(t.htmlElement.style.top),a=parseInt(t.htmlElement.style.width),s=parseInt(t.htmlElement.style.height);o<n&&n<o+a&&i<r&&r<i+s||t.externalAreaClickedListener&&t.externalAreaClickedListener()},h.prototype.onmouseDown=function(e){var t=this,n=e;if("touchstart"===e.type){var r=e.changedTouches;if(1!==e.touches.length)return!0;n=r[0]}var o=t.parent;if(0==n.button||"touchstart"===e.type){if(o.pullUpDisabled)return!1;t.parentCanvas.currentObject=t,t.parentCanvas.pullUp(o.id)}else if(2==n.button)return!1;return t.parentCanvas.currentObject&&(t.parentCanvas.offsetX=n.pageX-parseInt(t.parentCanvas.currentObject.style.left,10),t.parentCanvas.offsetY=n.pageY-parseInt(t.parentCanvas.currentObject.style.top,10)),!1},p.CANVAS={},p.CANVAS.HTML_ELEMENT="div",p.CANVAS.WIDTH_ADJUST_20180722=2,p.CANVAS.HEIGHT_ADJUST_20180722=3,f.prototype.mouseMove=function(e){var t=this,n=e;if("touchmove"===e.type){var r=e.changedTouches;if(1!==e.touches.length)return!0;n=r[0]}if(t.currentObject){t.eventData.targetTypeName=t.currentObject.typeName,t.eventData.targetUsage=t.currentObject.usage,t.eventData.targetObject=t.currentObject;var o=n.pageX-t.offsetX,i=n.pageY-t.offsetY,a=(n.pageX,n.pageY,t.currentObject.style.left),s=t.currentObject.style.top,l=parseInt(o,10),d=parseInt(i,10),c=l+parseInt(t.currentObject.style.width,10),u=d+parseInt(t.currentObject.style.height,10),m=parseInt(t.canvasElement.style.width,10),p=parseInt(t.canvasElement.style.height,10),h=0,f=0;if(1==t.currentObject.isRangeLimited&&(l<=0||c>m||d<=0||u>p))h=0,f=0;else{h=parseInt(o,10)-parseInt(a,10),f=parseInt(i,10)-parseInt(s,10),t.currentObject.style.left=parseInt(t.currentObject.style.left)+h*t.currentObject.argX+"px",t.currentObject.style.top=parseInt(t.currentObject.style.top)+f*t.currentObject.argY+"px";var g=t.currentObject.parent;g&&g._onMove&&g._onMove()}return t.eventData.deltaX=h,t.eventData.deltaY=f,t.eventData}return null},f.prototype.mouseUp=function(e){this.currentObject=null,this.mouseDownSource=null},f.prototype.pullUp=function(e){var t=this,n=[],r=t.beanList;for(var o in r)n.push(r[o]);var i=r[e];t.enablePullUp&&t.pullUpSort(i,n,t.baseZIndex),t.onTopObject=i},f.prototype.pullUpSort=function(e,t,n){for(var r in e.htmlElement.style.zIndex=t.length+n,t.sort((function(e,t){return-parseInt(e.htmlElement.style.zIndex,10)+parseInt(t.htmlElement.style.zIndex,10)})),t)t[r].htmlElement.style.zIndex=t.length-1-r+n},f.prototype.removeBean=function(e){var t=this.beanList,n=t[e];this.canvasElement.removeChild(n.htmlElement),delete t[e]},f.prototype.addBean=function(e){var t=this,n=t.beanList,r=t.beanIdName,o=t.beanNameId;n[e.id]=e,e.property.name&&(o[e.property.name]=e.id,r[e.id]=e.property.name);var i=0;for(var a in n)i++;e.htmlElement.style.zIndex=i+t.baseZIndex,e.setParentCanvas(t),this.canvasElement.appendChild(e.htmlElement)},f.prototype.getParentElement=function(){return this.parentElement},p.CFRAME={},p.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",p.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",a(g,h),g.prototype.setTitleBarClassName=function(e,t){var n=this;return e&&(n.titleBarClassNameDefault=e,n.titleBarClassNameFocused=e),t&&(n.titleBarClassNameFocused=t),n},g.prototype.addFrameComponent=function(e){var t=this;return t.frameComponentMap[e.id]=e,t.canvas.canvasElement.appendChild(e.htmlElement),t},g.prototype.getFrameComponentElement=function(e){return this.frameComponentMap[e]?this.frameComponentMap[e].htmlElement:null},g.prototype.removeFrameComponentById=function(e){var t=this,n=t.frameComponentMap[e];t.canvas.canvasElement.removeChild(n.htmlElement),delete t.frameComponentMap[e]},g.prototype.showFrameComponent=function(e,t){var n=this.getFrameComponentElement(e);return n&&(n.style.display=t||"flex"),this},g.prototype.hideFrameComponent=function(e){var t=this.getFrameComponentElement(e);return t&&(t.style.display="none"),this},g.prototype.hideAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t].htmlElement;"none"===n.style.display&&(n._alreadyNone=!0),n.style.display="none"}},g.prototype.showAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t].htmlElement;n._alreadyNone?n._alreadyNone=null:n.style.display="flex"}},g.prototype.hideFrameComponentChildMenus=function(e){var t=this.frameComponentMap;for(var n in t)if(t.hasOwnProperty(n)){if(e&&e.exceptFrameComponentId&&n===e.exceptFrameComponentId)continue;var r=t[n];r.childMenu&&(r.childMenu.style.display="none")}},g.prototype.setTitle=function(e){var t=this;if(t.title=e,t.showTitleBar){var n=document.createTextNode(e);t.titleBar.firstChild.replaceChild(n,t.titleBar.firstChild.firstChild)}return t},g.prototype.resize=function(e,t,n,r){var o=this,i=parseInt(o.htmlElement.style.left,10),a=parseInt(o.htmlElement.style.top,10),s=parseInt(o.htmlElement.style.width,10),l=parseInt(o.htmlElement.style.height,10);o.htmlElement.style.left=parseInt(i+e,10)+"px",o.htmlElement.style.top=parseInt(a+t,10)+"px",o.htmlElement.style.width=parseInt(s+n,10)+"px",o.htmlElement.style.height=parseInt(l+r,10)+"px";var d=parseInt(o.canvas.canvasElement.style.width,10),c=parseInt(o.canvas.canvasElement.style.height,10);for(var u in o.canvas.canvasElement.style.width=d+n+"px",o.canvas.canvasElement.style.height=c+r+"px",o.showTitleBar&&(o.titleBar.style.width=d+n+"px"),o.canvas.beanList){var m=o.canvas.beanList[u];"cmarkerwindow"==m.htmlElement.typeName&&("RD"==m.htmlElement.usage?(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+n+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+r+"px"):"DD"==m.htmlElement.usage?(m.htmlElement.style.width=parseInt(m.htmlElement.style.width,10)+n+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+r+"px"):"RR"==m.htmlElement.usage&&(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+n+"px",m.htmlElement.style.height=parseInt(m.htmlElement.style.height,10)+r+"px"))}},g.prototype.canvasMouseDown=function(e){null==this.parentCFrame.parentCanvas.mouseDownSource&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},g.prototype.mouseUp=function(e){this.canvas.mouseUp(e)},g.prototype.close=function(e){var t=this.parentObject.parentCanvas,n=this.parentObject,r=n.id;n.closeInternally(e,t,r)},g.prototype.closeFrame=function(e){var t=this.parentCanvas;this.closeInternally(e,t,this.windowId)},g.prototype.closeInternally=function(e,t,n){var r=this;t&&(t.removeBean(n),r.modalBackgroundWindowId&&(t.removeBean(r.modalBackgroundWindowId),r.modalBackgroundWindowId=null),r.onCloseFrameListener&&r.onCloseFrameListener(r))},g.prototype.setOnCloseFrameListener=function(e){this.onCloseFrameListener=e},g.prototype.contextMenu=function(){return!1},g.prototype.setTitleBarTextColor=function(e){this.titleBar.style.color=e},g.prototype.setPosition=function(e,t,n){var r=this,o=r.getWidth(),i=r.getHeight();return r._setPositionInternally(e,t,n,o,i),r},g.prototype._setPositionInternally=function(e,t,n,r,i){var a=this;n&&(a.anchor=n),n&&o.LEFT_TOP!=n?o.HCENTER_TOP==n?(a.htmlElement.style.left=-r/2+e+"px",a.htmlElement.style.top=t+"px"):o.RIGHT_TOP==n?(a.htmlElement.style.left=-r+e+"px",a.htmlElement.style.top=t+"px"):o.LEFT_VCENTER==n?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.HCENTER_VCENTER==n?(a.htmlElement.style.left=-r/2+e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.RIGHT_VCENTER==n?(a.htmlElement.style.left=-r+e+"px",a.htmlElement.style.top=-i/2+t+"px"):o.LEFT_BOTTOM==n?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-i+t+"px"):o.HCENTER_BOTTOM==n?(a.htmlElement.style.left=-r/2+e+"px",a.htmlElement.style.top=-i+t+"px"):o.RIGHT_BOTTOM==n&&(a.htmlElement.style.left=-r+e+"px",a.htmlElement.style.top=-i+t+"px"):(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=t+"px")},g.prototype.getPosition=function(){var e,t,n=this,r=n.getWidth(),i=n.getHeight(),a=n.anchor;return a&&o.LEFT_TOP!=a?o.HCENTER_TOP==a?(e=parseInt(n.htmlElement.style.left,10)+r/2,t=parseInt(n.htmlElement.style.top,10)):o.RIGHT_TOP==a?(e=parseInt(n.htmlElement.style.left,10)+r,t=parseInt(n.htmlElement.style.top,10)):o.LEFT_VCENTER==a?(e=parseInt(n.htmlElement.style.left,10),t=parseInt(n.htmlElement.style.top,10)+i/2):o.HCENTER_VCENTER==a?(e=parseInt(n.htmlElement.style.left,10)+r/2,t=parseInt(n.htmlElement.style.top,10)+i/2):o.RIGHT_VCENTER==a?(e=parseInt(n.htmlElement.style.left,10)+r,t=parseInt(n.htmlElement.style.top,10)+i/2):o.LEFT_BOTTOM==a?(e=parseInt(n.htmlElement.style.left,10),t=parseInt(n.htmlElement.style.top,10)+i):o.HCENTER_BOTTOM==a?(e=parseInt(n.htmlElement.style.left,10)+r/2,t=parseInt(n.htmlElement.style.top,10)+i):o.RIGHT_BOTTOM==a&&(e=parseInt(n.htmlElement.style.left,10)+r,t=parseInt(n.htmlElement.style.top,10)+i):(e=parseInt(n.htmlElement.style.left,10),t=parseInt(n.htmlElement.style.top,10)),{x:e,y:t,anchor:a}},g.prototype.getLeft=function(){return parseInt(this.htmlElement.style.left,10)},g.prototype.getTop=function(){return parseInt(this.htmlElement.style.top,10)},g.prototype.getWidth=function(){return parseInt(this.htmlElement.style.width,10)},g.prototype.getHeight=function(){return parseInt(this.htmlElement.style.height,10)},g.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}},g.prototype.setSize=function(e,t,n){var r=this,o=!0;return n&&(o=!1),r.resize(0,0,e-r.getWidth(),t-r.getHeight(),o),r},g.prototype.getWindowId=function(){return this.windowId},g.prototype.getName=function(){return this.property.name},g.prototype.setName=function(e){this.property.name=e},a(y,g),y.prototype.getFrameView=function(){return this.dframe},y.prototype.getFrameAppearance=function(){return this.appearance},y.prototype.setHTML=function(e){this.dframe.innerHTML=e},y.prototype.setFrameInFrame=function(e){var t=this,n=t.dframe?t.dframe.firstChild:null;n&&(Date.now||(Date.now=function(){return(new Date).getTime()}),e?t.eventEmitter.only("resize","fif-listener",(function(){n.setAttribute(i.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())})):(n.removeAttribute(i.MATCH_PARENT_CHANGE_MARKER_ATTR),t.eventEmitter.only("resize","fif-listener",(function(){}))))},y.prototype.$=function(e){var t=this;return t.useIframe?t.iframe.contentWindow.document.querySelector(e):t.dframe.querySelector(e)},y.prototype.on=function(e,t,n){var r=this,o=r.getFrameComponentElement(e);o&&r.eventListenerHelper.addEventListener(o,t,(function(o){n(r,o,{type:"frameComponent",id:e,eventType:t})}),{listenerName:"frame-component-listener"}),"frame"!==e&&"window"!==e||("move"!==t||r.eventEmitter.hasListenerFuncs("move")||r.setOnMoveListener((function(e){r.eventEmitter.emit("move",r._getCurrentSizePos())})),r.eventEmitter.on(t,n));var i=r.$(e);if(i&&(r.eventListenerHelper.hasEventListener(i,t,"frame-dom-listener")&&r.eventListenerHelper.removeEventListener(i,t,null,{listenerName:"frame-dom-listener"}),r.eventListenerHelper.addEventListener(i,t,(function(o){n(r,o,{type:"dom",id:e,eventType:t})}),{listenerName:"frame-dom-listener"})),!i){var a=r.canvas.canvasElement.querySelector(e);a&&a.addEventListener(t,(function(o){n(r,o,{type:"dom",id:e,eventType:t})}))}},y.prototype.adjustFrameBorderRadius=function(){var e=this;if(parseInt(e.frameBorderRadius,10)>0){var t=e.getFrameInnerBorderRadius(e,e._hasFocus),n=t.frameAppearance,r=t.innerBorderRadius,o=parseInt(n.titleBarHeight,10);e.showTitleBar?(e.canvas.canvasElement.style.borderBottomRightRadius=r,e.canvas.canvasElement.style.borderBottomLeftRadius=r,e.iframe.style.borderBottomRightRadius=r,e.iframe.style.borderBottomLeftRadius=r,e.titleBar.style.borderTopLeftRadius=r,e.titleBar.style.borderTopRightRadius=r):(e.canvas.canvasElement.style.borderRadius=r,e.iframe.style.borderRadius=r),e.dframe&&(0===o&&(e.dframe.style.borderTopRightRadius||(e.dframe.style.borderTopRightRadius=r),e.dframe.style.borderTopLeftRadius||(e.dframe.style.borderTopLeftRadius=r)),e.dframe.style.borderBottomRightRadius=r,e.dframe.style.borderBottomLeftRadius=r)}},y.prototype.handleReleasingFocus=function(e){var t=this,n=t._hasFocus;for(var r in t._hasFocus=!1,t.titleBar.className=t.titleBarClassNameDefault,t.titleBarColorDefault&&(t.titleBar.style.background=t.titleBarColorDefault),t.titleBar.style.color=t.titleBarCaptionColorDefault,t.frameBorderColorDefault&&(t.htmlElement.style.borderColor=t.frameBorderColorDefault),t.frameBorderWidthDefault&&(t.htmlElement.style.borderWidth=t.frameBorderWidthDefault,t.adjustFrameBorderRadius()),"cifwindow"==t.htmlElement.typeName&&t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width,10)+"px",t.transparence.style.height=parseInt(t.iframe.height,10)+"px"),t.frameComponentMap)t.frameComponentMap[r].handleReleasingFocus();return t.titleBarBorderBottomDefault&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomDefault),n&&t.eventEmitter.emit("blur",{target:t}),t},y.prototype.handleTakingFocus=function(e){var t=this,n=t._hasFocus;for(var r in t._hasFocus=!0,t._hasFocus=Date.now(),t.overrayTransparentScreenEnabled&&(t.transparence.style.width="0px",t.transparence.style.height="0px"),t.titleBar.className=t.titleBarClassNameFocused,t.titleBarColorFocused&&(t.titleBar.style.background=t.titleBarColorFocused),t.titleBar.style.color=t.titleBarCaptionColorFocused,t.frameBorderColorFocused&&(t.htmlElement.style.borderColor=t.frameBorderColorFocused),t.frameBorderWidthFocused&&(t.htmlElement.style.borderWidth=t.frameBorderWidthFocused,t.adjustFrameBorderRadius()),t.titleBarBorderBottomFocused&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomFocused),t.frameComponentMap)t.frameComponentMap[r].handleTakingFocus();return n||t.eventEmitter.emit("focus",{target:t}),t},g.prototype.show=function(e){var t=this;return t.htmlElement.style.display="flex",e&&0==e.requestFocus||t.requestFocus(),t},g.prototype.showModal=function(e){var t=this,n=new s;n.showTitleBar=!0,n.showCloseButton=!1,n.frameBorderRadius="0px",n.frameBorderStyle="none",n.frameBorderWidthDefault="0px",n.frameBorderWidthFocused="0px",n.frameBoxShadow=null,n.frameBackgroundColor="transparent",n.frameComponents=[],n.frameHeightAdjust=0,n.titleBarHeight="0px",n.titleBarBorderBottomFocused=null,n.titleBarCaptionLeftMargin="0px",n.onInitialize=function(){},n.pullUpDisabled=!0;var r=t.parentCanvas,o=p.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+t.id,i=new y(o,0,0,1,1,n);i.setSize(window.innerWidth,window.innerHeight,!0),i.setResizable(!1),window.addEventListener("resize",(function(){i.setSize(window.innerWidth,window.innerHeight,!0)})),t.modalBackgroundWindowId=o,i.hide(),r.addWindow(i),i.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',i.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",i.show(),t.show(),e&&t.setOnCloseFrameListener(e)},g.prototype.getWindowManager=function(){return this.parentCanvas},y.prototype.hide=function(){return this.htmlElement.style.display="none",this},y.prototype.onmouseDown=function(e){var t=this;document.body.ondrag=function(){return!1},t.decorator=g.prototype.onmouseDown,t.decorator(e);var n=t.parent,r=t.parentCanvas;for(var o in r.beanList){var i=r.beanList[o];o==n.getWindowId()||i.handleReleasingFocus()}n.handleTakingFocus()},y.prototype.mouseUp=function(e){var t=this;(t.overrayTransparentScreenEnabled||t.overrayTransparentScreenOnResize)&&(t.parentCanvas.onTopObject==t?(t.transparence.style.width="0px",t.transparence.style.height="0px"):t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width)+"px",t.transparence.style.height=parseInt(t.iframe.height)+"px")),t.decorator=g.prototype.mouseUp,t.decorator(e),document.body.ondrag=null,document.body.onselectstart=null,t.transparence.style.pointerEvents="none"},y.prototype.setMinFrameSize=function(e,t){this.minFrameWidth=e,this.minWindowHeight=t},y.prototype.resize=function(e,t,n,r,o){var i=this;if(!i.resizable&&o)return null;var a=i.getSize(),s=parseInt(i.htmlElement.style.left,10),l=parseInt(i.htmlElement.style.top,10),d=parseInt(i.htmlElement.style.width,10),c=parseInt(i.htmlElement.style.height,10);o&&d+n<i.minFrameWidth&n<0&&(i.htmlElement.style.width=d+"px",n=0),o&&c+r<i.minWindowHeight&r<0&&(i.htmlElement.style.height=c+"px",r=0),i.htmlElement.style.left=s+e+"px",i.htmlElement.style.top=l+t+"px",i.htmlElement.style.width=d+n+"px",i.htmlElement.style.height=c+r+"px";var u=parseInt(i.canvas.canvasElement.style.width,10),m=parseInt(i.canvas.canvasElement.style.height,10);for(var p in i.canvas.canvasElement.style.width=u+n+"px",i.canvas.canvasElement.style.height=m+r+"px",i.titleBar.style.width=u-i.ifDelta+n+0+"px",i.iframe.width=u-i.ifDelta+n+0+"px",i.iframe.height=m-i.ifDelta+r+i.frameHeightAdjust+"px",(i.overrayTransparentScreenEnabled||i.overrayTransparentScreenOnResize)&&(i.transparence.style.width=parseInt(i.iframe.width)+"px",i.transparence.style.height=parseInt(i.iframe.height)+"px"),i.frameComponentMap)i.frameComponentMap[p].updateAlign();for(var h in i.canvas.beanList){var f=i.canvas.beanList[h];"cmarkerwindow"==f.htmlElement.typeName&&("RD"==f.htmlElement.usage?(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+n+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+r+"px"):"DD"==f.htmlElement.usage?(f.htmlElement.style.width=parseInt(f.htmlElement.style.width)+n+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+r+"px"):"RR"==f.htmlElement.usage&&(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+n+"px",f.htmlElement.style.height=parseInt(f.htmlElement.style.height)+r+"px"))}var g=i.getSize();a.width===g.width&&a.height===g.height||i.eventEmitter.emit("resize",i._getCurrentSizePos())},y.prototype._getCurrentSizePos=function(){var e=this,t=e.getSize(),n=e.getPosition();return{target:e,pos:n,size:t}},y.prototype.resizeDirect=function(e,t,n){var r=this;if(!r.resizable&&n)return null;for(var o in r.htmlElement.style.width=e+"px",r.htmlElement.style.height=t+"px",parseInt(r.canvas.canvasElement.style.width),parseInt(r.canvas.canvasElement.style.height),r.canvas.canvasElement.style.width=e+"px",r.canvas.canvasElement.style.height=t-r.titleBar.style.height+"px",r.titleBar.style.width=e-r.ifDelta+"px",r.iframe.width=e-r.ifDelta+"px",r.iframe.height=t-r.ifDelta+r.frameHeightAdjust+"px",(r.overrayTransparentScreenEnabled||r.overrayTransparentScreenOnResize)&&(r.transparence.style.width=parseInt(r.iframe.width)+"px",r.transparence.style.height=parseInt(r.iframe.height)+"px"),r.frameComponentMap)r.frameComponentMap[o].updateAlign();for(var i in r.canvas.beanList){var a=r.canvas.beanList[i];"cmarkerwindow"==a.htmlElement.typeName&&("RD"==a.htmlElement.usage?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=t+"px"):"DD"==a.htmlElement.usage?(a.htmlElement.style.width=e+"px",a.htmlElement.style.top=t+"px"):"RR"==a.htmlElement.usage&&(a.htmlElement.style.left=e+"px",a.htmlElement.style.height=t+"px"))}},y.prototype.requestFocus=function(){var e=this,t=e.parentCanvas.beanList;for(var n in t){var r=t[n];n==e.getWindowId()?r.handleTakingFocus():r.handleReleasingFocus()}e.parentCanvas.pullUp(e.id)},y.prototype.setUrl=function(e){var t=this;return new Promise((function(n,r){e?t.setUseIframe(!0):(t.setUseIframe(!1),n()),t.iframe.src=e,t.iframe.onload=function(){var e=function(e){var n=e.pageX,r=e.pageY;if("touchmove"===e.type){var o=e.changedTouches;if(1!==e.touches.length)return!0;n=o[0].pageX,r=o[0].pageY}var i=t.getLeft(),a=t.getTop(),s=document.createEvent("MouseEvents");s.initMouseEvent("mousemove",!0,!1,window,e.detail,e.screenX,e.screenY,n+i,r+a,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseMove(s),t.onMouseMoveOnIframe&&t.onMouseMoveOnIframe(s)};t.iframe.contentWindow.document.onmousemove=e,t.iframe.contentWindow.document.ontouchmove=e;var r=function(e){var n=e.pageX,r=e.pageY;if("touchend"===e.type){var o=e.changedTouches;n=o[0].pageX,r=o[0].pageY}var i=t.getLeft(),a=t.getTop(),s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!1,window,e.detail,e.screenX,e.screenY,n+i,r+a,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseUp(s),t.onMouseUpOnIframe&&t.onMouseUpOnIframe(s)};t.iframe.contentWindow.document.onmouseup=r,t.iframe.contentWindow.document.ontouchend=r,n(t,t.iframe.contentWindow.document)}}))},y.prototype.getIfDocument=function(){return this.iframe.contentWindow.document},y.prototype.setScrolling=function(e){this.iframe.scrolling=e},y.prototype.getScrolling=function(e){return this.iframe.scrolling},y.prototype.setResizable=function(e){var t=this;return t.resizable=e,t.enableMarkers(e),t},y.prototype.setControl=function(e){var t=this;e&&(e.frame=t,t.control=t.jsFrame.createWindowEventHelper(e),t.control.setupDefaultEvents())},a(v,f),v.prototype.getWindow=function(e){return this.beanList[e]},v.prototype.addWindow=function(e){var t=this,n=e.getWindowId(),r=e.getName();t.beanIdName[n]=r,t.beanNameId[r]=n,t.addBean(e)},v.prototype.containsWindowName=function(e){return!!this.beanNameId[e]},v.prototype.getWindowByName=function(e){var t=this.beanNameId[e];return t?this.getWindow(t):null},v.prototype.windowMouseMove=function(e){var t=this;if(null==t.currentObject)return null;var n=!1,r=t.beanList;for(var o in r){var i=r[o],a=i.canvas.mouseMove(e);if(n|=null!=a,null!=a&&"cmarkerwindow"==a.targetTypeName){var s=a.targetObject;i.transparence.style.pointerEvents="auto","RD"==s.usage?i.resize(0,0,a.deltaX,a.deltaY,!0):"DD"==s.usage?i.resize(0,0,0,a.deltaY,!0):"RR"==s.usage&&i.resize(0,0,a.deltaX,0,!0)}}n||"childcanvas"==this.mouseDownSource||t.mouseMove(e)},v.prototype.windowMouseUp=function(e){this.mouseUp(e);var t=this.beanList;for(var n in t)t[n].mouseUp(e)},v.prototype.removeBean=function(e){var t=this,n=t.beanList,r=n[e];if(null!=r){var o=r._hasFocus;t.canvasElement.removeChild(r.htmlElement),delete n[e];var i=t.beanIdName[e];i&&(delete t.beanIdName[e],delete t.beanNameId[i]);var a=0,s=null;if(o){for(var e in n){var l=n[e];a<=l._hasFocusTime&&!l.pullUpDisabled&&(a=l._hasFocusTime,s=l)}s&&s.requestFocus()}r.parentCanvas=null}},a(b,h),w.prototype.doEnableTouchActionManipulation=function(){var e=document.documentElement.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("touch-action")&&(e+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",e))},w.prototype.doDisablePullToRefresh=function(){var e=document.body.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("overscroll-behavior-y")&&(e+="overscroll-behavior-y: contain;",document.body.setAttribute("style",e))},w.prototype.getDomPartsBuilder=function(){var e=this;return e.domPartsBuilder||(e.domPartsBuilder=new l),e.domPartsBuilder},w.prototype.create=function(e){var t={};t.name=e.name;var n,r=e.title,o=e.left,i=e.top,a=e.width,s=e.height,l=e.appearance,d=e.preset,c=(e.presetParam,e.appearanceName),u=e.appearanceParam,m=e.style,p=e.minWidth,h=e.minHeight,f=e.html,g=e.resizable,y=e.movable,v=e.url,b=e.urlLoaded,w=e.presetParam;if(d?(n=this.getPresetWindow(d).getPresetWindow(w),l=this.createPresetStyle(n.appearanceName,{appearanceParam:n.appearanceParam})):c&&(l=this.createPresetStyle(c,{appearanceParam:u})),e.clientHeight){var C=parseInt(l.titleBarHeight||0)-l.frameHeightAdjust;s=e.clientHeight+C}var E=this.createFrame(o,i,a,s,l,t);if(r&&E.setTitle(r),f&&E.setHTML(f),v){var B=E.setUrl(v);b&&B.then(b)}if(0==g&&E.setResizable(!1),0==y&&E.setMovable(!1),p&&h&&(E.minFrameWidth=p),h&&(E.minWindowHeight=h,e.clientHeight&&(E.minWindowHeight=h+C)),m){var x=E.getFrameView();for(var T in m)m.hasOwnProperty(T)&&(x.style[T]=m[T])}return n&&n.setupPresetWindow(E),E},w.prototype.createFrame=function(e,t,n,r,o,i){var a=this;o||(o=a.createFrameAppearance()),o.initialize(),e||(e=0),t||(t=0),n||(n=128),r||(r=128);var s=new y("window_"+a.generateUUID(),e,t,n,r,o);if(s.jsFrame=a,i&&i.name&&s.setName(i.name),s.hide(),a.windowManager.addWindow(s),o.getTitleBarStyle){var l=o.getTitleBarStyle();l&&s.setTitleBarClassName(l.titleBarClassNameDefault,l.titleBarClassNameFocused)}else o.titleBarClassNameDefault&&o.titleBarClassNameFocused?s.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameFocused):o.titleBarClassNameDefault&&s.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameDefault);return s},w.prototype.containsWindowName=function(e){return this.windowManager.containsWindowName(e)},w.prototype.getWindowByName=function(e){return this.windowManager.getWindowByName(e)},w.prototype.generateUUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))},w.prototype.createFrameAppearance=function(){return new s},w.prototype.createAnimator=function(){return new d},w.prototype.createWindowEventHelper=function(e){return e||(e={}),e.verticalAlign=this.vAlign,e.horizontalAlign=this.hAlign,new i(e)},w.prototype.getPresetWindow=function(e,t){return m[e]?m[e]:null},w.prototype.createPresetStyle=function(e,t){var n=this.createFrameAppearance();if(t&&t.focusedFrameOnly&&(n.focusedFrameOnly=t.focusedFrameOnly),u[e]){var r=u[e],o=null;return t&&t.appearanceParam&&(o=t.appearanceParam),r.getStyle(n,o)}return n},w.prototype.showToast=function(e){if(e){var t,n=this,r=60,o=260,i=1e3,a=window.innerHeight-10-r/2,s=window.innerHeight-20-r/2,l="",d={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};e.style&&(d=e.style),e.height&&(r=e.height),e.width&&(o=e.width),e.duration&&(i=e.duration),e.align&&("top"==e.align?(a=10+r/2,s=20+r/2):"center"==e.align&&(a=window.innerHeight/2,s=window.innerHeight/2)),e.html&&(l=e.html),e.text&&(l=e.text),t=1==e.closeButton;var c=n.createPresetStyle("toast");d.borderRadius&&(c.frameBorderRadius=d.borderRadius),e.closeButtonColor&&(c.captionClor=e.closeButtonColor);var u=n.create({name:"toast_"+n.generateUUID(),width:o,height:r,movable:!1,resizable:!1,appearance:c,style:d,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+r+'px">'+l+"</div>"});t||u.hideFrameComponent("closeButton");var m=window.innerWidth/2;"right"==n.hAlign&&(m=-m),"bottom"==n.vAlign&&(a-=window.innerHeight,s-=window.innerHeight),n.createAnimator().set(u).setDuration(300).fromPosition(m,a,"CENTER_CENTER").toPosition(m,s,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,!1).then((function(e){return e.setDuration(300).fromPosition(m,s,"CENTER_CENTER").toPosition(m,a,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(i,!1)})).then((function(e){e.get().closeFrame()}))}},Object.freeze(p),e.exports=w},451:e=>{e.exports=function(){this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}},31:e=>{e.exports=function(e){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}},260:(e,t,n)=>{var r=n(886),o=n(451),i=n(408),a=n(31);function s(){}function l(e,t){var n=t.querySelectorAll("img");t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);for(var r=0;r<n.length;r++){var o=n[r];e!==o&&t.removeChild(o)}}s.prototype.buildChildMenuAppearance=function(e){return new a(e)},s.prototype.buildTextButtonAppearance=function(e){return e?r({op:"clone",object1:e,concatArray:!0}):new o},s.prototype.buildImageButtonAppearance=function(e){return e?r({op:"clone",object1:e}):new i},s.prototype.buildButton=function(e){return this.buildTextButton(e)},s.prototype.appendChildMenuTo=function(e,t){var n=document.createElement("div");n.classList.add("jsframe-child-menu"),n.innerHTML=e.childMenuHTML,n.style.position="absolute",n.style.pointerEvents="none",n.style.width=e.childMenuWidth+"px",n.style.display="none";var r=e.xOffset,o=parseInt(t.style.height,10)+e.yOffset+2;"LEFT"===e.childMenuAlign?n.style.left=r+"px":"RIGHT"===e.childMenuAlign?n.style.right=r+"px":"CENTER"===e.childMenuAlign&&(r=-e.childMenuWidth/2+parseInt(t.style.height,10)/2,n.style.left=r+"px"),n.style.top=o+"px",n.firstChild.style.pointerEvents="auto",t.appendChild(n)},s.prototype.buildTextButton=function(e){var t=e.size,n=t,r=t;null!=e.width&&(n=e.width),null!=e.height&&(r=e.height);var o=document.createElement("div"),i=e.borderWidth,a=e.borderRadius,s=e.borderColorDefault,d=e.borderColorFocused,c=e.borderColorHovered,u=e.borderColorPressed,m=e.borderStyleDefault,p=e.borderStyleFocused,h=e.borderStyleHovered,f=e.borderStylePressed,g=e.backgroundColorDefault,y=e.backgroundColorFocused,v=e.backgroundColorHovered,b=e.backgroundColorPressed,w=e.backgroundBoxShadow,C=e.fa,E=e.caption,B=e.imageDefault,x=e.imageFocused,T=e.imageHovered,F=e.imagePressed;B&&(B.style.pointerEvents="none"),x&&(x.style.pointerEvents="none"),T&&(T.style.pointerEvents="none"),F&&(F.style.pointerEvents="none");var A=e.captionColorDefault,S=e.captionColorFocused,M=e.captionColorHovered,_=e.captionColorPressed,k=e.captionShiftYpx,I=e.captionFontRatio;if(o._hasFrameFocus=!1,o._isMouseDown=!1,o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=n+"px",o.style.height=r+"px",e.cursor?o.style.cursor=e.cursor:o.style.cursor="pointer",o.style.margin="0px",o.style.padding="0px",o.style.boxSizing="content-box",o.style.fontFamily="sans-serif",o.onmousedown=function(e){o._isMouseDown=!0,o._handleFocusDrawing("onmousedown")},o.onmouseout=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseout")},o.onmouseover=function(e){o._handleHoverDrawing()},o.onmouseup=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseup")},o._onTakeFocus=function(){o._hasFrameFocus=!0,o._handleFocusDrawing("_onTakeFocus")},o._onReleaseFocus=function(){o._hasFrameFocus=!1,o._handleFocusDrawing("_onReleaseFocus")},o._handleFocusDrawing=function(e){o._hasFrameFocus?o._isMouseDown?(o.style.borderColor=u,o.style.borderStyle=f,o.style.backgroundColor=b,o.style.color=_,F&&l(F,o)):(o.style.borderColor=d,o.style.borderStyle=p,o.style.backgroundColor=y,o.style.color=S,x&&l(x,o)):o._isMouseDown?(o.style.borderColor=u,o.style.borderStyle=f,o.style.backgroundColor=b,o.style.color=_,F&&l(F,o)):(o.style.borderColor=s,o.style.borderStyle=m,o.style.backgroundColor=g,o.style.color=A,B&&l(B,o))},o._handleHoverDrawing=function(){o._hasFrameFocus,c&&(o.style.borderColor=c),h&&(o.style.borderStyle=h),v&&(o.style.backgroundColor=v),M&&(o.style.color=M),T&&l(T,o)},o.style.padding="0px",o.style.textAlign="center",o.style.fontSize=r*I+"px",o.style.lineHeight=r+"px",o.style.borderWidth="1px",null!=i&&(o.style.borderWidth=i+"px"),null!=w&&(o.style.boxShadow=w),o.style.borderRadius=a+parseInt(o.style.borderWidth)+"px",B)l(B,o);else if(E)(D=document.createElement("span")).style.width="100%",D.style.marginTop=k+"px",D.style.display="inline-block",D.style.textAlign="center",D.style.fontFamily="sans-serif",D.appendChild(document.createTextNode(E)),o.appendChild(D);else if(C){var D;(D=document.createElement("span")).style.pointerEvents="none",D.style.width="100%",D.style.marginTop=k+"px",D.style.display="inline-block",D.style.textAlign="center",D.style.fontFamily="sans-serif",D.innerHTML='<i class="'+C+'"></i>',o.appendChild(D)}return o._handleFocusDrawing(),o},e.exports=s},970:(e,t,n)=>{var r=n(260),o=n(885);function i(){var e=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(t){return e.useIframe=t,e.useFrame=!t,e},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(t,n){return t?n?{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthFocused,10)+"px"}:{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(e.showCloseButton){var t=e.getPartsBuilder(),n=t.buildTextButtonAppearance();n.size=14,n.captionShiftYpx=0,n.captionFontRatio=1,n.borderRadius=2,n.backgroundColorPressed="transparent",n.backgroundColorDefault="transparent",n.caption="✖",n.captionColorDefault="gray",n.captionColorFocused="gray",n.captionColorHovered="silver",n.captionColorPressed="black",n.borderWidth=0,n.borderColorDefault="#aaaaaa",n.borderStyle="solid";var r=t.buildTextButton(n);e.addFrameComponent("closeButton",r,-10,-18,"RIGHT_TOP")}},this.onTitleBarStyleInitialize=function(){}}i.prototype.getPartsBuilder=function(){var e=this;return null===e._partsBuilder&&(e._partsBuilder=new r),e._partsBuilder},i.prototype.initialize=function(){this.onInitialize()},i.prototype.addFrameComponent=function(e,t,n,r,i,a){var s=new o(e,t,n,r,i,a);return t._onTakeFocus&&t._onReleaseFocus&&s.setFocusCallback(t._onTakeFocus,t._onReleaseFocus),this.frameComponents.push(s),s},e.exports=i},885:(e,t,n)=>{var r=n(76);function o(e,t,n,o,i,a){var s=this;s.id=e,s.x=n,s.y=o,s.frame=null,s._focusTakingCallabck=null,s._focusReleasingCallabck=null,s.frameComponentAlign=i||r.LEFT_TOP,s.htmlElement=t,s.htmlElement.style.zIndex=50,s.htmlElement.setAttribute("component-id",e),a&&a.childMenu?s.childMenu=a.childMenu:t.querySelector(".jsframe-child-menu")&&(s.childMenu=t.querySelector(".jsframe-child-menu"))}o.prototype.setFocusCallback=function(e,t){this._focusTakingCallabck=e,this._focusReleasingCallabck=t},o.prototype.setFrame=function(e){var t=this;t.frame=e,t.htmlElement.parentObject=e,t.updateAlign()},o.prototype.updateAlign=function(){var e=this,t=e.frameComponentAlign,n=e.frame,o=e.htmlElement.style;o.userSelect="none";var i=e.x,a=e.y,s=n.getWidth(),l=n.getHeight(),d=o.width,c=o.height;r.LEFT_TOP==t?(o.left=i+"px",o.top=a+"px"):r.HCENTER_TOP==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=a+"px"):r.RIGHT_TOP==t?(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=a+"px"):r.LEFT_VCENTER==t?(o.left=i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):r.HCENTER_VCENTER==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):r.RIGHT_VCENTER==t?(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=parseInt(l)/2-parseInt(c)/2+a+"px"):r.LEFT_BOTTOM==t?(o.left=i+"px",o.top=parseInt(l)-parseInt(c)+a+"px"):r.HCENTER_BOTTOM==t?(o.left=parseInt(s)/2-parseInt(d)/2+i+"px",o.top=parseInt(l)-parseInt(c)+a+"px"):r.RIGHT_BOTTOM==t&&(o.left=parseInt(s)-parseInt(d)+i+"px",o.top=parseInt(l)-parseInt(c)+a+"px")},o.prototype.handleTakingFocus=function(){this._focusTakingCallabck&&this._focusTakingCallabck()},o.prototype.handleReleasingFocus=function(){this._focusReleasingCallabck&&this._focusReleasingCallabck()},e.exports=o},408:(e,t,n)=>{function r(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}n(171)(r,n(451)),r.prototype._setImage=function(e,t,n){var r=this.imageStore[e];if(r)return r;var o=document.createElement("img");if(o.src=e,t&&n){var i="margin:0px;padding:0px;width:"+t+"px;height:"+n+"px";o.setAttribute("style",i)}return this.imageStore[e]=o,o},r.prototype.setSrc=function(e){var t=this;e.default&&(t.imageDefault=t._setImage(e.default,e.width,e.height)),e.hovered&&(t.imageHovered=t._setImage(e.hovered,e.width,e.height)),e.pressed&&(t.imagePressed=t._setImage(e.pressed,e.width,e.height)),e.focused&&(t.imageFocused=t._setImage(e.focused,e.width,e.height))},e.exports=r},138:(e,t,n)=>{e.exports={JSFrame:n(704)}},145:(e,t,n)=>{n(161);var r=n(722);function o(e,t,n){var r,o=e.getPartsBuilder(),a=0;for(var s in r=n?t.titleBar.buttonsOnLeft:t.titleBar.buttons){var l=r[s],d=o.buildTextButtonAppearance();d.fa=l.fa,d.width=t.titleBar.buttonWidth,d.height=t.titleBar.buttonHeight,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="transparent",d.backgroundColorFocused="transparent",d.backgroundColorHovered="transparent",d.backgroundColorPressed="transparent";var c=i(t.titleBar.buttonColor);d.captionColorDefault=t.titleBar.buttonColor,d.captionColorFocused=t.titleBar.buttonColor,d.captionColorHovered=c.hovered,d.captionColorPressed=c.pressed,d.captionShiftYpx=0,d.captionFontRatio=1;var u=o.buildTextButton(d);l.visible?u.style.display="flex":(n?a-=t.titleBar.buttonWidth:a+=t.titleBar.buttonWidth,u.style.display="none");var m,p,h=parseInt(e.titleBarHeight),f=a,g=-h+(h-d.height)/2;m=n?"LEFT_TOP":"RIGHT_TOP",l.childMenuHTML&&((p=document.createElement("div")).id=l.name+"_child_menu",p.innerHTML=l.childMenuHTML,p.style.position="absolute",p.style.width=(l.childMenuWidth?l.childMenuWidth:200)+"px",p.style.top=parseInt(u.style.top,10)+parseInt(u.style.height,10)/2+h/2+"px",p.style.left=u.style.left,p.style.display="none",u.appendChild(p)),e.addFrameComponent(l.name,u,f,g,m,{childMenu:p}),a+=n?t.titleBar.buttonWidth:-t.titleBar.buttonWidth}}function i(e){var t=document.createElement("canvas");t.height=1,t.width=1;try{var n=t.getContext("2d");if(n){n.fillStyle=e,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],a=r[2],s=r[3]/255,l=.85*s;return{src:"rgb("+o+","+i+","+a+","+l+")",hovered:"rgb("+o+","+i+","+a+","+l+")",pressed:"rgb("+o+","+i+","+a+","+.75*s+")"}}return{src:"rgb(255,255,255,0.85)",hovered:"rgb(255,255,255,0.85)",pressed:"rgb(255,255,255,0.75)"}}catch(e){return{src:"rgb(255,255,255,0.85)",hovered:"rgb(255,255,255,0.85)",pressed:"rgb(255,255,255,0.75)"}}}e.exports.getStyle=function(e,t){var n={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},i=n;return t&&r.objectAssign(n,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize=i.titleBar.fontSize+"px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=i.titleBar.leftMargin+"px",e.titleBarCaptionColorDefault=i.titleBar.color,e.titleBarCaptionColorFocused=i.titleBar.color,e.titleBarCaptionTextShadow=null,e.titleBarCaptionTextAlign="left",e.titleBarHeight=i.titleBar.height+"px",e.titleBarColorDefault=i.titleBar.background,e.titleBarColorFocused=i.titleBar.background,e.titleBarBorderBottomDefault="solid 0px #aaaaaa",e.titleBarBorderBottomFocused="solid 0px #1883d7",e.frameBorderRadius=i.border.radius+"px",e.frameBorderWidthDefault=i.border.width+"px",e.frameBorderWidthFocused=i.border.width+"px",e.frameBorderColorDefault=i.border.color,e.frameBorderColorFocused=i.border.color,e.frameBorderStyle="solid",e.frameBoxShadow=i.border.shadow,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly,{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){o(e,i,!1),o(e,i,!0)},e}},182:(e,t,n)=>{n(774),e.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="5px",e.titleBarColorDefault="white",e.titleBarColorFocused="white",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#aaaaaa",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="white",e.frameComponents=new Array,e.frameHeightAdjust=2,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),n=t.buildTextButtonAppearance();n.width=20,n.height=20,n.borderRadius=10,n.borderWidth=1,n.borderColorDefault="#cccccc",n.borderColorFocused="#cccccc",n.borderColorHovered="#dddddd",n.borderColorPressed="#eeeeee",n.borderStyleDefault="solid",n.borderStyleFocused=n.borderStyleDefault,n.borderStyleHovered=n.borderStyleDefault,n.borderStylePressed=n.borderStyleDefault,n.backgroundColorDefault="white",n.backgroundColorFocused="white",n.backgroundColorHovered="#eeeeee",n.backgroundColorPressed="#dddddd",n.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",n.caption="✖",n.captionColorDefault="black",n.captionColorFocused="black",n.captionColorHovered="white",n.captionColorPressed="white",n.captionShiftYpx=1,n.captionFontRatio=.6;var r=t.buildTextButton(n),o=-6-parseInt(e.titleBarHeight);e.addFrameComponent("closeButton",r,10,o,"RIGHT_TOP")},e}},35:(e,t,n)=>{n(455),e.exports.getStyle=function(e){return e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#9b9a9b",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="30px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="solid 1px #aaaaaa",e.titleBarBorderBottomFocused="solid 1px #1883d7",e.frameBorderRadius="0px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#1883d7",e.frameBorderStyle="solid",e.frameBoxShadow=null,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),n=t.buildTextButtonAppearance();n.width=45,n.height=28,n.borderRadius=0,n.borderWidth=0,n.borderColorDefault="#c6c6c6",n.borderColorFocused="#fc615c",n.borderColorHovered=n.borderColorFocused,n.borderColorPressed="#e64842",n.borderStyleDefault="solid",n.borderStyleFocused=n.borderStyleDefault,n.borderStyleHovered=n.borderStyleDefault,n.borderStylePressed=n.borderStyleDefault,n.backgroundColorDefault="white",n.backgroundColorFocused="white",n.backgroundColorHovered="#e81123",n.backgroundColorPressed="#f1707a",n.caption="╳",n.captionColorDefault="#9b9a9b",n.captionColorFocused="black",n.captionColorHovered="white",n.captionColorPressed="white",n.captionShiftYpx=1,n.captionFontRatio=.6;var r=t.buildTextButton(n),o=0,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP";e.addFrameComponent("closeButton",r,o,i,a);var s=t.buildTextButtonAppearance();s.width=45,s.height=28,s.borderRadius=0,s.borderWidth=0,s.borderColorDefault="#c6c6c6",s.borderColorFocused="#fc615c",s.borderColorHovered=s.borderColorFocused,s.borderColorPressed="#e64842",s.borderStyleDefault="solid",s.borderStyleFocused=s.borderStyleDefault,s.borderStyleHovered=s.borderStyleDefault,s.borderStylePressed=s.borderStyleDefault,s.backgroundColorDefault="white",s.backgroundColorFocused="white",s.backgroundColorHovered="#e5e5e5",s.backgroundColorPressed="#cccccc",s.caption="☐",s.captionColorDefault="#9b9a9b",s.captionColorFocused="black",s.captionColorHovered="black",s.captionColorPressed="black",s.captionShiftYpx=1,s.captionFontRatio=.55;var l=t.buildTextButton(s);o=-46,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",e.addFrameComponent("maximizeButton",l,o,i,a);var d=t.buildTextButtonAppearance();d.width=45,d.height=28,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="white",d.backgroundColorFocused="white",d.backgroundColorHovered="#e5e5e5",d.backgroundColorPressed="#cccccc",d.caption="＿",d.captionColorDefault="#9b9a9b",d.captionColorFocused="black",d.captionColorHovered="black",d.captionColorPressed="black",d.captionShiftYpx=-2,d.captionFontRatio=.3;var c=t.buildTextButton(d);o=-92,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",e.addFrameComponent("minimizeButton",c,o,i,a);var u=t.buildTextButtonAppearance();u.width=45,u.height=28,u.borderRadius=0,u.borderWidth=0,u.borderColorDefault="#c6c6c6",u.borderColorFocused="#fc615c",u.borderColorHovered=u.borderColorFocused,u.borderColorPressed="#e64842",u.borderStyleDefault="solid",u.borderStyleFocused=u.borderStyleDefault,u.borderStyleHovered=u.borderStyleDefault,u.borderStylePressed=u.borderStyleDefault,u.backgroundColorDefault="white",u.backgroundColorFocused="white",u.backgroundColorHovered="#e5e5e5",u.backgroundColorPressed="#cccccc",u.caption="▣",u.captionColorDefault="#9b9a9b",u.captionColorFocused="black",u.captionColorHovered="black",u.captionColorPressed="black",u.captionShiftYpx=1,u.captionFontRatio=.6;var m=t.buildTextButton(u);o=-92,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",m.style.display="none",e.addFrameComponent("deminimizeButton",m,o,i,a);var p=t.buildTextButtonAppearance();p.width=45,p.height=28,p.borderRadius=0,p.borderWidth=0,p.borderColorDefault="#c6c6c6",p.borderColorFocused="#fc615c",p.borderColorHovered=p.borderColorFocused,p.borderColorPressed="#e64842",p.borderStyleDefault="solid",p.borderStyleFocused=p.borderStyleDefault,p.borderStyleHovered=p.borderStyleDefault,p.borderStylePressed=p.borderStyleDefault,p.backgroundColorDefault="white",p.backgroundColorFocused="white",p.backgroundColorHovered="#e5e5e5",p.backgroundColorPressed="#cccccc",p.caption="❏",p.captionColorDefault="#9b9a9b",p.captionColorFocused="black",p.captionColorHovered="black",p.captionColorPressed="black",p.captionShiftYpx=1,p.captionFontRatio=.55;var h=t.buildTextButton(p);o=-46,i=-parseInt(e.titleBarHeight),a="RIGHT_TOP",h.style.display="none",e.addFrameComponent("restoreButton",h,o,i,a)},e}},282:e=>{e.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="0px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="0px",e.titleBarCaptionColorDefault="transparent",e.titleBarCaptionColorFocused="transparent",e.titleBarHeight="0px",e.titleBarColorDefault="transparent",e.titleBarColorFocused="transparent",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="10px",e.frameBorderWidthDefault="0px",e.frameBorderWidthFocused="0px",e.frameBorderColorDefault="transparent",e.frameBorderColorFocused="transparent",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="transparent",e.frameComponents=[],e.frameHeightAdjust=1,e.captionClor="darkgray",e.pullUpDisabled=!1,e.getTitleBarStyle=function(){return e.focusedFrameOnly,{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){var t=e.getPartsBuilder(),n=t.buildTextButtonAppearance();n.width=20,n.height=20,n.borderRadius=10,n.borderWidth=0,n.borderColorDefault="#cccccc",n.borderColorFocused="#cccccc",n.borderColorHovered="#dddddd",n.borderColorPressed="#eeeeee",n.borderStyleDefault="solid",n.borderStyleFocused=n.borderStyleDefault,n.borderStyleHovered=n.borderStyleDefault,n.borderStylePressed=n.borderStyleDefault,n.backgroundColorDefault="transparent",n.backgroundColorFocused="transparent",n.backgroundColorHovered="transparent",n.backgroundColorPressed="transparent",n.backgroundBoxShadow=null,n.caption="✖",n.captionColorDefault=e.captionClor,n.captionColorFocused=e.captionClor,n.captionColorHovered=e.captionClor,n.captionColorPressed=e.captionClor,n.captionShiftYpx=1,n.captionFontRatio=.6;var r=t.buildTextButton(n);e.addFrameComponent("closeButton",r,-6,3,"RIGHT_TOP")},e}},933:(e,t,n)=>{n(633);var r=n(722);e.exports.getStyle=function(e,t){var n={titleBar:{greenButton:"maximize"}},o=n;return t&&r.objectAssign(n,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";"fullscreen"===o.titleBar.greenButton&&(r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",a="margin:0px;padding:0px;width:10px;height:10px",s=document.createElement("img");s.src=r,s.setAttribute("style",a);var l=document.createElement("img");l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",l.setAttribute("style",a);var d=document.createElement("img");d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",d.setAttribute("style",a);var c=document.createElement("img");c.src=n,c.setAttribute("style",a);var u=document.createElement("img");u.src=i,u.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");var m=t.buildImageButtonAppearance();m.imageDefault=u,m.imageHovered=c,m.imagePressed=c,m.imageFocused=u,m.size=10,m.borderRadius=5,m.borderWidth=1,m.borderColorDefault="#c6c6c6",m.borderColorFocused="#d3524e",m.borderColorHovered=m.borderColorFocused,m.borderColorPressed="#e64842",m.borderStyleDefault="solid",m.borderStyleFocused=m.borderStyleDefault,m.borderStyleHovered=m.borderStyleDefault,m.borderStylePressed=m.borderStyleDefault,m.backgroundColorDefault="#d0d0d0",m.backgroundColorFocused="#fc615c",m.backgroundColorHovered=m.backgroundColorFocused,m.backgroundColorPressed=m.backgroundColorDefault,m.setSrc({default:i,focused:i,hovered:n,pressed:n});var p=t.buildButton(m),h=8,f=-19,g="LEFT_TOP";e.addFrameComponent(o.closeButtonName||"closeButton",p,h,f,g);var y=t.buildImageButtonAppearance(m);y.borderColorDefault="#c6c6c6",y.borderColorFocused="#e6b347",y.borderColorHovered=y.borderColorFocused,y.borderColorPressed="#e1a12d",y.backgroundColorDefault="#d0d0d0",y.backgroundColorFocused="#fdbe40",y.backgroundColorHovered=y.backgroundColorFocused,y.backgroundColorPressed=y.backgroundColorDefault,y.imageDefault=u,y.imageHovered=d,y.imagePressed=d,y.imageFocused=u;var v=t.buildButton(y),b=t.buildButton(y);b.style.display="none",h=28,f=-19,g="LEFT_TOP",e.addFrameComponent("minimizeButton",v,h,f,g),e.addFrameComponent("deminimizeButton",b,h,f,g);var w=t.buildImageButtonAppearance(m);w.borderColorDefault="#c6c6c6",w.borderColorFocused="#67b657",w.borderColorHovered=w.borderColorFocused,w.borderColorPressed="#00af38",w.backgroundColorDefault="#d0d0d0",w.backgroundColorFocused="#34ca49",w.backgroundColorHovered=w.backgroundColorFocused,w.backgroundColorPressed=w.backgroundColorDefault,w.imageDefault=u,w.imageHovered=s,w.imagePressed=s,w.imageFocused=u;var C=t.buildButton(w),E=t.buildImageButtonAppearance(m);E.borderColorDefault="#c6c6c6",E.borderColorFocused="#67b657",E.borderColorHovered=E.borderColorFocused,E.borderColorPressed="#00af38",E.backgroundColorDefault="#d0d0d0",E.backgroundColorFocused="#34ca49",E.backgroundColorHovered=E.backgroundColorFocused,E.backgroundColorPressed=E.backgroundColorDefault,E.imageDefault=u,E.imageHovered=l,E.imagePressed=l,E.imageFocused=u;var B=t.buildButton(E);B.style.display="none",h=48,f=-19,g="LEFT_TOP",e.addFrameComponent("dezoomButton",B,h,f,g),e.addFrameComponent("zoomButton",C,h,f,g)},e}},726:(e,t,n)=>{var r=n(886);e.exports.getPresetWindow=function(e){var t={appearanceName:"yosemite",appearanceParam:{}},n={};e&&(n=e);var o="fullscreen"===n.maximizeButtonBehavior,i="minimize"===n.minimizeButtonBehavior?"minimizeButton":null,a="hide"===n.minimizeButtonBehavior?"minimizeButton":null,s="hide"===n.closeButtonBehavior?"custom-close-button":null,l=n.control,d=s,c=n.closeButtonName;return o&&(t.appearanceParam.titleBar={greenButton:"fullscreen"}),t.appearanceParam.closeButtonName=d||c||"closeButton",t.setupPresetWindow=function(e){var t={maximizeButton:"zoomButton",maximizeParam:{fullScreen:o,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:i,hideButtons:[a,s],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};l&&r({op:"overwrite-merge",object1:t,object2:l}),e.setControl(t)},t}},243:(e,t,n)=>{var r=n(673);function o(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}o.prototype.set=function(e){var t=this;t.targetFrame=e,t.fromWidth(e.getWidth()),t.fromHeight(e.getHeight()),t.toWidth(e.getWidth()),t.toHeight(e.getHeight());var n=e.getPosition();return t.fromPosition(n.x,n.y,n.anchor),t},o.prototype.get=function(){return this.targetFrame},o.prototype.setDuration=function(e){return this.durationMillis=e,this},o.prototype.setFPS=function(e){return this.fps=e,this},o.prototype.fromPosition=function(e,t,n){var r=this;return r.pinnedAnimationEnabled=!0,r._pinX=e,r._pinY=t,r.toPosition(e,t),n&&(r._pinAnchor=n),r},o.prototype.fromWidth=function(e){return this._crrWidth=e,this},o.prototype.fromHeight=function(e){return this._crrHeight=e,this},o.prototype.toWidth=function(e){return this._toWidth=e,this},o.prototype.toHeight=function(e){return this._toHeight=e,this},o.prototype.fromAlpha=function(e){return this._crrAlpha=e,this},o.prototype.toAlpha=function(e){return this._toAlpha=e,this},o.prototype.ease=function(e){return this._ease=e,this},o.prototype.toPosition=function(e,t){var n=this;return n._toX=e,n._toY=t,n},o.prototype.toX=function(e){return this._toX=e,this},o.prototype.toY=function(e){return this._toY=e,this},o.prototype.start=function(e,t){var n=this,o=n._crrWidth,i=n._crrHeight,a=n._pinX,s=n._pinY,l=n._crrAlpha;return new Promise((function(d,c){var u=parseInt(n.fps*(n.durationMillis/1e3));0==u&&(u=1);var m=(n._toWidth-o)/u,p=(n._toHeight-i)/u,h=(n._toX-a)/u,f=(n._toY-s)/u,g=(n._toAlpha-l)/u;n._ease&&(g/=1.24);var y=n.durationMillis/u,v=0;function b(){var e=new r;e.setIntervalMillis(y),e.setCallback((function(e){if(v==u){var r=n._toWidth,c=n._toHeight,y=a+h*v,b=s+f*v,w=n._toAlpha;n.pinnedAnimationEnabled&&n.targetFrame._setPositionInternally(y,b,n._pinAnchor,r,c),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=w),n.targetFrame.setSize(r,c,!0),n._crrWidth=r,n._crrHeight=c,n._pinX=y,n._pinY=b}if(v==u+1)return e.stopTimer(),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=n._toAlpha),void d(n);if(r=o+m*v,c=i+p*v,y=a+h*v,b=s+f*v,w=l+g*v,n.pinnedAnimationEnabled&&n.targetFrame._setPositionInternally(y,b,n._pinAnchor,r,c),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=w),n.targetFrame.setSize(r,c,!0),0==v){var C=n.targetFrame.parentCanvas;C&&C.getWindow(n.targetFrame.id)&&n.targetFrame.show({requestFocus:t})}v++})),e.startTimer()}if(e){var w=new r;w.setIntervalMillis(e),w.setCallback((function(e){e.stopTimer(),b()})),w.startTimer()}else b()}))},e.exports=o},673:e=>{var t=function(){function e(){var e=this;e._timerId=null,e._isRunning=!1,e._timerInterval=0,e._internalCallback=function(){e._timerMethod&&e._timerMethod(e),e._isRunning&&(clearTimeout(e._timerId),e._timerId=setTimeout(e._internalCallback,e._timerInterval))},e._timerMethod=null}return e.prototype.setCallback=function(e){return this._timerMethod=e,this},e.prototype.setIntervalMillis=function(e){return this._timerInterval=e,this},e.prototype.stopTimer=function(){return this._isRunning=!1,this},e.prototype.startTimer=function(){var e=this;return e._timerInterval>0&&(e._timerId=setTimeout(e._internalCallback,e._timerInterval),e._isRunning=!0),e},e}();e.exports=t},171:e=>{e.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superConstructor=t,e.superClass=t.prototype}},722:e=>{var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return e&&"object"===(void 0===e?"undefined":t(e))&&!Array.isArray(e)}e.exports.objectAssign=function e(t){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!i.length)return t;var s=i.shift();if(r(t)&&r(s))for(var l in s)r(s[l])?(t[l]||Object.assign(t,n({},l,{})),e(t[l],s[l])):Object.assign(t,n({},l,s[l]));return e.apply(void 0,[t].concat(i))}},295:(e,t,n)=>{"use strict";var r=n(243),o=n(76),i=n(886),a=n(94);function s(e){this.eventListenerHelper=new a,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=e,this.isWindowManagerFixed=e.frame.jsFrame.isWindowManagerFixed,e.styleDisplay&&(this.styleDisplay=e.styleDisplay),e.minimizeButton&&(this.minimizeButton=e.minimizeButton),e.deminimizeButton&&(this.deminimizeButton=e.deminimizeButton),e.maximizeButton&&(this.maximizeButton=e.maximizeButton),e.demaximizeButton&&(this.demaximizeButton=e.demaximizeButton),e.hideButton&&(this.hideButton=e.hideButton),e.hideButtons&&(this.hideButtons=e.hideButtons),this.maximizeParam=e.maximizeParam,this.demaximizeParam=e.demaximizeParam,this.minimizeParam=e.minimizeParam,this.deminimizeParam=e.deminimizeParam,this.hideParam=e.hideParam,this.dehideParam=e.dehideParam,e.horizontalAlign&&(this.horizontalAlign=e.horizontalAlign),e.verticalAlign&&(this.verticalAlign=e.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=e.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},e.animation&&(this.animationEnabled=e.animation),e.animationDuration&&(this.animationDuration=e.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}s.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",s.prototype.on=function(e,t){this.eventListeners[e]=t},s.prototype.doMaximize=function(e){var t=this;if("hid"===t.windowMode)throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if("maximized"!==t.windowMode&&"maximizing"!==t.windowMode){t.windowMode="maximizing";var n=t.frame;if(e&&e.matchParent){var r=n.getWindowManager().getParentElement();if(!t.matchParentResizeObserver){var o=new MutationObserver((function(){t.resizeListener()}));o.observe(r,{attributeFilter:[s.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),t.matchParentResizeObserver=o}}else t.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||t.eventListenerHelper.addEventListener(window,"resize",t.resizeListener,{listenerName:"window-resize-listener"});t.saveCurrentWindowStats("maximize_mode"),t.hideTitleBar=!!e&&e.fullScreen,t.hideTitleBar?n.hideAllVisibleFrameComponents():(t.maximizeButton&&n.hideFrameComponent(t.maximizeButton),t.demaximizeButton&&n.showFrameComponent(t.demaximizeButton,t.styleDisplay)),n.setMovable(!1),n.setResizable(!1),e&&e.restoreKey&&(t.restoreKey=e.restoreKey),e&&e.restoreDuration&&(t.restoreDuration=e.restoreDuration),e&&e.restoreCallback&&(t.restoreCallback=e.restoreCallback),t.renderMaximizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,matchParent:!(!e||!e.matchParent)&&e.matchParent})}},s.prototype.renderMaximizedMode=function(e){var t=this,n=t.frame,r=t.loadWindowStats("maximize_mode"),o=0,i=0,a=0,s=0;t.hideTitleBar&&(o=0,i=-r.titleBarHeight);var l=window.innerWidth,d=window.innerHeight;if(e.matchParent){var c=n.getWindowManager().getParentElement();l=c.clientWidth,d=c.clientHeight}t.hideFrameBorder?(a=l,s=d+(t.hideTitleBar?r.titleBarHeight:0)):(a=l-2*r.frameBorderWidthDefault,s=d-2*r.frameBorderWidthDefault+(t.hideTitleBar?r.titleBarHeight:0)),"right"==t.horizontalAlign&&(o=-a),"bottom"==t.verticalAlign&&(i=-s);var u=function(r){var l=r&&r.disableCallback;n.setPosition(o,i),t.hideFrameBorder&&(n.frameBorderWidthDefault=0,n.frameBorderWidthFocused=0,n.htmlElement.style.borderWidth="0px"),n.setSize(a,s,!0),l||(t.hideTitleBar&&(t.restoreKey&&(t.keyListener=function(e){e.code===t.restoreKey&&t.doCommand("restore")}),window.addEventListener("keydown",t.keyListener),n.iframe&&n.iframe.contentWindow.addEventListener("keydown",t.keyListener)),t.windowMode="maximized",e&&e.callback&&e.callback(t.frame,{eventType:"maximized"}),t.eventListeners.maximized&&t.eventListeners.maximized(t.frame,{eventType:"maximized"}))};e&&e.animation?t.animateFrame({frame:n,from:r,to:{left:o,top:i,width:a,height:s},duration:e.duration?e.duration:t.animationDuration,callback:u}):e&&"handleOnResize"===e.caller?u({disableCallback:!0}):u()},s.prototype.getWindowMode=function(){return this.windowMode},s.prototype.doDemaximize=function(e){var t=this,n=t.frame;if("hid"===t.windowMode)throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");t.hasWindowStats("maximize_mode")&&(t.hideTitleBar||(t.maximizeButton&&n.showFrameComponent(t.maximizeButton,t.styleDisplay),t.demaximizeButton&&n.hideFrameComponent(t.demaximizeButton)),t.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,forceShowFrameComponents:t.animationEnabled&&t.hideTitleBar,duration:e&&e.duration?e.duration:null,eventType:"demaximized"}))},s.prototype.handleOnResize=function(){this.renderMaximizedMode({caller:"handleOnResize"})},s.prototype.handleOnVirtualResize=function(){this.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},s.prototype.doMinimize=function(e){var t=this;if("minimized"!==t.windowMode&&"minimizing"!==t.windowMode){t.windowMode="minimizing";var n=t.frame;t.saveCurrentWindowStats("minimize_mode"),n.setResizable(!1),t.renderMinimizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,toWidth:e&&e.toWidth?e.toWidth:null})}},s.prototype.renderMinimizedMode=function(e){var t=this,n=t.frame,r=t.loadWindowStats("minimize_mode"),o=t.getCurrentWindowStats(),i=t.getCurrentWindowStats();i.height=r.titleBarHeight,e&&e.toWidth&&(i.width=e.toWidth);var a=function(){n.setSize(i.width,i.height,!0),t.windowMode="minimized",t.minimizeButton&&n.hideFrameComponent(t.minimizeButton),t.deminimizeButton&&n.showFrameComponent(t.deminimizeButton,t.styleDisplay),e.callback&&e.callback(t.frame,{eventType:"minimized"}),t.eventListeners.minimized&&t.eventListeners.minimized(t.frame,{eventType:"minimized"})};e&&e.animation?t.animateFrame({toAlpha:1,duration:e.duration?e.duration:t.animationDuration,frame:n,from:o,to:i,callback:a}):a()},s.prototype.doDeminimize=function(e){var t=this,n=t.frame;t.hasWindowStats("minimize_mode")&&(t.minimizeButton&&n.showFrameComponent(t.minimizeButton,t.styleDisplay),t.deminimizeButton&&n.hideFrameComponent(t.deminimizeButton),t.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:t.animationEnabled,duration:e&&e.duration?e.duration:null,callback:e&&e.callback?e.callback:null,eventType:"deminimized"}))},s.prototype.doHide=function(e){var t=this;if("hid"!==t.windowMode&&"hiding"!==t.windowMode){t.windowMode="hiding";var n=t.frame;t.saveCurrentWindowStats("hide_mode"),n.setResizable(!1);var r={animation:t.animationEnabled};e&&i({op:"overwrite-merge",object1:r,object2:e}),t.renderHideMode(r)}},s.prototype.renderHideMode=function(e){var t=this,n=t.frame,r=t.loadWindowStats("hide_mode"),i=t.getCurrentWindowStats(),a={x:0,y:0},s=e.toElement;e.offset&&(a=e.offset);var l=0,d=0,c=e&&e.align?e.align:"LEFT_TOP";if(c&&o.LEFT_TOP!=c){if(o.HCENTER_TOP==c)l=i.left+i.width/2,d=i.top;else if(o.RIGHT_TOP==c)l=i.left+i.width,d=i.top;else if(o.LEFT_VCENTER==c)l=i.left,d=i.top+i.height/2;else if(o.HCENTER_VCENTER==c)l=i.left+i.width/2,d=i.top+i.height/2;else if(o.RIGHT_VCENTER==c)l=i.left+i.width,d=i.top+i.height/2;else if(o.LEFT_BOTTOM==c)l=i.left,d=i.top+i.height;else if(o.HCENTER_BOTTOM==c)l=i.left+i.width/2,d=i.top+i.height;else if(o.RIGHT_BOTTOM==c)l=i.left+i.width,d=i.top+i.height;else if("ABSOLUTE"==c)if(s){var u=s.getBoundingClientRect();t.isWindowManagerFixed?(l=u.left,d=u.top):(l=u.left+window.pageXOffset,d=u.top+window.pageYOffset)}else l=a.x,d=a.y}else l=i.left,d=i.top;var m={left:l,top:d,width:0,height:r.titleBarHeight},p=function(){n.setSize(m.width,m.height,!0),t.windowMode="hid",e&&e.callback&&e.callback(t.frame,{eventType:"hid"}),t.eventListeners.hid&&t.eventListeners.hid(t.frame,{eventType:"hid"})};n.hideAllVisibleFrameComponents(),e&&e.animation?t.animateFrame({fromAlpha:e.silent?0:1,toAlpha:0,ease:!0,duration:e.duration?e.duration:t.animationDuration,frame:n,from:i,to:m,callback:p}):p()},s.prototype.doDehide=function(e){var t=this;t.frame,t.hasWindowStats("hide_mode")&&t.restoreWindow({duration:e&&e.duration?e.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:t.animationEnabled,forceShowFrameComponents:!0,callback:e&&e.callback?e.callback:null,eventType:"dehided"})},s.prototype.loadWindowStats=function(e){return this.statsStore[e]},s.prototype.saveCurrentWindowStats=function(e){var t=this,n=t.getCurrentWindowStats();if(t.hasWindowStats(e)){var r=t.loadWindowStats(e),o=!t.windowStatsEquals(n,r);return o&&(t.statsStore[e]=n),o}return t.statsStore[e]=n,!0},s.prototype.windowStatsEquals=function(e,t){return!(!e||!t)&&JSON.stringify(e)===JSON.stringify(t)},s.prototype.clearWindowStats=function(e){this.statsStore[e]=null},s.prototype.hasWindowStats=function(e){return this.statsStore[e]},s.prototype.getCurrentWindowStats=function(){var e=this.frame,t=parseInt(e.titleBar.style.height,10),n=e.frameBorderWidthDefault,r=e.frameBorderWidthFocused;return{left:e.getLeft(),top:e.getTop(),width:e.getWidth(),height:e.getHeight(),titleBarHeight:t,frameBorderWidthDefault:n,frameBorderWidthFocused:r,resizable:e.resizable,movable:e.movable}},s.prototype.restoreWindow=function(e){var t=this,n=t.frame,r=t.loadWindowStats(e.restoreMode),o=t.getCurrentWindowStats();n.frameBorderWidthDefault=r.frameBorderWidthDefault,n.frameBorderWidthFocused=r.frameBorderWidthFocused,n.htmlElement.style.borderWidth=n.frameBorderWidthFocused;var i=function(){e&&0==e.restorePosition&&(r.left=o.left,r.top=o.top),n.setPosition(r.left,r.top),n.setSize(r.width,r.height,!0),n.setResizable(r.resizable),n.setMovable(r.movable),t.clearWindowStats(e.restoreMode),t.keyListener&&(window.removeEventListener("keydown",t.keyListener),n.iframe&&n.iframe.contentWindow.removeEventListener("keydown",t.keyListener),t.keyListener=null),t.windowMode="default",e&&e.forceShowFrameComponents&&n.showAllVisibleFrameComponents(),n.show();var i="restored";e&&e.eventType&&(i=e.eventType),e&&e.callback&&e.callback(t.frame,{eventType:i}),t.eventListeners[i]&&t.eventListeners[i](t.frame,{eventType:i})};e&&e.animation?t.animateFrame({duration:e.duration?e.duration:t.animationDuration,frame:n,fromAlpha:0,toAlpha:1,from:o,to:r,callback:i}):i(),t.eventListenerHelper.removeEventListener(window,"resize",t.resizeListener),t.matchParentResizeObserver&&(t.matchParentResizeObserver.disconnect(),t.matchParentResizeObserver=null)},s.prototype.animateFrame=function(e){var t=isNaN(e.fromAlpha)?1:e.fromAlpha,n=e.from,o=e.to;(new r).set(e.frame).setDuration(e.duration?e.duration:this.animationDuration).fromPosition(n.left,n.top,"LEFT_TOP").toPosition(o.left,o.top,"LEFT_TOP").fromWidth(n.width).fromHeight(n.height).toWidth(o.width).toHeight(o.height).fromAlpha(t).toAlpha(0==e.toAlpha?0:1).ease(e.ease).start(0,!1).then((function(t){e.callback()}))},s.prototype.doCommand=function(e,t){var n=this;"maximize"===e&&n._defaultFunctionMaximize(n.frame),"demaximize"===e&&n._defaultFunctionDemaximize(n.frame),"restore"===e&&n._defaultFunctionRestoreFromFullscreen(n.frame),"minimize"===e&&n._defaultFunctionMinimize(n.frame),"deminimize"===e&&n._defaultFunctionDeminimize(n.frame),"hide"===e&&n._defaultFunctionHide(n.frame),"dehide"===e&&n._defaultFunctionDehide(n.frame)},s.prototype._defaultFunctionMaximize=function(e,t){var n=this.opts,r={fullScreen:!0===n.maximizeWithoutTitleBar,restoreKey:n.restoreKey?n.restoreKey:"Escape",restoreDuration:n.restoreDuration};this.maximizeParam&&i({op:"overwrite-merge",object1:r,object2:this.maximizeParam}),e.control.doMaximize(r)},s.prototype._defaultFunctionDemaximize=function(e,t){e.control.doDemaximize({})},s.prototype._defaultFunctionRestoreFromFullscreen=function(e,t){var n=this;e.control.doDemaximize({duration:n.restoreDuration?n.restoreDuration:null,callback:n.restoreCallback?n.restoreCallback:null})},s.prototype._defaultFunctionMinimize=function(e,t){e.control.doMinimize(this.minimizeParam)},s.prototype._defaultFunctionDeminimize=function(e,t){e.control.doDeminimize(this.deminimizeParam)},s.prototype._defaultFunctionHide=function(e,t){var n={align:"CENTER_BOTTOM"};this.hideParam&&(n=this.hideParam),e.control.doHide(n)},s.prototype._defaultFunctionDehide=function(e,t){e.control.doDehide(this.dehideParam)},s.prototype.setupDefaultEvents=function(){var e=this;if(e.maximizeButton&&e.frame.on(e.maximizeButton,"click",e._defaultFunctionMaximize.bind(e)),e.demaximizeButton&&e.frame.on(e.demaximizeButton,"click",e._defaultFunctionDemaximize.bind(e)),e.minimizeButton&&e.frame.on(e.minimizeButton,"click",e._defaultFunctionMinimize.bind(e)),e.deminimizeButton&&e.frame.on(e.deminimizeButton,"click",e._defaultFunctionDeminimize.bind(e)),e.hideButton&&e.frame.on(e.hideButton,"click",e._defaultFunctionHide.bind(e)),e.hideButtons)for(var t in e.hideButtons){var n=e.hideButtons[t];n&&e.frame.on(n,"click",e._defaultFunctionHide.bind(e))}},e.exports=s}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,n(138)})(),e.exports=t()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";var e=n(633);class t{static createWordReviewButtons(e){const n=e.quiz;if(null==n)return"";const r=n.id,o=n.review,i=`<div id="diqt-dict-review-btn-wrapper-${r}">${t.createReviewBtnHtml(n,o)}</div>`,a=e.reversed_quiz;if(null==a)return i;const s=a.id,l=a.review;return i+`<div id="diqt-dict-review-btn-wrapper-${s}">${t.createReviewBtnHtml(a,l)}</div>`+`<div style="text-align: left; margin-bottom: 16px;"><a href="https://abundant-galliform-71d.notion.site/1e0234a0842b80c4adc4ccc065620438" target="_blank" rel="noopener" class="diqt-dict-review-help-link"><i class="fal fa-question-circle" style="margin-right: 4px;"></i>${chrome.i18n.getMessage("reviewHelpLink")}</a></div>`}static createSentenceReviewButtons(e){const n=e.quiz;if(null==n)return console.log("quiz is null"),"";const r=n.review,o=`<div id="diqt-dict-review-btn-wrapper-${n.id}">${t.createReviewBtnHtml(n,r)}</div>`,i=e.reversed_quiz;if(null==i)return console.log("reversedQuiz is null"),o;const a=i.review;return o+`<div id="diqt-dict-review-btn-wrapper-${i.id}">${t.createReviewBtnHtml(i,a)}</div><div style="text-align: left; margin-bottom: 8px;"><a href="https://abundant-galliform-71d.notion.site/1e2234a0842b8057a70ec995b5306ec7" target="_blank" rel="noopener" class="diqt-dict-review-help-link"><i class="fal fa-question-circle" style="margin-right: 4px;"></i>このボタンは何？</a></div>`}static createReviewBtnHtml(e,n){const r=e.id,o=t.reviewLabel(e);return n?`<button class="diqt-dict-review-btn diqt-already-set" id="diqt-dict-review-edit-btn-${r}" style="font-weight: bold;"><i class="far fa-alarm-clock" style="margin-right: 4px;"></i>${chrome.i18n.getMessage("reviewFor",t.reviewInterval(n.interval_setting))}</button>\n            <div class="diqt-dict-review-form" id="diqt-dict-review-form-${r}"></div>`:`<button class="diqt-dict-review-btn" id="diqt-dict-review-create-btn-${r}" style="font-weight: bold;"><i class="far fa-alarm-clock" style="margin-right: 4px;"></i>${o}</button>`}static reviewLabel(e){return null!=e.word_id?chrome.i18n.getMessage("wordReviewLabel"):null!=e.reversed_word_id?chrome.i18n.getMessage("reversedWordReviewLabel"):null!=e.sentence_id?e.lang_number_of_question==e.lang_number_of_answer?chrome.i18n.getMessage("listeningSentenceReviewLabel"):chrome.i18n.getMessage("sentenceReviewLabel"):null!=e.reversed_sentence_id?chrome.i18n.getMessage("reversedSentenceReviewLabel"):chrome.i18n.getMessage("remember")}static setEventsToReviewButtons(e){const n=e.quiz;if(null!=n){const e=n.review;t.setEventToReviewBtn(n,e)}const r=e.reversed_quiz;if(null!=r){const e=r.review;t.setEventToReviewBtn(r,e)}const o=e.sentence;if(null==o)return;const i=o.quiz;if(null!=i){const e=i.review;t.setEventToReviewBtn(i,e)}const a=o.reversed_quiz;if(null!=a){const e=a.review;t.setEventToReviewBtn(a,e)}}static setEventToReviewBtn(e,n){n?t.editReviewSetting(e,n):t.createReviewSetting(e)}static setSignInToReviewBtn(e){const t=e.id,n=document.querySelector(`#not-logged-in-review-btn-${t}`);n&&n.addEventListener("click",(function(){return chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{})),!0}))}static renderReviewForm(e,n){const r=e.id;document.querySelector("#diqt-dict-review-form-"+r).innerHTML=t.reviewFormHtml(n),t.addEventToForm(e,n)}static reviewFormHtml(e){const n=e.quiz_id;return`\n        <div class="boqqs-dict-reminder-status">\n        <p>${chrome.i18n.getMessage("reviewScheduledDate")}：${e.scheduled_date}</p>\n        <p>${chrome.i18n.getMessage("reviewInterval")}：${chrome.i18n.getMessage("reviewFor",t.reviewInterval(e.interval_setting))}</p>  \n        <button class="diqt-dict-destroy-review-btn" id="diqt-dict-destroy-review-btn-${n}"><i class="far fa-trash"></i> ${chrome.i18n.getMessage("destroyReview")}</button>\n        </div>      \n<div class="diqt-dict-select-form cp_sl01">\n<select id="diqt-dict-select-form-${n}" required>\n\t${t.createOptions(e)}\n</select>\n</div>\n<button class="diqt-dict-submit-review-btn" id="diqt-dict-update-review-btn-${n}">${chrome.i18n.getMessage("setReview")}</button>\n<div class="diqt-dict-recommend-premium" id="diqt-dict-recommend-premium-${n}"></div>`}static reviewInterval(e){let t="";switch(e=Number(e)){case 0:t=chrome.i18n.getMessage("tomorrow");break;case 1:t=chrome.i18n.getMessage("after3Days");break;case 2:t=chrome.i18n.getMessage("afterAWeek");break;case 3:t=chrome.i18n.getMessage("after2Week");break;case 4:t=chrome.i18n.getMessage("after3Week");break;case 5:t=chrome.i18n.getMessage("afterAMonth");break;case 6:t=chrome.i18n.getMessage("after2Month");break;case 7:t=chrome.i18n.getMessage("after3Month");break;case 8:t=chrome.i18n.getMessage("after6Month");break;case 9:t=chrome.i18n.getMessage("afterAYear")}return t}static createOptions(e){let n=0;e.interval_setting&&(n=Number(e.interval_setting));let r="";for(let o=0;o<10;o++){let i="";0!=o&&"false"==e.premium&&(i="🔒 "),r+=o==n?`<option value="${o}" selected>${i}${chrome.i18n.getMessage("reviewFor",t.reviewInterval(o))}</option>`:`<option value="${o}">${i}${chrome.i18n.getMessage("reviewFor",t.reviewInterval(o))}</option>`}return r}static addEventToForm(e,n){t.updateReviewSetting(e,n),t.destroyReviewSetting(e,n)}static createReviewSetting(e){const n=e.id,r=document.querySelector(`#diqt-dict-review-create-btn-${n}`);r&&r.addEventListener("click",(function(){r.disabled=!0,r.textContent=chrome.i18n.getMessage("nowSetting");const o=chrome.runtime.connect({name:"createReview"});o.postMessage({action:"createReview",quizId:n}),o.onMessage.addListener((function(o){r.disabled=!1;const i=o.data;if("401"==i.status)return void(r.textContent=i.message);const a=i.review,s=t.createReviewBtnHtml(e,a,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${n}`).innerHTML=s,t.editReviewSetting(e,a),!0}))}))}static editReviewSetting(e,n){const r=e.id,o=document.querySelector(`#diqt-dict-review-edit-btn-${r}`);o&&o.addEventListener("click",(function(){t.renderReviewForm(e,n)}))}static updateReviewSetting(e,n){const r=e.id,o=document.querySelector("#diqt-dict-update-review-btn-"+r);o.addEventListener("click",(function(){o.disabled=!0,o.textContent=chrome.i18n.getMessage("nowSetting");const i=document.querySelector("#diqt-dict-select-form-"+r).value,a=chrome.runtime.connect({name:"updateReview"});a.postMessage({action:"updateReview",reviewId:n.id,settingNumber:i}),a.onMessage.addListener((function(n){o.disabled=!1;const i=n.data;if("401"==i.status)return void(o.textContent=i.message);const a=i.review,s=t.createReviewBtnHtml(e,a,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${r}`).innerHTML=s,t.editReviewSetting(e,a),!0}))}))}static destroyReviewSetting(e,n){const r=e.id,o=document.querySelector(`#diqt-dict-destroy-review-btn-${r}`);o.addEventListener("click",(function(){o.disabled=!0,o.textContent=chrome.i18n.getMessage("nowSetting");const i=chrome.runtime.connect({name:"destroyReview"});i.postMessage({action:"destroyReview",reviewId:n.id}),i.onMessage.addListener((function(n){if(o.disabled=!1,"401"==n.data.status)return void(o.textContent="401 error");const i=t.createReviewBtnHtml(e,null,"loggedIn");return document.querySelector(`#diqt-dict-review-btn-wrapper-${r}`).innerHTML=i,t.createReviewSetting(e),!0}))}))}}const r=chrome.i18n.getUILanguage().split("-")[0],o=`https://www.diqt.net/${["ja","en"].includes(r)?r:"ja"}/plans/premium`;class i{static addTranslationButtons(e,t,n,r){n!=r?(e.innerHTML=i.createTranslationHtml(n,r),i.setEventsToTranslation(e,t,n,r)):e.innerHTML=""}static createTranslationHtml(e,t){return e==t?"":`<div class="small-translation-buttons">\n                    <span class="diqt-google-translation-btn-wrapper">\n                        <a class="diqt-google-translation-btn">${chrome.i18n.getMessage("googleTranslation")}</a>\n                    </span>\n                    <span> / </span>\n                    <span class="diqt-deepl-translation-btn-wrapper">\n                        <a class="diqt-deepl-translation-btn">${chrome.i18n.getMessage("deepLTranslation")}</a>\n                    </span>\n                    <div class="diqt-google-translation-form"></div>\n                    <div class="diqt-deepl-translation-form"></div>\n                </div>`}static setEventsToTranslation(e,t,n,r){if(n==r)return!0;const i=e.querySelector(".diqt-google-translation-btn"),a=e.querySelector(".diqt-google-translation-btn-wrapper"),s=e.querySelector(".diqt-google-translation-form");i.addEventListener("click",(function(){a.innerHTML=`<span>${chrome.i18n.getMessage("translating")}</span>`;const e=chrome.runtime.connect({name:"googleTranslation"});e.postMessage({action:"googleTranslation",keyword:t,sourceLangNumber:n,targetLangNumber:r}),e.onMessage.addListener((function(e){const t=e.data;if(a.innerHTML=`<span>${chrome.i18n.getMessage("translated")}</span>`,"200"==t.status){const e=`<p class="diqt-translation-service">${chrome.i18n.getMessage("googleTranslation")}：</p>\n                    <p class="diqt-translation-results">${t.translation}</p>`;s.innerHTML=e}else s.innerHTML=`<a href="${o}" target="_blank" rel="noopener" style="font-size: 14px; color: #27ae60; font-weight: bold;">${t.message}</a>`;return!0}))}));const l=e.querySelector(".diqt-deepl-translation-btn"),d=e.querySelector(".diqt-deepl-translation-btn-wrapper"),c=e.querySelector(".diqt-deepl-translation-form");l.addEventListener("click",(function(){d.innerHTML=`<span>${chrome.i18n.getMessage("translating")}</span>`;const e=chrome.runtime.connect({name:"deeplTranslation"});e.postMessage({action:"deeplTranslation",keyword:t,sourceLangNumber:n,targetLangNumber:r}),e.onMessage.addListener((function(e){const t=e.data;if(d.innerHTML=`<span>${chrome.i18n.getMessage("translated")}</span>`,"200"==t.status){const e=`<p class="diqt-translation-service">${chrome.i18n.getMessage("deepLTranslation")}：</p>\n                    <p class="diqt-translation-results">${t.translation}</p>`;c.innerHTML=e}else c.innerHTML=`<a href="${o}" target="_blank" rel="noopener" style="font-size: 14px; color: #27ae60; font-weight: bold;">${t.message}</a>`;return!0}))}))}}const a=chrome.i18n.getUILanguage().split("-")[0],s=["ja","en"].includes(a)?a:"ja",l="ja"==s?44:21,d=`https://www.diqt.net/${s}`;class c{static createHtml(e){const n=e.sentence;if(null==n)return"";const r=c.createContentHtml(n),o=t.createSentenceReviewButtons(n),i=`${d}/sentences/${n.id}`;return'<div class="diqt-dict-sentence-wrapper">'+r+o+f.liknToEditHtml(i,chrome.i18n.getMessage("editSentence"))+"</div>"}static setEventsToSentenceTranslation(e){if(0==c.sentenceTranslationButtonDisplayed(e))return!1;const t=document.getElementById(`sentence-translation-buttons-sentence-${e.id}`);i.addTranslationButtons(t,e.original,e.lang_number_of_original,l)}static createContentHtml(e){return`<div class="diqt-dict-sentence-content-wrapper">\n        <div class="diqt-dict-sentence-content">\n        <div class="diqt-dict-sentence-text">${f.markNotation(e.original)}</div>\n                          <div id="sentence-translation-buttons-sentence-${e.id}"></div>\n        ${c.createTranslationHtml(e)}\n        </div>\n        ${c.createAudioButton(e)}\n        </div>`}static createAudioButton(e){return null==e.original_audio_url||""==e.original_audio_url?"":`<button class="diqt-dict-speech-btn" value="${e.original_audio_url}"><i class="fas fa-volume-up"></i></button>`}static createTranslationHtml(e){return e.lang_number_of_original==e.lang_number_of_translation?"":`<div class="diqt-dict-sentence-text">${e.translation}</div>`}static sentenceTranslationButtonDisplayed(e){return null!=e&&e.lang_number_of_original!=l&&(e.lang_number_of_original==e.lang_number_of_translation||e.lang_number_of_translation!=l)}}const u=chrome.i18n.getUILanguage().split("-")[0],m=["ja","en"].includes(u)?u:"ja",p="ja"==m?44:21,h=`https://www.diqt.net/${m}`;class f{static createWordHtml(e){const n=`${h}/words/${e.id}`;return`<div class="diqt-dict-entry">\n                            <span>${e.entry}</span><button class="diqt-dict-speech-btn" value="${e.entry_audio_url}"><i class="fas fa-volume-up"></i></button>\n                        </div>`+f.createPronunciation(e)+f.createPos(e)+`<div class="diqt-dict-meaning">${f.markNotation(e.meaning)}</div>\n                        <div id="meaning-translation-buttons-word-${e.id}"></div>`+t.createWordReviewButtons(e)+c.createHtml(e)+f.liknToEditHtml(n,chrome.i18n.getMessage("editWord"))+'<div style="width: 100%; height: 24px;"></div>'}static createPronunciation(e){return 44==e.lang_number_of_entry?`<div class="diqt-dict-pronunciation">${e.reading}</div>`:`<div class="diqt-dict-pronunciation">${e.ipa}</div>`}static createPos(e){return null!=e.pos_tag?`<div class="diqt-item-label">${e.pos_tag.name}</div>`:null!=e.pos&&""!=e.pos?`<div class="diqt-item-label">${e.pos}</div>`:""}static setEventsToMeaningTranslation(e){const t=document.getElementById(`meaning-translation-buttons-word-${e.id}`);i.addTranslationButtons(t,e.meaning,e.lang_number_of_meaning,p)}static liknToEditHtml(e,t){return`<div style="display: flex;">\n                    <a href="${e+"/edit"}" target="_blank" rel="noopener" class="diqt-dict-link-to-edit" style="margin-top: 0; margin-bottom: 8px; padding-top: 0; padding-bottom: 0;"><i class="fal fa-edit"></i> ${t}</a>\n                    <a href="${e}" target="_blank" rel="noopener" class="diqt-dict-link-to-edit" style="margin-left: auto; margin-top: 0; margin-bottom: 8px; padding-top: 0; padding-bottom: 0;"><i class="fal fa-external-link" style="margin-right: 4px;"></i>${chrome.i18n.getMessage("details")}</a>\n                </div>`}static setEventsToWord(e){f.setEventsToMeaningTranslation(e),t.setEventsToReviewButtons(e);const n=e.sentence;c.setEventsToSentenceTranslation(n)}static notFoundFormHtml(e,t){return`<div class="diqt-dict-meaning" style="margin: 24px 0;">${chrome.i18n.getMessage("noWordFound",[e])}</div><a href="${h}/words/new?dictionary_id=${t.id}&text=${e}" target="_blank" rel="noopener" style="text-decoration: none;">\n                <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("addWord")}</div></a><a href="https://www.google.com/search?q=${e}+${chrome.i18n.getMessage("meaning")}&oq=${e}+${chrome.i18n.getMessage("meaning")}"" target="_blank" rel="noopener" style="text-decoration: none;">\n            <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("searchByWeb")}</div></a>`}static newWordHtml(e,t){return`<a href="${h}/words/new?dictionary_id=${t.id}&text=${e}" target="_blank" rel="noopener" style="text-decoration: none;">\n                <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("addWord")}</div></a><a href="https://www.google.com/search?q=${e}+${chrome.i18n.getMessage("meaning")}&oq=${e}+${chrome.i18n.getMessage("meaning")}"" target="_blank" rel="noopener" style="text-decoration: none;">\n            <div class="diqt-dict-review-btn" style="font-weight: bold;">${chrome.i18n.getMessage("searchByWeb")}</div></a>`}static markNotation(e){const t=e.replace(/\r?\n/g,"<br>").split(/(\[{2}.*?\]{2})/);let n=[];return t.forEach((function(e,t,r){if(null==e.match(/\[{2}.+\]{2}/))n.push(e);else{let t;t=null==(e=(e=e.replace(/\[{2}/g,"").replace(/\]{2}/g,"")).split(/\|/,2))[1]?`<a class="diqt-notation-link" data-value="${e[0]}">${e[0]}</a>`:`<a class="diqt-notation-link" data-value="${e[1]}">${e[0]}</a>`,n.push(t)}})),n.join("")}static activateClickSearch(e){const t=e.querySelectorAll(".diqt-notation-link"),n=document.querySelector("#diqt-dict-search-form");t.forEach((function(e){e.addEventListener("click",(function(e){const t=e.target.dataset.value;return n.value!=t&&(n.value=t,f.searchWord(t)),!1}))}))}static enableTTS(e){const t=e.querySelectorAll(".diqt-dict-speech-btn");speechSynthesis.getVoices(),t.forEach((function(e){e.addEventListener("click",(function(t){if(""==e.value){speechSynthesis.cancel();const t=e.previousElementSibling.textContent,n=new SpeechSynthesisUtterance,r=speechSynthesis.getVoices().find((function(e){return"Samantha"===e.name}));return n.voice=r,n.lang="en-US",n.volume=1,n.rate=1,n.pitch=1,n.text=t,speechSynthesis.speak(n),!1}console.log("Sending message to background.js:",e.value),chrome.runtime.sendMessage({action:"playAudio",url:e.value},(e=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):console.log("Audio play response:",e)}))}))}))}}const g=chrome.i18n.getUILanguage().split("-")[0],y=`https://www.diqt.net/${["ja","en"].includes(g)?g:"ja"}/plans/premium`,v=["explain_meaning","explain_usage","explain_example","explain_synonym","explain_antonym","explain_conjugation","explain_etymology","explain_grammar","proofread_sentence"];class b{static addAISearchForm(e,t){const n=document.querySelector("#diqt-dict-ai-search-wrapper");chrome.storage.local.get(["selectedPromptKey"],(function(r){let o=r.selectedPromptKey;0==v.includes(o)&&(o=v[0],chrome.storage.local.set({selectedPromptKey:o}));const i=b.createOptionsHtml(o);n.innerHTML=i,b.setEventsToAISearchForm(e,t)}))}static setEventsToAISearchForm(e,t){const n=document.querySelector("#diqt-dict-ai-search-submit-button");n.addEventListener("click",(function(){n.disabled=!0;const r=document.querySelector("#diqt-dict-prompt-select-form").value;chrome.storage.local.set({selectedPromptKey:r},(function(){console.log("Value is set to "+r)})),n.textContent=chrome.i18n.getMessage("asking");const o=document.querySelector("#diqt-dict-ai-search-results");o.innerHTML='<div class="center"><div class="lds-ripple-diqt-dict"><div></div><div></div></div></div>';const i=chrome.runtime.connect({name:"aiSearch"});i.postMessage({action:"aiSearch",keyword:e,sourceLangNumber:t.lang_number_of_entry,targetLangNumber:t.lang_number_of_meaning,promptKey:r,version:3}),i.onMessage.addListener((function(e){n.disabled=!1,n.textContent=chrome.i18n.getMessage("askAI");const t=e.data;if("200"==t.status){const e=t.ai_searcher.results.replace(/\n/g,"<br>"),n=b.camelCase(r);o.innerHTML=`<div id="diqt-dict-prompt-key">${chrome.i18n.getMessage(n)}:</div>\n                                         <div id="diqt-dict-ai-search-results">${e}</div>`}else o.innerHTML=`<a href="${y}" target="_blank" rel="noopener" style="font-size: 14px; color: #27ae60; font-weight: bold;">${t.message}</a>`}))}))}static createOptionsHtml(e){return`<div class="diqt-dict-select-form cp_sl01">\n                    <select id="diqt-dict-prompt-select-form" required>\n                        ${v.map((t=>b.optionHtml(t,e))).join("")}\n                    </select>\n                </div>\n                <button class="diqt-dict-submit-review-btn" id="diqt-dict-ai-search-submit-button">${chrome.i18n.getMessage("askAI")}</button>\n                <div id="diqt-dict-ai-search-results"></div>`}static optionHtml(e,t){const n=b.camelCase(e);return`<option value="${e}" ${t==e?"selected":""}>${chrome.i18n.getMessage(n)}</option>`}static camelCase(e){return e.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))}}class w{static inilialize(){const e=document.querySelector("#diqt-dict-search-form");w.mouseupSearch(),w.searchViaForm(e),w.preventEnter(e),w.searchSelectedText()}static mouseupSearch(){document.addEventListener("mouseup",(function(e){w.searchSelectedText(),e.stopPropagation()}),!1)}static searchSelectedText(){const e=window.getSelection().toString(),t=document.querySelector("#diqt-dict-extension-wrapper");if(t&&t.contains(window.getSelection().anchorNode))return;const n=document.querySelector("#diqt-dict-search-keyword");let r;if(r=n?n.textContent:"",e.length>=1e3)document.querySelector("#search-diqt-dict-results").innerHTML=`<p style="color: #EE5A5A; font-size: 12px;">${chrome.i18n.getMessage("searchLimit")}</p>`;else if(""!=e&&r!=e&&e.length<1e3){const t=document.querySelector("#diqt-dict-search-form");t&&(t.value=e,w.searchWord(e))}}static searchViaForm(e){e.addEventListener("keyup",(function(){const t=e.value,n=document.querySelector("#diqt-dict-search-keyword").textContent;setTimeout((()=>{const e=document.querySelector("#diqt-dict-search-form").value;t==e&&t!=n&&t.length<1e3?w.searchWord(t):t.length>=1e3&&(document.querySelector("#search-diqt-dict-results").innerHTML=`<p style="color: #EE5A5A; font-size: 12px;">${chrome.i18n.getMessage("searchLimit")}</p>`)}),500)}))}static preventEnter(e){e.addEventListener("keydown",(function(e){"Enter"==e.key&&e.preventDefault()}))}static searchWord(e){let t;document.querySelector("#diqt-dict-search-keyword").textContent=e,w.switchLoading(),t=e.length>50?encodeURIComponent(e.slice(0,50)):encodeURIComponent(e);const n=chrome.runtime.connect({name:"search"});n.postMessage({action:"search",keyword:t}),n.onMessage.addListener((function(t){const n=t.data,r=n.dictionary;return w.renderSearchInfo(r,e),w.searchSuccess(n),!0}))}static switchLoading(){document.querySelector("#diqt-dict-keyword-translation-wrapper").innerHTML="",document.querySelector("#diqt-dict-ai-search-wrapper").innerHTML="",document.querySelector("#search-diqt-dict-results").innerHTML='<div class="center"><div class="lds-ripple-diqt-dict"><div></div><div></div></div></div>'}static search(){const e=document.querySelector("#diqt-dict-search-form").value;w.searchWord(e)}static searchSuccess(e){const t=document.querySelector("#search-diqt-dict-results");t.innerHTML="";const n=e.words,r=e.dictionary;if(null!=n){n.forEach((function(e,n,r){const o=f.createWordHtml(e);t.insertAdjacentHTML("beforeend",o),f.setEventsToWord(e)})),f.activateClickSearch(t),f.enableTTS(t);const e=document.querySelector("#diqt-dict-search-keyword").textContent;n[0].entry!=e?t.insertAdjacentHTML("beforeend",f.notFoundFormHtml(e,r)):t.insertAdjacentHTML("beforeend",f.newWordHtml(e,r))}else if(null==e.status){const e=`<div class="diqt-dict-meaning" style="margin: 24px 0;">${chrome.i18n.getMessage("searchError")}<a id="diqt-dict-option-btn" style="color: #27ae60;">${chrome.i18n.getMessage("searchErrorSolution")}</a></div>`;t.insertAdjacentHTML("afterbegin",e),document.querySelector("#diqt-dict-option-btn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))}else{let e=document.querySelector("#diqt-dict-search-keyword").textContent;e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.length<50&&e.length>0&&t.insertAdjacentHTML("beforeend",f.notFoundFormHtml(e,r))}}static renderSearchInfo(e,t){if(e){const n=document.querySelector("#diqt-dict-keyword-translation-wrapper");i.addTranslationButtons(n,t,e.lang_number_of_entry,e.lang_number_of_meaning),b.addAISearchForm(t,e)}}}function C(){let t=document.getElementById("diqt-dict-extension-wrapper");if(null==t){const n=new e.JSFrame({horizontalAlign:"right"}),r=`\n        <div id="diqt-dict-extension-wrapper">\n        <a>\n        <div id="diqt-dict-logged-in-user" style="font-size: 10px;">Loading...</div>\n        </a>\n        <div id="diqt-dict-dictionary-select-form-wrapper">Loading...</div>\n        <form method="get" action=""><input type="text" name="keyword" id="diqt-dict-search-form" placeholder="${chrome.i18n.getMessage("searchPlaceholder")}"></form>\n        <div id="diqt-dict-search-status">\n            <div>${chrome.i18n.getMessage("searchContent")}:</div>\n            "<span id="diqt-dict-search-keyword"></span>"\n            <div id="diqt-dict-keyword-translation-wrapper"></div>\n            <div id="diqt-dict-ai-search-wrapper"></div>\n        </div>\n        <div id="search-diqt-dict-results"></div>\n        </div>`,o=n.create({name:"diqt-dict-window",title:chrome.i18n.getMessage("ctrlQ"),width:320,height:480,movable:!0,resizable:!0,appearanceName:"material",appearanceParam:{border:{shadow:"2px 2px 10px  rgba(0, 0, 0, 0.5)",width:0,radius:6},titleBar:{name:"diqt-dict-window-bar",color:"white",background:"#273132",leftMargin:16,height:30,fontSize:14,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0}]}},style:{overflow:"auto"},html:r});o.setPosition(-20,100,["RIGHT_TOP"]),o.show(),t=o.$("#diqt-dict-extension-wrapper"),t.parentNode.parentNode.parentNode.parentNode.parentNode.style.zIndex="2147483647",chrome.storage.local.get(["diqtUserPublicUid"],(function(e){e.diqtUserPublicUid?(w.inilialize(),E()):E()}))}else t.parentNode.parentNode.parentNode.parentNode.parentNode.remove()}function E(){const e=chrome.runtime.connect({name:"inspectCurrentUser"});e.postMessage({action:"inspectCurrentUser"}),e.onMessage.addListener((function(e){const t=e.data;return 200==t.status?chrome.storage.local.get(["diqtUserName","diqtDictionaries","diqtSelectedDictionaryId"],(function(e){var t,n,r;t=e.diqtUserName,n=e.diqtDictionaries,r=e.diqtSelectedDictionaryId,document.querySelector("#diqt-dict-logged-in-user").innerHTML=`<i class="fal fa-user"></i> ${t} / ${chrome.i18n.getMessage("settings")}`,document.querySelector("#diqt-dict-dictionary-select-form-wrapper").innerHTML=function(e,t){let n=t;return console.log(n),(""==n||null==n)&&(n=1,chrome.storage.local.set({diqtSelectedDictionaryId:`${n}`})),n=Number(n),console.log(e),`<select id="diqt-dictionary-select-form">\n                ${JSON.parse(e).map((e=>function(e,t){const n=e[0]===t?"selected":"";return console.log(`item[0]: ${e[0]} / item[1]: ${e[1]}`),`<option value="${e[0]}" class="diqt-dictionary-select-option" ${n}>${e[1]}</option>`}(e,n))).join("")}\n            </select>`}(n,r),document.getElementById("diqt-dictionary-select-form").addEventListener("change",(function(e){let t=`${e.currentTarget.value}`;chrome.storage.local.set({diqtSelectedDictionaryId:t}),w.search()}))})):401==t.status?(document.querySelector("#diqt-dict-extension-wrapper").innerHTML=`<p style="font-size: 16px;">${chrome.i18n.getMessage("signInRecommendation")}</p><button class="diqt-dict-submit-review-btn" id="diqt-dict-sign-in-btn">${chrome.i18n.getMessage("signIn")}</button>`,document.querySelector("#diqt-dict-sign-in-btn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))):(document.querySelector("#diqt-dict-logged-in-user").innerHTML='<i class="fal fa-user"></i> Error',document.querySelector("#diqt-dict-dictionary-select-form-wrapper").innerHTML=`<p>${chrome.i18n.getMessage("statusError")}</p>`),!0})),document.querySelector("#diqt-dict-logged-in-user").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"openOptionsPage"}).then((e=>{})).catch((e=>{}))}))}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e){case"Action":C();break;case"Updated":chrome.storage.local.get(["diqtPopupDisplayed"],(function(e){if(!1===e.diqtPopupDisplayed||""===e.diqtPopupDisplayed)return;document.addEventListener("selectionchange",(()=>{const e=document.querySelector("#diqt-dict-extension-wrapper"),t=window.getSelection().toString();let n=document.querySelector("#diqt-dict-popup-to-display-window");if(n&&n.remove(),null==e&&""!=t){const e=window.getSelection().getRangeAt(0),t=document.createRange();if(0==e.endOffset)return;t.setStart(e.endContainer,e.endOffset-1),t.setEnd(e.endContainer,e.endOffset);const r=t.getBoundingClientRect();if(0==r.top&&0==r.left)return;const o=`<button id="diqt-dict-popup-to-display-window" style="position: absolute; width: 32px; height: 32px; background-color: #273132; top: ${window.pageYOffset+r.top+32}px; left: ${window.pageXOffset+r.left}px; z-index: 2147483647; border: 0; border-radius: 4px; padding: 0; margin: 0;">\n                    <img src="https://diqt.s3.ap-northeast-1.amazonaws.com/assets/images/main/diqt_logo.svg" alt="diqt Icon" style="height: 24px;width: 24px; margin: 4px 2px 2px 3px; padding: 0;">\n                    </button>`;document.querySelector("html body").insertAdjacentHTML("beforeend",o),n=document.querySelector("button#diqt-dict-popup-to-display-window"),n.addEventListener("click",(function(){C(),n.remove()}))}}))}))}return!0})),document.addEventListener("keydown",(e=>{e.ctrlKey&&"q"===e.key&&C()}))})()})();